{% extends '@RoadizRozier/layout.html.twig' %}

{% block title %}{% trans %}folders{% endtrans %} | {{ parent() }}{% endblock %}

{% block content %}
<section class="content-global content-nav-and-filters">
    {% include '@RoadizRozier/folders/head.html.twig' with {
        title: 'folders'|trans,
        filters: filters,
        buttons: [{
            label: 'add.a.folder'|trans,
            attributes: {
                href: path('foldersAddPage'),
            },
            icon: 'rz-icon-ri--add-line'
        }]
    } only %}

    {% include "@RoadizRozier/widgets/rz_filters_bar.html.twig" with {
        filters: filters,
        display_select_all_button: false,
    }  only %}
    <article>
        {% embed '@RoadizRozier/includes/rz_table.html.twig' with {
            selection_available: false,
            actions_available: true,
            folders: folders,
        } only %}
            {% block thead_cells %}
                <th>
                    {% include '@RoadizRozier/includes/column_ordering.html.twig' with {
                        'field': 'name',
                        'filters': filters,
                        'label': 'name'|trans,
                        'column_ordering_class': column_ordering_class,
                    } %}
                </th>
            {% endblock %}

            {% block tbody_content %}
                {% for folder in folders %}
                    <tr
                        {{ _self.colored_row_attrs({'color': folder.color }) }}
                    >
                        {% if selection_available %}
                            <td>
                                {% import '@RoadizRozier/macros/rz_bulk.html.twig' as rz_bulk %}
                                {{ rz_bulk.select_input({ value: folder.id }) }}
                            </td>
                        {% endif %}
                        <td>
                            <a href="{{ path('foldersEditPage', { folderId: folder.id }) }}">{{ folder.folderName }}</a>
                        </td>
                        {% if actions_available %}
                            <td>
                                {% embed '@RoadizRozier/includes/rz_table_actions.html.twig' with {
                                    'edit_href': path('foldersEditPage', { folderId: folder.id }),
                                    'delete_href': path('foldersDeletePage', { folderId: folder.id }),
                                } %}
                                    {% block other_actions %}
                                        {{ _self.button({
                                            icon: 'uk-icon-rz-download',
                                            attributes: {
                                                href: path('foldersDownloadPage', { folderId: folder.id }),
                                                title: 'download.folder.content'|trans,
                                            }
                                        }) }}
                                    {% endblock %}
                                {% endembed %}
                            </td>
                        {% endif %}
                    </tr>
                {% endfor %}
            {% endblock %}
        {% endembed %}
    </article>
</section>
{% endblock %}
