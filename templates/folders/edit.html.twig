{% extends '@RoadizRozier/layout.html.twig' %}

{% set folderName = folder.translatedFolders.first.name|default(folder.folderName) %}
{% block title %}{{ "edit.folder.%name%"|trans({'%name%': folderName})|truncate_title }} | {{ parent() }}{% endblock %}

{% block content %}
<section class="content-global edit-folder">
    {% set title = "edit.folder.%name%"|trans({'%name%': folderName})|truncate_title %}
    {% set current = 'edit' %}
    {% if translation and available_translations %}
        {% set title = title~'('~translation.locale~')'%}
        {% set current = 'edit-label' %}
    {% endif %}

    {% include '@RoadizRozier/folders/head.html.twig' with {
        title: title,
        folder: folder,
        translation: translation,
        available_translations: available_translations,
        with_nav_bar: true,
        current: current,
    } only %}

    <article class="content content-edit">
        {% form_theme form '@RoadizRozier/forms.html.twig' %}
        {{ form_start(form, { attr: { id: "edit-folder-form" }}) }}
            {{ form_widget(form) }}
            {% import "@RoadizRozier/macros/rz_actions_menu.html.twig" as actions_menu %}
            {{ actions_menu.saveItem('#edit-folder-form') }}
        {{ form_end(form) }}

        <div class="content-table-cont metadata-list">
            {% embed '@RoadizRozier/includes/rz_table.html.twig' with {
                bordered: true
            } %}
                {% block tbody_content %}
                    <tr>
                        <th>{% trans %}created.at{% endtrans %}</th>
                        <td>{{ folder.createdAt|format_datetime('long', locale=app.request.locale) }}</td>
                    </tr>
                    <tr>
                        <th>{% trans %}updated.at{% endtrans %}</th>
                        <td>{{ folder.updatedAt|format_datetime('long', locale=app.request.locale) }}</td>
                    </tr>
                    <tr>
                        <th>{% trans %}position{% endtrans %}</th>
                        <td>{{ folder.position }}</td>
                    </tr>
                {% endblock %}
            {% endembed %}
        </div>
    </article>

    {% include '@RoadizRozier/folders/actionsMenu.html.twig' with {"folder": folder} only %}
</section>
{% endblock %}
