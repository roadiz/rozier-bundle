{%
set listItems = [
    [
        is_granted('USER_EDIT', user) ? {
            'name': 'edit',
            'label': 'user.edit',
            'href': path('usersEditPage', { id: user.getId }),
        } : null,
        is_granted('USER_EDIT_DETAIL', user) ? {
            'name': 'edit_details',
            'label': 'user.edit_details',
            'href': path('usersEditDetailsPage', { id: user.getId }),
        } : null,
        is_granted('ROLE_ACCESS_USERS') ? {
            'name': 'security',
            'label': 'user.security',
            'href': path('usersSecurityPage', { userId: user.getId }),
        } : null,
        is_granted('ROLE_ACCESS_USERS') ? {
            'name': 'roles',
            'label': 'user.roles',
            'href': path('usersEditRolesPage', { userId: user.getId }),
        } : null,
        is_granted('ROLE_ACCESS_USERS') ? {
            'name': 'groups',
            'label': 'user.groups',
            'href': path('usersEditGroupsPage', { userId: user.getId }),
        } : null,
    ],
    [
        is_granted('USER_VIEW_HISTORY') ? {
            'name': 'history',
            'label': 'user.history',
            'href': path('historyUserPage', { userId: user.getId }),
            'icon': 'rz-icon-ri--history-line',
            'iconOnly': true,
        } : null,
    ]
]
%}
{% set custom_entries_content %}
    {% block additional_entries %}{% endblock %}
{% endset %}

{% embed "@RoadizRozier/macros/rz_menu_bar.html.twig" with {listItems : listItems, current: current} %}
    {% block additional_entries %}
        {{ custom_entries_content|raw }}
    {% endblock %}
{% endembed %}
