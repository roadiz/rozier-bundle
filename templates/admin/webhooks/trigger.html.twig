{% extends '@RoadizRozier/layout.html.twig' %}
{% import "@RoadizRozier/macros/rz_button.html.twig" as rz_button %}

{% set title = "trigger.webhook.%name%"|trans({'%name%': item}) %}

{% block title %}{{ title|truncate_title }}{% endblock %}

{% block content %}
    <section class="content-global">
        {% include '@RoadizRozier/admin/head.html.twig' with {
            title: title,
            breadcrumb: {
                label: 'webhooks-breadcrumb',
                parent: [{
                    label: 'webhooks'|trans,
                    type: 'listing',
                    url: path('webhooksHomePage'),
                }, {
                    label: item.description,
                    url: path('webhooksEditPage', { id: item.getId }),
                }],
                current: title,
            },
        } only %}

        <article class="content content-delete content-no-action-menu">
            {% form_theme form '@RoadizRozier/forms.html.twig' %}
            {{ form_start(form, {
                'attr': {
                    'class': 'rz-form'
                }
            }) }}
            {{ form_widget(form) }}
            <div class="rz-message rz-message--warning rz-form-field__message">
                <p class="rz-message__text">
                    {% trans %}are_you_sure.trigger.webhook{% endtrans %}
                </p>
            </div>
            <div class="rz-button-group rz-button-group--gap-md">
                {{
                    rz_button.root({
                        tagName: 'a',
                        attributes: {
                            href: path('webhooksHomePage'),
                        },
                        emphasis: 'secondary',
                        label: 'cancel',
                        icon: 'rz-icon-ri--corner-down-left-line',
                    })
                }}
                {{
                    rz_button.root({
                        attributes: {
                            type: 'submit',
                        },
                        emphasis: 'primary',
                        label: delete_label|default('delete'),
                        icon: delete_icon|default('rz-icon-ri--space-ship-line'),
                    })
                }}
            </div>
            {{ form_end(form) }}
        </article>
    </section>
{% endblock %}
