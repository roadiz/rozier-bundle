import{F as r}from"./main-BPrMlaF3.js";import"./vue-BqDQd3Vv.js";import"./jquery-DmndgEMa.js";const c=/%([^%]+)%/g;function d(n,t={}){const i=window.RozierConfig?.messages?.[n];return(typeof i=="string"?i:n).replace(c,(s,a)=>{const l=t[a];return l==null?s:String(l)})}class g extends HTMLElement{constructor(){super(),this.lengthIndicator=null,this.lengthIndicator=new r}onInvalid(t){const e=t.target;if(!e)return;e.checkVisibility()||document.querySelector("rz-tablist")?.setTabVisibilityFromElement(e);const o=(document.querySelector(`[for="${e.id}"]`)||e.closest(".rz-form-field__head__label"))?.innerText||"unknown",s=d("form.field.invalid",{label:o});window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:s,status:"danger"}}))}connectedCallback(){this.lengthIndicator?.init(this),this.querySelectorAll("input, textarea, select").forEach(t=>{t.addEventListener("invalid",this.onInvalid)})}disconnectedCallback(){this.lengthIndicator?.dispose(),this.lengthIndicator=null,this.querySelectorAll("input, textarea, select").forEach(t=>{t.removeEventListener("invalid",this.onInvalid)})}}export{g as default};
