const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["DocumentAlignmentWidget-CUmZZQpA.js","RoadizElement-XU473doh.js","DocumentEditDialog-ct28IygL.js","RzAside-M2QJYIrt.js","vue-BqDQd3Vv.js","jquery-DmndgEMa.js","RzBadge-XgGOKtfL.js","Tooltip-BaLNh5dg.js","Popover-BrqRB6W9.js","RzButton-BlmU10Y9.js","RzDrawer-CH0s-xWJ.js","sortable.core.esm-Bjnw44Mn.js","rzCard-D6-3YQl5.js","rzBadge-ki2EcYlY.js","RzEntityThumbnail-DEpK8MMs.js","RzFileUpload-CfUuECAa.js","RzFormField-Bpphh54m.js","RzGeotag-8ZTEYp3l.js","RzLink-Tse26UDW.js","RzMarkdownEditor-BTH_NCEk.js","plugins-DaBpnC88.js","RzNodeTreeContextualMenu-DNOPjvA8.js","RzPopover-C2c8fQuj.js","RzSearch-skumScvz.js","RzToastList-Y-ZVvQuK.js","RzTooltip-9rBdkE5t.js","RzTree-CqGJTUqA.js","TagEditPage-DsDD6pUd.js"])))=>i.map(i=>d[i]);
import{m as us,a as Jo,V as qs,i as Wg,v as r0}from"./vue-BqDQd3Vv.js";import{c as pf,g as Fg,a as Uf}from"./jquery-DmndgEMa.js";var yp={};/*! Copyright 2012, Ben Lin (http://dreamerslab.com/)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 1.0.19
 *
 * Requires: jQuery >= 1.2.3
 */var wp;function o0(){return wp||(wp=1,(function(a){a(jQuery)})(function(a){a.fn.addBack=a.fn.addBack||a.fn.andSelf,a.fn.extend({actual:function(e,r){if(!this[e])throw'$.actual => The jQuery method "'+e+'" you called does not exist';var c={absolute:!1,clone:!1,includeMargin:!1,display:"block"},d=a.extend(c,r),f=this.eq(0),p,g;if(d.clone===!0)p=function(){var O="position: absolute !important; top: -1000 !important; ";f=f.clone().attr("style",O).appendTo("body")},g=function(){f.remove()};else{var b=[],C="",x;p=function(){x=f.parents().addBack().filter(":hidden"),C+="visibility: hidden !important; display: "+d.display+" !important; ",d.absolute===!0&&(C+="position: absolute !important; "),x.each(function(){var O=a(this),F=O.attr("style");b.push(F),O.attr("style",F?F+";"+C:C)})},g=function(){x.each(function(O){var F=a(this),A=b[O];A===void 0?F.removeAttr("style"):F.attr("style",A)})}}p();var S=/(outer)/.test(e)?f[e](d.includeMargin):f[e]();return g(),S}})})),yp}o0();(function(a){var e=function(A,I){typeof I>"u"&&(I={}),this.init(A,I)},r=e.prototype,c,d=["canvas","vml"],f=["oval","spiral","square","rect","roundRect"],p=/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,g=navigator.appVersion.indexOf("MSIE")!==-1&&parseFloat(navigator.appVersion.split("MSIE")[1])===8,b=!!document.createElement("canvas").getContext,C=!0,x=function(Y,I,N){var Y=document.createElement(Y),H;for(H in N)Y[H]=N[H];return typeof I<"u"&&I.appendChild(Y),Y},S=function(A,I){for(var N in I)A.style[N]=I[N];return A},O=function(A,I){for(var N in I)A.setAttribute(N,I[N]);return A},F=function(A,I,N,Y){A.save(),A.translate(I,N),A.rotate(Y),A.translate(-I,-N),A.beginPath()};r.init=function(A,I){typeof I.safeVML=="boolean"&&(C=I.safeVML);try{this.mum=document.getElementById(A)!==void 0?document.getElementById(A):document.body}catch{this.mum=document.body}if(I.id=typeof I.id<"u"?I.id:"canvasLoader",this.cont=x("div",this.mum,{id:I.id}),b)c=d[0],this.can=x("canvas",this.cont),this.con=this.can.getContext("2d"),this.cCan=S(x("canvas",this.cont),{display:"none"}),this.cCon=this.cCan.getContext("2d");else{if(c=d[1],typeof e.vmlSheet>"u"){document.getElementsByTagName("head")[0].appendChild(x("style")),e.vmlSheet=document.styleSheets[document.styleSheets.length-1];var N=["group","oval","roundrect","fill"],Y;for(Y in N)e.vmlSheet.addRule(N[Y],"behavior:url(#default#VML); position:absolute;")}this.vml=x("group",this.cont)}this.setColor(this.color),this.draw(),S(this.cont,{display:"none"})},r.cont={},r.can={},r.con={},r.cCan={},r.cCon={},r.timer={},r.activeId=0,r.diameter=40,r.setDiameter=function(A){this.diameter=Math.round(Math.abs(A)),this.redraw()},r.getDiameter=function(){return this.diameter},r.cRGB={},r.color="#000000",r.setColor=function(A){this.color=p.test(A)?A:"#000000",this.cRGB=this.getRGB(this.color),this.redraw()},r.getColor=function(){return this.color},r.shape=f[0],r.setShape=function(A){for(var I in f)if(A===f[I]){this.shape=A,this.redraw();break}},r.getShape=function(){return this.shape},r.density=40,r.setDensity=function(A){this.density=C&&c===d[1]?Math.round(Math.abs(A))<=40?Math.round(Math.abs(A)):40:Math.round(Math.abs(A)),this.density>360&&(this.density=360),this.activeId=0,this.redraw()},r.getDensity=function(){return this.density},r.range=1.3,r.setRange=function(A){this.range=Math.abs(A),this.redraw()},r.getRange=function(){return this.range},r.speed=2,r.setSpeed=function(A){this.speed=Math.round(Math.abs(A))},r.getSpeed=function(){return this.speed},r.fps=24,r.setFPS=function(A){this.fps=Math.round(Math.abs(A)),this.reset()},r.getFPS=function(){return this.fps},r.getRGB=function(A){return A=A.charAt(0)==="#"?A.substring(1,7):A,{r:parseInt(A.substring(0,2),16),g:parseInt(A.substring(2,4),16),b:parseInt(A.substring(4,6),16)}},r.draw=function(){var A=0,I,N,Y,H,K,J,U,nt=this.density,gt=Math.round(nt*this.range),mt,pt,ct=0;pt=this.cCon;var ht=this.diameter;if(c===d[0])for(pt.clearRect(0,0,1e3,1e3),O(this.can,{width:ht,height:ht}),O(this.cCan,{width:ht,height:ht});A<nt;){switch(mt=A<=gt?1-1/gt*A:mt=0,J=270-360/nt*A,U=J/180*Math.PI,pt.fillStyle="rgba("+this.cRGB.r+","+this.cRGB.g+","+this.cRGB.b+","+mt.toString()+")",this.shape){case f[0]:case f[1]:I=ht*.07,H=ht*.47+Math.cos(U)*(ht*.47-I)-ht*.47,K=ht*.47+Math.sin(U)*(ht*.47-I)-ht*.47,pt.beginPath(),this.shape===f[1]?pt.arc(ht*.5+H,ht*.5+K,I*mt,0,Math.PI*2,!1):pt.arc(ht*.5+H,ht*.5+K,I,0,Math.PI*2,!1);break;case f[2]:I=ht*.12,H=Math.cos(U)*(ht*.47-I)+ht*.5,K=Math.sin(U)*(ht*.47-I)+ht*.5,F(pt,H,K,U),pt.fillRect(H,K-I*.5,I,I);break;case f[3]:case f[4]:N=ht*.3,Y=N*.27,H=Math.cos(U)*(Y+(ht-Y)*.13)+ht*.5,K=Math.sin(U)*(Y+(ht-Y)*.13)+ht*.5,F(pt,H,K,U),this.shape===f[3]?pt.fillRect(H,K-Y*.5,N,Y):(I=Y*.55,pt.moveTo(H+I,K-Y*.5),pt.lineTo(H+N-I,K-Y*.5),pt.quadraticCurveTo(H+N,K-Y*.5,H+N,K-Y*.5+I),pt.lineTo(H+N,K-Y*.5+Y-I),pt.quadraticCurveTo(H+N,K-Y*.5+Y,H+N-I,K-Y*.5+Y),pt.lineTo(H+I,K-Y*.5+Y),pt.quadraticCurveTo(H,K-Y*.5+Y,H,K-Y*.5+Y-I),pt.lineTo(H,K-Y*.5+I),pt.quadraticCurveTo(H,K-Y*.5,H+I,K-Y*.5))}pt.closePath(),pt.fill(),pt.restore(),++A}else{switch(S(this.cont,{width:ht,height:ht}),S(this.vml,{width:ht,height:ht}),this.shape){case f[0]:case f[1]:U="oval",I=140;break;case f[2]:U="roundrect",I=120;break;case f[3]:case f[4]:U="roundrect",I=300}for(N=Y=I,H=500-Y,K=-Y*.5;A<nt;){switch(mt=A<=gt?1-1/gt*A:mt=0,J=270-360/nt*A,this.shape){case f[1]:N=Y=I*mt,H=500-I*.5-I*mt*.5,K=(I-I*mt)*.5;break;case f[0]:case f[2]:g&&(K=0,this.shape===f[2]&&(H=500-Y*.5));break;case f[3]:case f[4]:N=I*.95,Y=N*.28,g?(H=0,K=500-Y*.5):(H=500-N,K=-Y*.5),ct=this.shape===f[4]?.6:0}pt=O(S(x("group",this.vml),{width:1e3,height:1e3,rotation:J}),{coordsize:"1000,1000",coordorigin:"-500,-500"}),pt=S(x(U,pt,{stroked:!1,arcSize:ct}),{width:N,height:Y,top:K,left:H}),x("fill",pt,{color:this.color,opacity:mt}),++A}}this.tick(!0)},r.clean=function(){if(c===d[0])this.con.clearRect(0,0,1e3,1e3);else{var A=this.vml;if(A.hasChildNodes())for(;A.childNodes.length>=1;)A.removeChild(A.firstChild)}},r.redraw=function(){this.clean(),this.draw()},r.reset=function(){typeof this.timer=="number"&&(this.hide(),this.show())},r.tick=function(A){var I=this.con,N=this.diameter;A||(this.activeId+=360/this.density*this.speed),c===d[0]?(I.clearRect(0,0,N,N),F(I,N*.5,N*.5,this.activeId/180*Math.PI),I.drawImage(this.cCan,0,0,N,N),I.restore()):(this.activeId>=360&&(this.activeId-=360),S(this.vml,{rotation:this.activeId}))},r.show=function(){if(typeof this.timer!="number"){var A=this;this.timer=self.setInterval(function(){A.tick()},Math.round(1e3/this.fps)),S(this.cont,{display:"block"})}},r.hide=function(){typeof this.timer=="number"&&(clearInterval(this.timer),delete this.timer,S(this.cont,{display:"none"}))},r.kill=function(){var A=this.cont;typeof this.timer=="number"&&this.hide(),c===d[0]?(A.removeChild(this.can),A.removeChild(this.cCan)):A.removeChild(this.vml);for(var I in this)delete this[I]},a.CanvasLoader=e})(window);(function(a){a.fn.caret=function(e){var r=this[0],c=r.contentEditable==="true";if(arguments.length==0){if(window.getSelection){if(c){r.focus();var d=window.getSelection().getRangeAt(0),f=d.cloneRange();return f.selectNodeContents(r),f.setEnd(d.endContainer,d.endOffset),f.toString().length}return r.selectionStart}if(document.selection){if(r.focus(),c){var d=document.selection.createRange(),f=document.body.createTextRange();return f.moveToElementText(r),f.setEndPoint("EndToEnd",d),f.text.length}var e=0,p=r.createTextRange(),f=document.selection.createRange().duplicate(),g=f.getBookmark();for(p.moveToBookmark(g);p.moveStart("character",-1)!==0;)e++;return e}return r.selectionStart?r.selectionStart:0}if(e==-1&&(e=this[c?"text":"val"]().length),window.getSelection)c?(r.focus(),window.getSelection().collapse(r.firstChild,e)):r.setSelectionRange(e,e);else if(document.body.createTextRange)if(c){var p=document.body.createTextRange();p.moveToElementText(r),p.moveStart("character",e),p.collapse(!0),p.select()}else{var p=r.createTextRange();p.move("character",e),p.select()}return c||r.focus(),e}})(jQuery);(function(a){a.fn.tagEditorInput=function(){var e=" ",r=a(this),c=parseInt(r.css("fontSize")),d=a("<span/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:r.css("fontSize"),fontFamily:r.css("fontFamily"),fontWeight:r.css("fontWeight"),letterSpacing:r.css("letterSpacing"),whiteSpace:"nowrap"}),f=function(){if(e!==(e=r.val())){d.text(e);var p=d.width()+c;20>p&&(p=20),p!=r.width()&&r.width(p)}};return d.insertAfter(r),r.bind("keyup keydown focus",f)},a.fn.tagEditor=function(e,r,c){function d(C){return C.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var f,p=a.extend({},a.fn.tagEditor.defaults,e),g=this;if(p.dregex=new RegExp("["+p.delimiter.replace("-","-")+"]","g"),typeof e=="string"){var b=[];return g.each(function(){var C=a(this),x=C.data("options"),S=C.next(".tag-editor");if(e=="getTags")b.push({field:C[0],editor:S,tags:S.data("tags")});else if(e=="addTag"){if(x.maxTags&&S.data("tags").length>=x.maxTags)return!1;a('<li><div class="tag-editor-spacer">&nbsp;'+x.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>').appendTo(S).find(".tag-editor-tag").html('<input type="text" maxlength="'+x.maxLength+'">').addClass("active").find("input").val(r).blur(),c?a(".placeholder",S).remove():S.click()}else e=="removeTag"?(a(".tag-editor-tag",S).filter(function(){return a(this).text()==r}).closest("li").find(".tag-editor-delete").click(),c||S.click()):e=="destroy"&&C.removeClass("tag-editor-hidden-src").removeData("options").off("focus.tag-editor").next(".tag-editor").remove()}),e=="getTags"?b:this}return window.getSelection&&a(document).off("keydown.tag-editor").on("keydown.tag-editor",function(C){if(C.which==8||C.which==46||C.ctrlKey&&C.which==88){try{var x=getSelection(),S=document.activeElement.tagName=="BODY"?a(x.getRangeAt(0).startContainer.parentNode).closest(".tag-editor"):0}catch{S=0}if(x.rangeCount>0&&S&&S.length){var O=[],F=x.toString().split(S.prev().data("options").dregex);for(i=0;i<F.length;i++){var A=a.trim(F[i]);A&&O.push(A)}return a(".tag-editor-tag",S).each(function(){~a.inArray(a(this).text(),O)&&a(this).closest("li").find(".tag-editor-delete").click()}),!1}}}),g.each(function(){var C=a(this),x=[],S=a("<ul "+(p.clickDelete?'oncontextmenu="return false;" ':"")+'class="tag-editor"></ul>').insertAfter(C);C.addClass("tag-editor-hidden-src").data("options",p).on("focus.tag-editor",function(){S.click()}),S.append('<li style="width:1px">&nbsp;</li>');var O='<li><div class="tag-editor-spacer">&nbsp;'+p.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>';function F(){p.placeholder&&!x.length&&!a(".deleted, .placeholder, input",S).length&&S.append('<li class="placeholder"><div>'+p.placeholder+"</div></li>")}function A(U){var nt=x.toString();x=a(".tag-editor-tag:not(.deleted)",S).map(function(gt,mt){var pt=a.trim(a(this).hasClass("active")?a(this).find("input").val():a(mt).text());if(pt)return pt}).get(),S.data("tags",x),C.val(x.join(p.delimiter[0])),U||nt!=x.toString()&&p.onChange(C,S,x),F()}S.click(function(U,nt){var gt,mt=99999,pt;if(!(window.getSelection&&getSelection()!=""))return p.maxTags&&S.data("tags").length>=p.maxTags?(S.find("input").blur(),!1):(f=!0,a("input:focus",S).blur(),f&&(f=!0,a(".placeholder",S).remove(),nt&&nt.length?pt="before":a(".tag-editor-tag",S).each(function(){var ct=a(this),ht=ct.offset(),It=ht.left,it=ht.top;U.pageY>=it&&U.pageY<=it+ct.height()&&(U.pageX<It?(pt="before",gt=It-U.pageX):(pt="after",gt=U.pageX-It-ct.width()),gt<mt&&(mt=gt,nt=ct))}),pt=="before"?a(O).insertBefore(nt.closest("li")).find(".tag-editor-tag").click():pt=="after"?a(O).insertAfter(nt.closest("li")).find(".tag-editor-tag").click():a(O).appendTo(S).find(".tag-editor-tag").click()),!1)}),S.on("click",".tag-editor-delete",function(U){if(a(this).prev().hasClass("active"))return a(this).closest("li").find("input").caret(-1),!1;var nt=a(this).closest("li"),gt=nt.find(".tag-editor-tag");return p.beforeTagDelete(C,S,x,gt.text())===!1||(gt.addClass("deleted").animate({width:0},p.animateDelete,function(){nt.remove(),F()}),A()),!1}),p.clickDelete&&S.on("mousedown",".tag-editor-tag",function(U){if(U.ctrlKey||U.which>1){var nt=a(this).closest("li"),gt=nt.find(".tag-editor-tag");return p.beforeTagDelete(C,S,x,gt.text())===!1||(gt.addClass("deleted").animate({width:0},p.animateDelete,function(){nt.remove(),F()}),A()),!1}}),S.on("click",".tag-editor-tag",function(U){if(p.clickDelete&&(U.ctrlKey||U.which>1))return!1;if(!a(this).hasClass("active")){var nt=a(this).text(),gt=Math.abs((a(this).offset().left-U.pageX)/a(this).width()),mt=parseInt(nt.length*gt),pt=a(this).html('<input type="text" maxlength="'+p.maxLength+'" value="'+d(nt)+'">').addClass("active").find("input");if(pt.data("old_tag",nt).tagEditorInput().focus().caret(mt),p.autocomplete){var ct=a.extend({},p.autocomplete),ht="select"in ct?p.autocomplete.select:"";ct.select=function(It,it){ht&&ht(It,it),setTimeout(function(){S.trigger("click",[a(".active",S).find("input").closest("li").next("li").find(".tag-editor-tag")])},20)},pt.autocomplete(ct)}}return!1});function I(U){for(var nt=U.closest("li"),gt=U.val().replace(/ +/," ").split(p.dregex),mt=U.data("old_tag"),pt=x.slice(0),ct=!1,ht,It=0;It<gt.length;It++)if(J=a.trim(gt[It]).slice(0,p.maxLength),p.forceLowercase&&(J=J.toLowerCase()),ht=p.beforeTagSave(C,S,pt,mt,J),J=ht||J,!(ht===!1||!J)&&(p.removeDuplicates&&~a.inArray(J,pt)&&a(".tag-editor-tag",S).each(function(){a(this).text()==J&&a(this).closest("li").remove()}),pt.push(J),nt.before('<li><div class="tag-editor-spacer">&nbsp;'+p.delimiter[0]+'</div><div class="tag-editor-tag">'+d(J)+'</div><div class="tag-editor-delete"><i></i></div></li>'),p.maxTags&&pt.length>=p.maxTags)){ct=!0;break}U.attr("maxlength",p.maxLength).removeData("old_tag").val(""),ct?U.blur():U.focus(),A()}S.on("blur","input",function(U){U.stopPropagation();var nt=a(this),gt=nt.data("old_tag"),mt=a.trim(nt.val().replace(/ +/," ").replace(p.dregex,p.delimiter[0])),pt;if(mt){if(mt.indexOf(p.delimiter[0])>=0){I(nt);return}else if(mt!=gt)if(p.forceLowercase&&(mt=mt.toLowerCase()),pt=p.beforeTagSave(C,S,x,gt,mt),mt=pt||mt,pt===!1){if(gt){nt.val(gt).focus(),f=!1,A();return}try{nt.closest("li").remove()}catch{}gt&&A()}else p.removeDuplicates&&a(".tag-editor-tag:not(.active)",S).each(function(){a(this).text()==mt&&a(this).closest("li").remove()})}else{if(gt&&p.beforeTagDelete(C,S,x,gt)===!1){nt.val(gt).focus(),f=!1,A();return}try{nt.closest("li").remove()}catch{}gt&&A()}nt.parent().html(d(mt)).removeClass("active"),mt!=gt&&A(),F()});var N;S.on("paste","input",function(U){a(this).removeAttr("maxlength"),N=a(this),setTimeout(function(){I(N)},30)});var Y;S.on("keypress","input",function(U){p.delimiter.indexOf(String.fromCharCode(U.which))>=0&&(Y=a(this),setTimeout(function(){I(Y)},20))}),S.on("keydown","input",function(U){var nt=a(this);if((U.which==37||!p.autocomplete&&U.which==38)&&!nt.caret()||U.which==8&&!nt.val()){var gt=nt.closest("li").prev("li").find(".tag-editor-tag");return gt.length?gt.click().find("input").caret(-1):nt.val()&&!(p.maxTags&&S.data("tags").length>=p.maxTags)&&a(O).insertBefore(nt.closest("li")).find(".tag-editor-tag").click(),!1}else if((U.which==39||!p.autocomplete&&U.which==40)&&nt.caret()==nt.val().length){var mt=nt.closest("li").next("li").find(".tag-editor-tag");return mt.length?mt.click().find("input").caret(0):nt.val()&&S.click(),!1}else if(U.which==9)if(U.shiftKey){var gt=nt.closest("li").prev("li").find(".tag-editor-tag");if(gt.length)gt.click().find("input").caret(0);else if(nt.val()&&!(p.maxTags&&S.data("tags").length>=p.maxTags))a(O).insertBefore(nt.closest("li")).find(".tag-editor-tag").click();else{C.attr("disabled","disabled"),setTimeout(function(){C.removeAttr("disabled")},30);return}return!1}else{var mt=nt.closest("li").next("li").find(".tag-editor-tag");if(mt.length)mt.click().find("input").caret(0);else if(nt.val())S.click();else return;return!1}else if(U.which==46&&(!a.trim(nt.val())||nt.caret()==nt.val().length)){var mt=nt.closest("li").next("li").find(".tag-editor-tag");return mt.length?mt.click().find("input").caret(0):nt.val()&&S.click(),!1}else{if(U.which==13)return S.trigger("click",[nt.closest("li").next("li").find(".tag-editor-tag")]),p.maxTags&&S.data("tags").length>=p.maxTags&&S.find("input").blur(),!1;if(U.which==36&&!nt.caret())S.find(".tag-editor-tag").first().click();else if(U.which==35&&nt.caret()==nt.val().length)S.find(".tag-editor-tag").last().click();else if(U.which==27)return nt.val(nt.data("old_tag")?nt.data("old_tag"):"").blur(),!1}});for(var H=p.initialTags.length?p.initialTags:C.val().split(p.dregex),K=0;K<H.length&&!(p.maxTags&&K>=p.maxTags);K++){var J=a.trim(H[K].replace(/ +/," "));J&&(p.forceLowercase&&(J=J.toLowerCase()),x.push(J),S.append('<li><div class="tag-editor-spacer">&nbsp;'+p.delimiter[0]+'</div><div class="tag-editor-tag">'+d(J)+'</div><div class="tag-editor-delete"><i></i></div></li>'))}A(!0),p.sortable&&a.fn.sortable&&S.sortable({distance:5,cancel:".tag-editor-spacer, input",helper:"clone",update:function(){A()}})})},a.fn.tagEditor.defaults={initialTags:[],maxTags:0,maxLength:50,delimiter:",;",placeholder:"",forceLowercase:!0,removeDuplicates:!0,clickDelete:!1,animateDelete:175,sortable:!0,autocomplete:null,onChange:function(){},beforeTagSave:function(){},beforeTagDelete:function(){}}})(jQuery);/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(a){var e;if(window.jQuery)e=a(window.jQuery);else throw new Error("UIkit 2.x requires jQuery");typeof define=="function"&&define.amd&&define("uikit",function(){return e.load=function(r,c,d,f){var p=r.split(","),g=[],b,C=(f.config&&f.config.uikit&&f.config.uikit.base?f.config.uikit.base:"").replace(/\/+$/g,"");if(!C)throw new Error("Please define base path to UIkit in the requirejs config.");for(b=0;b<p.length;b+=1){var x=p[b].replace(/\./g,"/");g.push(C+"/components/"+x)}c(g,function(){d(e)})},e})})(function(a){if(window.UIkit2)return window.UIkit2;var e={},r=window.UIkit||void 0;if(e.version="2.27.4",e.noConflict=function(){return r&&(window.UIkit=r,a.UIkit=r,a.fn.uk=r.fn),e},window.UIkit2=e,r||(window.UIkit=e),e.$=a,e.$doc=e.$(document),e.$win=e.$(window),e.$html=e.$("html"),e.support={},e.support.transition=(function(){var g=(function(){var b=document.body||document.documentElement,C={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},x;for(x in C)if(b.style[x]!==void 0)return C[x]})();return g&&{end:g}})(),e.support.animation=(function(){var g=(function(){var b=document.body||document.documentElement,C={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"},x;for(x in C)if(b.style[x]!==void 0)return C[x]})();return g&&{end:g}})(),(function(){Date.now=Date.now||function(){return new Date().getTime()};for(var g=["webkit","moz"],b=0;b<g.length&&!window.requestAnimationFrame;++b){var C=g[b];window.requestAnimationFrame=window[C+"RequestAnimationFrame"],window.cancelAnimationFrame=window[C+"CancelAnimationFrame"]||window[C+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var x=0;window.requestAnimationFrame=function(S){var O=Date.now(),F=Math.max(x+16,O);return setTimeout(function(){S(x=F)},F-O)},window.cancelAnimationFrame=clearTimeout}})(),e.support.touch="ontouchstart"in document||window.DocumentTouch&&document instanceof window.DocumentTouch||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0||!1,e.support.mutationobserver=window.MutationObserver||window.WebKitMutationObserver||null,e.Utils={},e.Utils.isFullscreen=function(){return document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.fullscreenElement||!1},e.Utils.str2json=function(g,b){try{return b?JSON.parse(g.replace(/([\$\w]+)\s*:/g,function(C,x){return'"'+x+'":'}).replace(/'([^']+)'/g,function(C,x){return'"'+x+'"'})):new Function("","var json = "+g+"; return JSON.parse(JSON.stringify(json));")()}catch{return!1}},e.Utils.debounce=function(g,b,C){var x;return function(){var S=this,O=arguments,F=function(){x=null,C||g.apply(S,O)},A=C&&!x;clearTimeout(x),x=setTimeout(F,b),A&&g.apply(S,O)}},e.Utils.throttle=function(g,b){var C=!1;return function(){C||(g.call(),C=!0,setTimeout(function(){C=!1},b))}},e.Utils.removeCssRules=function(g){var b,C,x,S,O,F,A,I,N,Y;g&&setTimeout(function(){try{for(Y=document.styleSheets,S=0,A=Y.length;S<A;S++){for(x=Y[S],C=[],x.cssRules=x.cssRules,b=O=0,I=x.cssRules.length;O<I;b=++O)x.cssRules[b].type===CSSRule.STYLE_RULE&&g.test(x.cssRules[b].selectorText)&&C.unshift(b);for(F=0,N=C.length;F<N;F++)x.deleteRule(C[F])}}catch{}},0)},e.Utils.isInView=function(g,b){var C=a(g);if(!C.is(":visible"))return!1;var x=e.$win.scrollLeft(),S=e.$win.scrollTop(),O=C.offset(),F=O.left,A=O.top;return b=a.extend({topoffset:0,leftoffset:0},b),A+C.height()>=S&&A-b.topoffset<=S+e.$win.height()&&F+C.width()>=x&&F-b.leftoffset<=x+e.$win.width()},e.Utils.checkDisplay=function(g,b){var C=e.$("[data-uk-margin], [data-uk-grid-match], [data-uk-grid-margin], [data-uk-check-display]",g||document);return g&&!C.length&&(C=a(g)),C.trigger("display.uk.check"),b&&(typeof b!="string"&&(b='[class*="uk-animation-"]'),C.find(b).each(function(){var x=e.$(this),S=x.attr("class"),O=S.match(/uk-animation-(.+)/);x.removeClass(O[0]).width(),x.addClass(O[0])})),C},e.Utils.options=function(g){if(a.type(g)!="string")return g;g.indexOf(":")!=-1&&g.trim().substr(-1)!="}"&&(g="{"+g+"}");var b=g?g.indexOf("{"):-1,C={};if(b!=-1)try{C=e.Utils.str2json(g.substr(b))}catch{}return C},e.Utils.animate=function(g,b){var C=a.Deferred();return g=e.$(g),g.css("display","none").addClass(b).one(e.support.animation.end,function(){g.removeClass(b),C.resolve()}),g.css("display",""),C.promise()},e.Utils.uid=function(g){return(g||"id")+new Date().getTime()+"RAND"+Math.ceil(Math.random()*1e5)},e.Utils.template=function(g,b){for(var C=g.replace(/\n/g,"\\n").replace(/\{\{\{\s*(.+?)\s*\}\}\}/g,"{{!$1}}").split(/(\{\{\s*(.+?)\s*\}\})/g),x=0,S,O,F,A,I=[],N=0;x<C.length;){if(S=C[x],S.match(/\{\{\s*(.+?)\s*\}\}/))switch(x=x+1,S=C[x],O=S[0],F=S.substring(S.match(/^(\^|\#|\!|\~|\:)/)?1:0),O){case"~":I.push("for(var $i=0;$i<"+F+".length;$i++) { var $item = "+F+"[$i];"),N++;break;case":":I.push("for(var $key in "+F+") { var $val = "+F+"[$key];"),N++;break;case"#":I.push("if("+F+") {"),N++;break;case"^":I.push("if(!"+F+") {"),N++;break;case"/":I.push("}"),N--;break;case"!":I.push("__ret.push("+F+");");break;default:I.push("__ret.push(escape("+F+"));");break}else I.push("__ret.push('"+S.replace(/\'/g,"\\'")+"');");x=x+1}return A=new Function("$data",["var __ret = [];","try {","with($data){",N?'__ret = ["Not all blocks are closed correctly."]':I.join(""),"};","}catch(e){__ret = [e.message];}",'return __ret.join("").replace(/\\n\\n/g, "\\n");',`function escape(html) { return String(html).replace(/&/g, '&amp;').replace(/"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');}`].join(`
`)),b?A(b):A},e.Utils.focus=function(g,b){if(g=a(g),!g.length)return g;var C=g.find("[autofocus]:first"),x;return C.length||(C=g.find(":input"+(b&&","+b||"")).first(),C.length)?C.focus():(g.attr("tabindex")||(x=1e3,g.attr("tabindex",x)),g[0].focus(),x&&g.attr("tabindex",""),g)},e.Utils.events={},e.Utils.events.click=e.support.touch?"tap":"click",e.fn=function(g,b){var C=arguments,x=g.match(/^([a-z\-]+)(?:\.([a-z]+))?/i),S=x[1],O=x[2];return e[S]?this.each(function(){var F=a(this),A=F.data(S);A||F.data(S,A=e[S](this,O?void 0:b)),O&&A[O].apply(A,Array.prototype.slice.call(C,1))}):(a.error("UIkit component ["+S+"] does not exist."),this)},a.UIkit=e,a.fn.uk=e.fn,e.langdirection=e.$html.attr("dir")=="rtl"?"right":"left",e.components={},e.component=function(g,b,C){if(e.components[g]&&!C)return e.components[g];var x=function(S,O){var F=this;return this.UIkit=e,this.element=S?e.$(S):null,this.options=a.extend(!0,{},this.defaults,O),this.plugins={},this.element&&this.element.data(g,this),this.init(),(this.options.plugins.length?this.options.plugins:Object.keys(x.plugins)).forEach(function(A){x.plugins[A].init&&(x.plugins[A].init(F),F.plugins[A]=!0)}),this.trigger("init.uk.component",[g,this]),this};return x.plugins={},a.extend(!0,x.prototype,{defaults:{plugins:[]},boot:function(){},init:function(){},on:function(S,O,F){return e.$(this.element||this).on(S,O,F)},one:function(S,O,F){return e.$(this.element||this).one(S,O,F)},off:function(S){return e.$(this.element||this).off(S)},trigger:function(S,O){return e.$(this.element||this).trigger(S,O)},find:function(S){return e.$(this.element?this.element:[]).find(S)},proxy:function(S,O){var F=this;O.split(" ").forEach(function(A){F[A]||(F[A]=function(){return S[A].apply(S,arguments)})})},mixin:function(S,O){var F=this;O.split(" ").forEach(function(A){F[A]||(F[A]=S[A].bind(F))})},option:function(){if(arguments.length==1)return this.options[arguments[0]]||void 0;arguments.length==2&&(this.options[arguments[0]]=arguments[1])}},b),this.components[g]=x,this[g]=function(){var S,O;if(arguments.length)switch(arguments.length){case 1:typeof arguments[0]=="string"||arguments[0].nodeType||arguments[0]instanceof jQuery?S=a(arguments[0]):O=arguments[0];break;case 2:S=a(arguments[0]),O=arguments[1];break}return S&&S.data(g)?S.data(g):new e.components[g](S,O)},e.domready&&e.component.boot(g),x},e.plugin=function(g,b,C){this.components[g].plugins[b]=C},e.component.boot=function(g){e.components[g].prototype&&e.components[g].prototype.boot&&!e.components[g].booted&&(e.components[g].prototype.boot.apply(e,[]),e.components[g].booted=!0)},e.component.bootComponents=function(){for(var g in e.components)e.component.boot(g)},e.domObservers=[],e.domready=!1,e.ready=function(g){e.domObservers.push(g),e.domready&&g(document)},e.on=function(g,b,C){return g&&g.indexOf("ready.uk.dom")>-1&&e.domready&&b.apply(e.$doc),e.$doc.on(g,b,C)},e.one=function(g,b,C){return g&&g.indexOf("ready.uk.dom")>-1&&e.domready?(b.apply(e.$doc),e.$doc):e.$doc.one(g,b,C)},e.trigger=function(g,b){return e.$doc.trigger(g,b)},e.domObserve=function(g,b){e.support.mutationobserver&&(b=b||function(){},e.$(g).each(function(){var C=this,x=e.$(C);if(!x.data("observer"))try{var S=new e.support.mutationobserver(e.Utils.debounce(function(O){b.apply(C,[x]),x.trigger("changed.uk.dom")},50),{childList:!0,subtree:!0});S.observe(C,{childList:!0,subtree:!0}),x.data("observer",S)}catch{}}))},e.init=function(g){g=g||document,e.domObservers.forEach(function(b){b(g)})},e.on("domready.uk.dom",function(){e.init(),e.domready&&e.Utils.checkDisplay()}),document.addEventListener("DOMContentLoaded",(function(){var g=function(){e.$body=e.$("body"),e.trigger("beforeready.uk.dom"),e.component.bootComponents();var b=requestAnimationFrame((function(){var x={dir:{x:0,y:0},x:window.pageXOffset,y:window.pageYOffset},S=function(){var O=window.pageXOffset,F=window.pageYOffset;(x.x!=O||x.y!=F)&&(O!=x.x?x.dir.x=O>x.x?1:-1:x.dir.x=0,F!=x.y?x.dir.y=F>x.y?1:-1:x.dir.y=0,x.x=O,x.y=F,e.$doc.trigger("scrolling.uk.document",[{dir:{x:x.dir.x,y:x.dir.y},x:O,y:F}])),cancelAnimationFrame(b),b=requestAnimationFrame(S)};return e.support.touch&&e.$html.on("touchmove touchend MSPointerMove MSPointerUp pointermove pointerup",S),(x.x||x.y)&&S(),S})());if(e.trigger("domready.uk.dom"),e.support.touch&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&e.$win.on("load orientationchange resize",e.Utils.debounce((function(){var x=function(){return a(".uk-height-viewport").css("height",window.innerHeight),x};return x()})(),100)),e.trigger("afterready.uk.dom"),e.domready=!0,e.support.mutationobserver){var C=e.Utils.debounce(function(){requestAnimationFrame(function(){e.init(document.body)})},10);new e.support.mutationobserver(function(x){var S=!1;x.every(function(O){if(O.type!="childList")return!0;for(var F=0,A;F<O.addedNodes.length;++F)if(A=O.addedNodes[F],A.outerHTML&&A.outerHTML.indexOf("data-uk-")!==-1)return(S=!0)&&!1;return!0}),S&&C()}).observe(document.body,{childList:!0,subtree:!0})}};return(document.readyState=="complete"||document.readyState=="interactive")&&setTimeout(g),g})()),e.$html.addClass(e.support.touch?"uk-touch":"uk-notouch"),e.support.touch){var c=!1,d,f="uk-hover",p=".uk-overlay, .uk-overlay-hover, .uk-overlay-toggle, .uk-animation-hover, .uk-has-hover";e.$html.on("mouseenter touchstart MSPointerDown pointerdown",p,function(){c&&a("."+f).removeClass(f),c=a(this).addClass(f)}).on("mouseleave touchend MSPointerUp pointerup",function(g){d=a(g.target).parents(p),c&&c.not(d).removeClass(f)})}return e});(function(a){if(a.fn.swipeLeft)return;var e={},r,c,d,f,p=750,g,b="ontouchstart"in window,C=window.PointerEvent,x=b||window.DocumentTouch&&document instanceof DocumentTouch||navigator.msPointerEnabled&&navigator.msMaxTouchPoints>0||navigator.pointerEnabled&&navigator.maxTouchPoints>0;function S(N,Y,H,K){return Math.abs(N-Y)>=Math.abs(H-K)?N-Y>0?"Left":"Right":H-K>0?"Up":"Down"}function O(){f=null,e.last&&(e.el!==void 0&&e.el.trigger("longTap"),e={})}function F(){f&&clearTimeout(f),f=null}function A(){r&&clearTimeout(r),c&&clearTimeout(c),d&&clearTimeout(d),f&&clearTimeout(f),r=c=d=f=null,e={}}function I(N){return N.pointerType==N.MSPOINTER_TYPE_TOUCH&&N.isPrimary}a(function(){var N,Y,H=0,K=0,J;"MSGesture"in window&&(g=new MSGesture,g.target=document.body),a(document).on("MSGestureEnd gestureend",function(U){var nt=U.originalEvent.velocityX>1?"Right":U.originalEvent.velocityX<-1?"Left":U.originalEvent.velocityY>1?"Down":U.originalEvent.velocityY<-1?"Up":null;nt&&e.el!==void 0&&(e.el.trigger("swipe"),e.el.trigger("swipe"+nt))}).on("touchstart MSPointerDown pointerdown",function(U){U.type=="MSPointerDown"&&!I(U.originalEvent)||(J=U.type=="MSPointerDown"||U.type=="pointerdown"?U:U.originalEvent.touches[0],N=Date.now(),Y=N-(e.last||N),e.el=a("tagName"in J.target?J.target:J.target.parentNode),r&&clearTimeout(r),e.x1=J.pageX,e.y1=J.pageY,Y>0&&Y<=250&&(e.isDoubleTap=!0),e.last=N,f=setTimeout(O,p),U.originalEvent&&U.originalEvent.pointerId&&g&&(U.type=="MSPointerDown"||U.type=="pointerdown"||U.type=="touchstart")&&g.addPointer(U.originalEvent.pointerId))}).on("touchmove MSPointerMove pointermove",function(U){U.type=="MSPointerMove"&&!I(U.originalEvent)||(J=U.type=="MSPointerMove"||U.type=="pointermove"?U:U.originalEvent.touches[0],F(),e.x2=J.pageX,e.y2=J.pageY,H+=Math.abs(e.x1-e.x2),K+=Math.abs(e.y1-e.y2))}).on("touchend MSPointerUp pointerup",function(U){U.type=="MSPointerUp"&&!I(U.originalEvent)||(F(),e.x2&&Math.abs(e.x1-e.x2)>30||e.y2&&Math.abs(e.y1-e.y2)>30?d=setTimeout(function(){e.el!==void 0&&(e.el.trigger("swipe"),e.el.trigger("swipe"+S(e.x1,e.x2,e.y1,e.y2))),e={}},0):"last"in e&&(isNaN(H)||H<30&&K<30?c=setTimeout(function(){var nt=a.Event("tap");nt.cancelTouch=A,e.el!==void 0&&e.el.trigger(nt),e.isDoubleTap?(e.el!==void 0&&e.el.trigger("doubleTap"),e={}):r=setTimeout(function(){r=null,e.el!==void 0&&e.el.trigger("singleTap"),e={}},250)},0):e={},H=K=0))}).on("touchcancel MSPointerCancel pointercancel",function(U){(U.type=="touchcancel"&&b&&x||!b&&U.type=="pointercancel"&&C)&&A()}),a(window).on("scroll",A)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(N){a.fn[N]=function(Y){return a(this).on(N,Y)}})})(jQuery);(function(a){a.component("stackMargin",{defaults:{cls:"uk-margin-small-top",rowfirst:!1,observe:!1},boot:function(){a.ready(function(e){a.$("[data-uk-margin]",e).each(function(){var r=a.$(this);r.data("stackMargin")||a.stackMargin(r,a.Utils.options(r.attr("data-uk-margin")))})})},init:function(){var e=this;a.$win.on("resize orientationchange",(function(){var r=function(){e.process()};return a.$(function(){r(),a.$win.on("load",r)}),a.Utils.debounce(r,20)})()),this.on("display.uk.check",(function(r){this.element.is(":visible")&&this.process()}).bind(this)),this.options.observe&&a.domObserve(this.element,function(r){e.element.is(":visible")&&e.process()})},process:function(){var e=this.element.children();if(a.Utils.stackMargin(e,this.options),!this.options.rowfirst||!e.length)return this;var r={},c=!1;return e.removeClass(this.options.rowfirst).each(function(d,f){f=a.$(this),this.style.display!="none"&&(d=f.offset().left,((r[d]=r[d]||[])&&r[d]).push(this),c=c===!1?d:Math.min(c,d))}),a.$(r[c]).addClass(this.options.rowfirst),this}}),(function(){var e=[],r=function(c){if(c.is(":visible")){var d=c.parent().width(),f=c.data("width"),p=d/f,g=Math.floor(p*c.data("height"));c.css({height:d<f?g:c.data("height")})}};a.component("responsiveElement",{defaults:{},boot:function(){a.ready(function(c){a.$("iframe.uk-responsive-width, [data-uk-responsive]",c).each(function(){var d=a.$(this);d.data("responsiveElement")||a.responsiveElement(d,{})})})},init:function(){var c=this.element;c.attr("width")&&c.attr("height")&&(c.data({width:c.attr("width"),height:c.attr("height")}).on("display.uk.check",function(){r(c)}),r(c),e.push(c))}}),a.$win.on("resize load",a.Utils.debounce(function(){e.forEach(function(c){r(c)})},15))})(),a.Utils.stackMargin=function(e,r){r=a.$.extend({cls:"uk-margin-small-top"},r),e=a.$(e).removeClass(r.cls);var c=!1;e.each(function(d,f,p,g){g=a.$(this),g.css("display")!="none"&&(d=g.offset(),f=g.outerHeight(),p=d.top+f,g.data({ukMarginPos:p,ukMarginTop:d.top}),(c===!1||d.top<c.top)&&(c={top:d.top,left:d.left,pos:p}))}).each(function(d){d=a.$(this),d.css("display")!="none"&&d.data("ukMarginTop")>c.top&&d.data("ukMarginPos")>c.pos&&d.addClass(r.cls)})},a.Utils.matchHeights=function(e,r){e=a.$(e).css("min-height",""),r=a.$.extend({row:!0},r);var c=function(d){if(!(d.length<2)){var f=0;d.each(function(){f=Math.max(f,a.$(this).outerHeight())}).each(function(){var p=a.$(this),g=f-(p.css("box-sizing")=="border-box"?0:p.outerHeight()-p.height());p.css("min-height",g+"px")})}};r.row?(e.first().width(),setTimeout(function(){var d=!1,f=[];e.each(function(){var p=a.$(this),g=p.offset().top;g!=d&&f.length&&(c(a.$(f)),f=[],g=p.offset().top),f.push(p),d=g}),f.length&&c(a.$(f))},0)):c(e)},(function(e){a.Utils.inlineSvg=function(r,c){a.$(r||'img[src$=".svg"]',c||document).each(function(){var d=a.$(this),f=d.attr("src");if(!e[f]){var p=a.$.Deferred();a.$.get(f,{nc:Math.random()},function(g){p.resolve(a.$(g).find("svg"))}),e[f]=p.promise()}e[f].then(function(g){var b=a.$(g).clone();d.attr("id")&&b.attr("id",d.attr("id")),d.attr("class")&&b.attr("class",d.attr("class")),d.attr("style")&&b.attr("style",d.attr("style")),d.attr("width")&&(b.attr("width",d.attr("width")),d.attr("height")||b.removeAttr("height")),d.attr("height")&&(b.attr("height",d.attr("height")),d.attr("width")||b.removeAttr("width")),d.replaceWith(b)})})},a.ready(function(r){a.Utils.inlineSvg("[data-uk-svg]",r)})})({}),a.Utils.getCssVar=function(e){var r,c=document.documentElement,d=c.appendChild(document.createElement("div"));d.classList.add("var-"+e);try{r=JSON.parse(r=getComputedStyle(d,":before").content.replace(/^["'](.*)["']$/,"$1"))}catch{r=void 0}return c.removeChild(d),r}})(UIkit2);(function(a){a.component("smoothScroll",{boot:function(){a.$html.on("click.smooth-scroll.uikit","[data-uk-smooth-scroll]",function(r){var c=a.$(this);return c.data("smoothScroll")||(a.smoothScroll(c,a.Utils.options(c.attr("data-uk-smooth-scroll"))),c.trigger("click")),!1})},init:function(){var r=this;this.on("click",function(c){c.preventDefault(),e(a.$(this.hash).length?a.$(this.hash):a.$("body"),r.options)})}});function e(r,c){c=a.$.extend({duration:1e3,transition:"easeOutExpo",offset:0,complete:function(){}},c);var d=r.offset().top-c.offset,f=a.$doc.height(),p=window.innerHeight;d+p>f&&(d=f-p),a.$("html,body").stop().animate({scrollTop:d},c.duration,c.transition).promise().done(c.complete)}a.Utils.scrollToElement=e,a.$.easing.easeOutExpo||(a.$.easing.easeOutExpo=function(r,c,d,f,p){return c==p?d+f:f*(-Math.pow(2,-10*c/p)+1)+d})})(UIkit2);(function(a){var e=a.$win,r=a.$doc,c=[],d=function(){for(var g=0;g<c.length;g++)window.requestAnimationFrame.apply(window,[c[g].check])};a.component("scrollspy",{defaults:{target:!1,cls:"uk-scrollspy-inview",initcls:"uk-scrollspy-init-inview",topoffset:0,leftoffset:0,repeat:!1,delay:0},boot:function(){r.on("scrolling.uk.document",d),e.on("load resize orientationchange",a.Utils.debounce(d,50)),a.ready(function(g){a.$("[data-uk-scrollspy]",g).each(function(){var b=a.$(this);b.data("scrollspy")||a.scrollspy(b,a.Utils.options(b.attr("data-uk-scrollspy")))})})},init:function(){var g=this,b,C=this.options.cls.split(/,/),x=function(){var S=g.options.target?g.element.find(g.options.target):g.element,O=S.length===1?1:0,F=0;S.each(function(A){var I=a.$(this),N=I.data("inviewstate"),Y=a.Utils.isInView(I,g.options),H=I.attr("data-uk-scrollspy-cls")||C[F].trim();Y&&!N&&!I.data("scrollspy-idle")&&(b||(I.addClass(g.options.initcls),g.offset=I.offset(),b=!0,I.trigger("init.uk.scrollspy")),I.data("scrollspy-idle",setTimeout(function(){I.addClass("uk-scrollspy-inview").toggleClass(H).width(),I.trigger("inview.uk.scrollspy"),I.data("scrollspy-idle",!1),I.data("inviewstate",!0)},g.options.delay*O)),O++),!Y&&N&&g.options.repeat&&(I.data("scrollspy-idle")&&(clearTimeout(I.data("scrollspy-idle")),I.data("scrollspy-idle",!1)),I.removeClass("uk-scrollspy-inview").toggleClass(H),I.data("inviewstate",!1),I.trigger("outview.uk.scrollspy")),F=C[F+1]?F+1:0})};x(),this.check=x,c.push(this)}});var f=[],p=function(){for(var g=0;g<f.length;g++)window.requestAnimationFrame.apply(window,[f[g].check])};a.component("scrollspynav",{defaults:{cls:"uk-active",closest:!1,topoffset:0,leftoffset:0,smoothscroll:!1},boot:function(){r.on("scrolling.uk.document",p),e.on("resize orientationchange",a.Utils.debounce(p,50)),a.ready(function(g){a.$("[data-uk-scrollspy-nav]",g).each(function(){var b=a.$(this);b.data("scrollspynav")||a.scrollspynav(b,a.Utils.options(b.attr("data-uk-scrollspy-nav")))})})},init:function(){var g=[],b=this.find("a[href^='#']").each(function(){this.getAttribute("href").trim()!=="#"&&g.push(this.getAttribute("href"))}),C=a.$(g.join(",")),x=this.options.cls,S=this.options.closest||this.options.closest,O=this,F,A=function(){F=[];for(var I=0;I<C.length;I++)a.Utils.isInView(C.eq(I),O.options)&&F.push(C.eq(I));if(F.length){var N,Y=e.scrollTop(),H=(function(){for(var K=0;K<F.length;K++)if(F[K].offset().top-O.options.topoffset>=Y)return F[K]})();if(!H)return;O.options.closest?(b.blur().closest(S).removeClass(x),N=b.filter("a[href='#"+H.attr("id")+"']").closest(S).addClass(x)):N=b.removeClass(x).filter("a[href='#"+H.attr("id")+"']").addClass(x),O.element.trigger("inview.uk.scrollspynav",[H,N])}};this.options.smoothscroll&&a.smoothScroll&&b.each(function(){a.smoothScroll(this,O.options.smoothscroll)}),A(),this.element.data("scrollspynav",this),this.check=A,f.push(this)}})})(UIkit2);(function(a){var e=[];a.component("toggle",{defaults:{target:!1,cls:"uk-hidden",animation:!1,duration:200},boot:function(){a.ready(function(r){a.$("[data-uk-toggle]",r).each(function(){var c=a.$(this);c.data("toggle")||a.toggle(c,a.Utils.options(c.attr("data-uk-toggle")))}),setTimeout(function(){e.forEach(function(c){c.getToggles()})},0)})},init:function(){var r=this;this.aria=this.options.cls.indexOf("uk-hidden")!==-1,this.on("click",function(c){r.element.is('a[href="#"]')&&c.preventDefault(),r.toggle()}),e.push(this)},toggle:function(){if(this.getToggles(),!!this.totoggle.length){if(this.options.animation&&a.support.animation){var r=this,c=this.options.animation.split(",");c.length==1&&(c[1]=c[0]),c[0]=c[0].trim(),c[1]=c[1].trim(),this.totoggle.css("animation-duration",this.options.duration+"ms"),this.totoggle.each(function(){var d=a.$(this);d.hasClass(r.options.cls)?(d.toggleClass(r.options.cls),a.Utils.animate(d,c[0]).then(function(){d.css("animation-duration",""),a.Utils.checkDisplay(d)})):a.Utils.animate(this,c[1]+" uk-animation-reverse").then(function(){d.toggleClass(r.options.cls).css("animation-duration",""),a.Utils.checkDisplay(d)})})}else this.totoggle.toggleClass(this.options.cls),a.Utils.checkDisplay(this.totoggle);this.updateAria()}},getToggles:function(){this.totoggle=this.options.target?a.$(this.options.target):[],this.updateAria()},updateAria:function(){this.aria&&this.totoggle.length&&this.totoggle.not("[aria-hidden]").each(function(){a.$(this).attr("aria-hidden",a.$(this).hasClass("uk-hidden"))})}})})(UIkit2);(function(a){a.component("alert",{defaults:{fade:!0,duration:200,trigger:".uk-alert-close"},boot:function(){a.$html.on("click.alert.uikit","[data-uk-alert]",function(e){var r=a.$(this);if(!r.data("alert")){var c=a.alert(r,a.Utils.options(r.attr("data-uk-alert")));a.$(e.target).is(c.options.trigger)&&(e.preventDefault(),c.close())}})},init:function(){var e=this;this.on("click",this.options.trigger,function(r){r.preventDefault(),e.close()})},close:function(){var e=this.trigger("close.uk.alert"),r=(function(){this.trigger("closed.uk.alert").remove()}).bind(this);this.options.fade?e.css("overflow","hidden").css("max-height",e.height()).animate({height:0,opacity:0,paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0},this.options.duration,r):r()}})})(UIkit2);(function(a){a.component("buttonRadio",{defaults:{activeClass:"uk-active",target:".uk-button"},boot:function(){a.$html.on("click.buttonradio.uikit","[data-uk-button-radio]",function(e){var r=a.$(this);if(!r.data("buttonRadio")){var c=a.buttonRadio(r,a.Utils.options(r.attr("data-uk-button-radio"))),d=a.$(e.target);d.is(c.options.target)&&d.trigger("click")}})},init:function(){var e=this;this.find(e.options.target).attr("aria-checked","false").filter("."+e.options.activeClass).attr("aria-checked","true"),this.on("click",this.options.target,function(r){var c=a.$(this);c.is('a[href="#"]')&&r.preventDefault(),e.find(e.options.target).not(c).removeClass(e.options.activeClass).blur(),c.addClass(e.options.activeClass),e.find(e.options.target).not(c).attr("aria-checked","false"),c.attr("aria-checked","true"),e.trigger("change.uk.button",[c])})},getSelected:function(){return this.find("."+this.options.activeClass)}}),a.component("buttonCheckbox",{defaults:{activeClass:"uk-active",target:".uk-button"},boot:function(){a.$html.on("click.buttoncheckbox.uikit","[data-uk-button-checkbox]",function(e){var r=a.$(this);if(!r.data("buttonCheckbox")){var c=a.buttonCheckbox(r,a.Utils.options(r.attr("data-uk-button-checkbox"))),d=a.$(e.target);d.is(c.options.target)&&d.trigger("click")}})},init:function(){var e=this;this.find(e.options.target).attr("aria-checked","false").filter("."+e.options.activeClass).attr("aria-checked","true"),this.on("click",this.options.target,function(r){var c=a.$(this);c.is('a[href="#"]')&&r.preventDefault(),c.toggleClass(e.options.activeClass).blur(),c.attr("aria-checked",c.hasClass(e.options.activeClass)),e.trigger("change.uk.button",[c])})},getSelected:function(){return this.find("."+this.options.activeClass)}}),a.component("button",{defaults:{},boot:function(){a.$html.on("click.button.uikit","[data-uk-button]",function(e){var r=a.$(this);r.data("button")||(a.button(r,a.Utils.options(r.attr("data-uk-button"))),r.trigger("click"))})},init:function(){var e=this;this.element.attr("aria-pressed",this.element.hasClass("uk-active")),this.on("click",function(r){e.element.is('a[href="#"]')&&r.preventDefault(),e.toggle(),e.trigger("change.uk.button",[e.element.blur().hasClass("uk-active")])})},toggle:function(){this.element.toggleClass("uk-active"),this.element.attr("aria-pressed",this.element.hasClass("uk-active"))}})})(UIkit2);(function(a){var e=!1,r,c={x:{"bottom-left":"bottom-right","bottom-right":"bottom-left","bottom-center":"bottom-center","top-left":"top-right","top-right":"top-left","top-center":"top-center","left-top":"right-top","left-bottom":"right-bottom","left-center":"right-center","right-top":"left-top","right-bottom":"left-bottom","right-center":"left-center"},y:{"bottom-left":"top-left","bottom-right":"top-right","bottom-center":"top-center","top-left":"bottom-left","top-right":"bottom-right","top-center":"bottom-center","left-top":"left-bottom","left-bottom":"left-top","left-center":"left-center","right-top":"right-bottom","right-bottom":"right-top","right-center":"right-center"},xy:{"bottom-left":"top-right","bottom-right":"top-left","bottom-center":"top-center","top-left":"bottom-right","top-right":"bottom-left","top-center":"bottom-center","left-top":"right-bottom","left-bottom":"right-top","left-center":"right-center","right-top":"left-bottom","right-bottom":"left-top","right-center":"left-center"}};a.component("dropdown",{defaults:{mode:"hover",pos:"bottom-left",offset:0,remaintime:800,justify:!1,boundary:a.$win,delay:0,dropdownSelector:".uk-dropdown,.uk-dropdown-blank",hoverDelayIdle:250,preventflip:!1},remainIdle:!1,boot:function(){var f=a.support.touch?"click":"mouseenter";a.$html.on(f+".dropdown.uikit focus pointerdown","[data-uk-dropdown]",function(p){var g=a.$(this);if(!g.data("dropdown")){var b=a.dropdown(g,a.Utils.options(g.attr("data-uk-dropdown")));(p.type=="click"||p.type=="mouseenter"&&b.options.mode=="hover")&&b.element.trigger(f),b.dropdown.length&&p.preventDefault()}})},init:function(){var f=this;this.dropdown=this.find(this.options.dropdownSelector),this.offsetParent=this.dropdown.parents().filter(function(){return a.$.inArray(a.$(this).css("position"),["relative","fixed","absolute"])!==-1}).slice(0,1),this.offsetParent.length||(this.offsetParent=this.element),this.centered=this.dropdown.hasClass("uk-dropdown-center"),this.justified=this.options.justify?a.$(this.options.justify):!1,this.boundary=a.$(this.options.boundary),this.boundary.length||(this.boundary=a.$win),this.dropdown.hasClass("uk-dropdown-up")&&(this.options.pos="top-left"),this.dropdown.hasClass("uk-dropdown-flip")&&(this.options.pos=this.options.pos.replace("left","right")),this.dropdown.hasClass("uk-dropdown-center")&&(this.options.pos=this.options.pos.replace(/(left|right)/,"center")),this.element.attr("aria-haspopup","true"),this.element.attr("aria-expanded",this.element.hasClass("uk-open")),this.dropdown.attr("aria-hidden","true"),this.options.mode=="click"||a.support.touch?this.on("click.uk.dropdown",function(p){var g=a.$(p.target);g.parents(f.options.dropdownSelector).length||((g.is("a[href='#']")||g.parent().is("a[href='#']")||f.dropdown.length&&!f.dropdown.is(":visible"))&&p.preventDefault(),g.blur()),f.element.hasClass("uk-open")?(!f.dropdown.find(p.target).length||g.is(".uk-dropdown-close")||g.parents(".uk-dropdown-close").length)&&f.hide():f.show()}):this.on("mouseenter",function(p){f.trigger("pointerenter.uk.dropdown",[f]),f.remainIdle&&clearTimeout(f.remainIdle),r&&clearTimeout(r),!(e&&e==f)&&(e&&e!=f?r=setTimeout(function(){r=setTimeout(f.show.bind(f),f.options.delay)},f.options.hoverDelayIdle):r=setTimeout(f.show.bind(f),f.options.delay))}).on("mouseleave",function(){r&&clearTimeout(r),f.remainIdle=setTimeout(function(){e&&e==f&&f.hide()},f.options.remaintime),f.trigger("pointerleave.uk.dropdown",[f])}).on("click",function(p){var g=a.$(p.target);if(f.remainIdle&&clearTimeout(f.remainIdle),e&&e==f){(!f.dropdown.find(p.target).length||g.is(".uk-dropdown-close")||g.parents(".uk-dropdown-close").length)&&f.hide();return}(g.is("a[href='#']")||g.parent().is("a[href='#']"))&&p.preventDefault(),f.show()})},show:function(){a.$html.off("click.outer.dropdown"),e&&e!=this&&e.hide(!0),r&&clearTimeout(r),this.trigger("beforeshow.uk.dropdown",[this]),this.checkDimensions(),this.element.addClass("uk-open"),this.element.attr("aria-expanded","true"),this.dropdown.attr("aria-hidden","false"),this.trigger("show.uk.dropdown",[this]),a.Utils.checkDisplay(this.dropdown,!0),a.Utils.focus(this.dropdown),e=this,this.registerOuterClick()},hide:function(f){this.trigger("beforehide.uk.dropdown",[this,f]),this.element.removeClass("uk-open"),this.remainIdle&&clearTimeout(this.remainIdle),this.remainIdle=!1,this.element.attr("aria-expanded","false"),this.dropdown.attr("aria-hidden","true"),this.trigger("hide.uk.dropdown",[this,f]),e==this&&(e=!1)},registerOuterClick:function(){var f=this;a.$html.off("click.outer.dropdown"),setTimeout(function(){a.$html.on("click.outer.dropdown",function(p){r&&clearTimeout(r),a.$(p.target),e==f&&!f.element.find(p.target).length&&(f.hide(!0),a.$html.off("click.outer.dropdown"))})},10)},checkDimensions:function(){if(this.dropdown.length){this.dropdown.removeClass("uk-dropdown-top uk-dropdown-bottom uk-dropdown-left uk-dropdown-right uk-dropdown-stack uk-dropdown-autoflip").css({topLeft:"",left:"",marginLeft:"",marginRight:""}),this.justified&&this.justified.length&&this.dropdown.css("min-width","");var f=a.$.extend({},this.offsetParent.offset(),{width:this.offsetParent[0].offsetWidth,height:this.offsetParent[0].offsetHeight}),p=this.options.offset,g=this.dropdown;g.show().offset();var b=g.outerWidth(),C=g.outerHeight(),x=this.boundary.width();this.boundary[0]!==window&&this.boundary.offset()&&this.boundary.offset();var S=this.options.pos,O={"bottom-left":{top:0+f.height+p,left:0},"bottom-right":{top:0+f.height+p,left:0+f.width-b},"bottom-center":{top:0+f.height+p,left:0+f.width/2-b/2},"top-left":{top:0-C-p,left:0},"top-right":{top:0-C-p,left:0+f.width-b},"top-center":{top:0-C-p,left:0+f.width/2-b/2},"left-top":{top:0,left:0-b-p},"left-bottom":{top:0+f.height-C,left:0-b-p},"left-center":{top:0+f.height/2-C/2,left:0-b-p},"right-top":{top:0,left:0+f.width+p},"right-bottom":{top:0+f.height-C,left:0+f.width+p},"right-center":{top:0+f.height/2-C/2,left:0+f.width+p}},F={},A;if(A=S.split("-"),F=O[S]?O[S]:O["bottom-left"],this.justified&&this.justified.length)d(g.css({left:0}),this.justified,x);else if(this.options.preventflip!==!0){var I;switch(this.checkBoundary(f.left+F.left,f.top+F.top,b,C,x)){case"x":this.options.preventflip!=="x"&&(I=c.x[S]||"right-top");break;case"y":this.options.preventflip!=="y"&&(I=c.y[S]||"top-left");break;case"xy":this.options.preventflip||(I=c.xy[S]||"right-bottom");break}I&&(A=I.split("-"),F=O[I]?O[I]:O["bottom-left"],g.addClass("uk-dropdown-autoflip"),this.checkBoundary(f.left+F.left,f.top+F.top,b,C,x)&&(A=S.split("-"),F=O[S]?O[S]:O["bottom-left"]))}b>x&&(g.addClass("uk-dropdown-stack"),this.trigger("stack.uk.dropdown",[this])),g.css(F).css("display","").addClass("uk-dropdown-"+A[0])}},checkBoundary:function(f,p,g,b,C){var x="";return(f<0||f-a.$win.scrollLeft()+g>C)&&(x+="x"),(p-a.$win.scrollTop()<0||p-a.$win.scrollTop()+b>window.innerHeight)&&(x+="y"),x}}),a.component("dropdownOverlay",{defaults:{justify:!1,cls:"",duration:200},boot:function(){a.ready(function(f){a.$("[data-uk-dropdown-overlay]",f).each(function(){var p=a.$(this);p.data("dropdownOverlay")||a.dropdownOverlay(p,a.Utils.options(p.attr("data-uk-dropdown-overlay")))})})},init:function(){var f=this;this.justified=this.options.justify?a.$(this.options.justify):!1,this.overlay=this.element.find("uk-dropdown-overlay"),this.overlay.length||(this.overlay=a.$('<div class="uk-dropdown-overlay"></div>').appendTo(this.element)),this.overlay.addClass(this.options.cls),this.on({"beforeshow.uk.dropdown":function(p,g){f.dropdown=g,f.justified&&f.justified.length&&d(f.overlay.css({display:"block",marginLeft:"",marginRight:""}),f.justified,f.justified.outerWidth())},"show.uk.dropdown":function(p,g){var b=f.dropdown.dropdown.outerHeight(!0);f.dropdown.element.removeClass("uk-open"),f.overlay.stop().css("display","block").animate({height:b},f.options.duration,function(){f.dropdown.dropdown.css("visibility",""),f.dropdown.element.addClass("uk-open"),a.Utils.checkDisplay(f.dropdown.dropdown,!0)}),f.pointerleave=!1},"hide.uk.dropdown":function(){f.overlay.stop().animate({height:0},f.options.duration)},"pointerenter.uk.dropdown":function(p,g){clearTimeout(f.remainIdle)},"pointerleave.uk.dropdown":function(p,g){f.pointerleave=!0}}),this.overlay.on({mouseenter:function(){f.remainIdle&&(clearTimeout(f.dropdown.remainIdle),clearTimeout(f.remainIdle))},mouseleave:function(){f.pointerleave&&e&&(f.remainIdle=setTimeout(function(){e&&e.hide()},e.options.remaintime))}})}});function d(f,p,g,b){if(f=a.$(f),p=a.$(p),g=g||window.innerWidth,b=b||f.offset(),p.length){var C=p.outerWidth();if(f.css("min-width",C),a.langdirection=="right"){var x=g-(p.offset().left+C),S=g-(f.offset().left+f.outerWidth());f.css("margin-right",x-S)}else f.css("margin-left",p.offset().left-b.left)}}})(UIkit2);(function(a){a.component("gridMatchHeight",{defaults:{target:!1,row:!0,ignorestacked:!1,observe:!1},boot:function(){a.ready(function(e){a.$("[data-uk-grid-match]",e).each(function(){var r=a.$(this);r.data("gridMatchHeight")||a.gridMatchHeight(r,a.Utils.options(r.attr("data-uk-grid-match")))})})},init:function(){var e=this;this.columns=this.element.children(),this.elements=this.options.target?this.find(this.options.target):this.columns,this.columns.length&&(a.$win.on("load resize orientationchange",(function(){var r=function(){e.element.is(":visible")&&e.match()};return a.$(function(){r()}),a.Utils.debounce(r,50)})()),this.options.observe&&a.domObserve(this.element,function(r){e.element.is(":visible")&&e.match()}),this.on("display.uk.check",(function(r){this.element.is(":visible")&&this.match()}).bind(this)))},match:function(){var e=this.columns.filter(":visible:first");if(e.length){var r=Math.ceil(100*parseFloat(e.css("width"))/parseFloat(e.parent().css("width")))>=100;return r&&!this.options.ignorestacked?this.revert():a.Utils.matchHeights(this.elements,this.options),this}},revert:function(){return this.elements.css("min-height",""),this}}),a.component("gridMargin",{defaults:{cls:"uk-grid-margin",rowfirst:"uk-row-first"},boot:function(){a.ready(function(e){a.$("[data-uk-grid-margin]",e).each(function(){var r=a.$(this);r.data("gridMargin")||a.gridMargin(r,a.Utils.options(r.attr("data-uk-grid-margin")))})})},init:function(){a.stackMargin(this.element,this.options)}})})(UIkit2);(function(a){var e=!1,r=0,c=a.$html,d;a.$win.on("resize orientationchange",a.Utils.debounce(function(){a.$(".uk-modal.uk-open").each(function(){return a.$(this).data("modal")&&a.$(this).data("modal").resize()})},150)),a.component("modal",{defaults:{keyboard:!0,bgclose:!0,minScrollHeight:150,center:!1,modal:!0},scrollable:!1,transition:!1,hasTransitioned:!0,init:function(){if(d||(d=a.$("body")),!!this.element.length){var p=this;this.paddingdir="padding-"+(a.langdirection=="left"?"right":"left"),this.dialog=this.find(".uk-modal-dialog"),this.active=!1,this.element.attr("aria-hidden",this.element.hasClass("uk-open")),this.on("click",".uk-modal-close",function(g){g.preventDefault(),p.hide()}).on("click",function(g){var b=a.$(g.target);b[0]==p.element[0]&&p.options.bgclose&&p.hide()}),a.domObserve(this.element,function(g){p.resize()})}},toggle:function(){return this[this.isActive()?"hide":"show"]()},show:function(){if(this.element.length){var p=this;if(!this.isActive())return this.options.modal&&e&&e.hide(!0),this.element.removeClass("uk-open").show(),this.resize(!0),this.options.modal&&(e=this),this.active=!0,r++,a.support.transition?(this.hasTransitioned=!1,this.element.one(a.support.transition.end,function(){p.hasTransitioned=!0,a.Utils.focus(p.dialog,"a[href]")}).addClass("uk-open")):(this.element.addClass("uk-open"),a.Utils.focus(this.dialog,"a[href]")),c.addClass("uk-modal-page").height(),this.element.attr("aria-hidden","false"),this.element.trigger("show.uk.modal"),a.Utils.checkDisplay(this.dialog,!0),this}},hide:function(p){if(!p&&a.support.transition&&this.hasTransitioned){var g=this;this.one(a.support.transition.end,function(){g._hide()}).removeClass("uk-open")}else this._hide();return this},resize:function(p){if(!(!this.isActive()&&!p)){var g=d.width();if(this.scrollbarwidth=window.innerWidth-g,d.css(this.paddingdir,this.scrollbarwidth),this.element.css("overflow-y",this.scrollbarwidth?"scroll":"auto"),!this.updateScrollable()&&this.options.center){var b=this.dialog.outerHeight(),C=parseInt(this.dialog.css("margin-top"),10)+parseInt(this.dialog.css("margin-bottom"),10);b+C<window.innerHeight?this.dialog.css({top:window.innerHeight/2-b/2-C}):this.dialog.css({top:""})}}},updateScrollable:function(){var p=this.dialog.find(".uk-overflow-container:visible:first");if(p.length){p.css("height",0);var g=Math.abs(parseInt(this.dialog.css("margin-top"),10)),b=this.dialog.outerHeight(),C=window.innerHeight,x=C-2*(g<20?20:g)-b;return p.css({maxHeight:x<this.options.minScrollHeight?"":x,height:""}),!0}return!1},_hide:function(){this.active=!1,r>0?r--:r=0,this.element.hide().removeClass("uk-open"),this.element.attr("aria-hidden","true"),r||(c.removeClass("uk-modal-page"),d.css(this.paddingdir,"")),e===this&&(e=!1),this.trigger("hide.uk.modal")},isActive:function(){return this.element.hasClass("uk-open")}}),a.component("modalTrigger",{boot:function(){a.$html.on("click.modal.uikit","[data-uk-modal]",function(p){var g=a.$(this);if(g.is("a")&&p.preventDefault(),!g.data("modalTrigger")){var b=a.modalTrigger(g,a.Utils.options(g.attr("data-uk-modal")));b.show()}}),a.$html.on("keydown.modal.uikit",function(p){e&&p.keyCode===27&&e.options.keyboard&&(p.preventDefault(),e.hide())})},init:function(){var p=this;this.options=a.$.extend({target:p.element.is("a")?p.element.attr("href"):!1},this.options),this.modal=a.modal(this.options.target,this.options),this.on("click",function(g){g.preventDefault(),p.show()}),this.proxy(this.modal,"show hide isActive")}}),a.modal.dialog=function(p,g){var b=a.modal(a.$(a.modal.dialog.template).appendTo("body"),g);return b.on("hide.uk.modal",function(){b.persist&&(b.persist.appendTo(b.persist.data("modalPersistParent")),b.persist=!1),b.element.remove()}),f(p,b),b},a.modal.dialog.template='<div class="uk-modal"><div class="uk-modal-dialog" style="min-height:0;"></div></div>',a.modal.alert=function(p,g){g=a.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:a.modal.labels},g);var b=a.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(p)+"</div>",'<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-button-primary uk-modal-close">'+g.labels.Ok+"</button></div>"].join(""),g);return b.on("show.uk.modal",function(){setTimeout(function(){b.element.find("button:first").focus()},50)}),b.show()},a.modal.confirm=function(p,g,b){var C=arguments.length>1&&arguments[arguments.length-1]?arguments[arguments.length-1]:{};g=a.$.isFunction(g)?g:function(){},b=a.$.isFunction(b)?b:function(){},C=a.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:a.modal.labels},a.$.isFunction(C)?{}:C);var x=a.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(p)+"</div>",'<div class="uk-modal-footer uk-text-right"><button class="uk-button js-modal-confirm-cancel">'+C.labels.Cancel+'</button> <button class="uk-button uk-button-primary js-modal-confirm">'+C.labels.Ok+"</button></div>"].join(""),C);return x.element.find(".js-modal-confirm, .js-modal-confirm-cancel").on("click",function(){a.$(this).is(".js-modal-confirm")?g():b(),x.hide()}),x.on("show.uk.modal",function(){setTimeout(function(){x.element.find(".js-modal-confirm").focus()},50)}),x.show()},a.modal.prompt=function(p,g,b,C){b=a.$.isFunction(b)?b:function(O){},C=a.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:a.modal.labels},C);var x=a.modal.dialog([p?'<div class="uk-modal-content uk-form">'+String(p)+"</div>":"",'<div class="uk-margin-small-top uk-modal-content uk-form"><p><input type="text" class="uk-width-1-1"></p></div>','<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-modal-close">'+C.labels.Cancel+'</button> <button class="uk-button uk-button-primary js-modal-ok">'+C.labels.Ok+"</button></div>"].join(""),C),S=x.element.find("input[type='text']").val(g||"").on("keyup",function(O){O.keyCode==13&&x.element.find(".js-modal-ok").trigger("click")});return x.element.find(".js-modal-ok").on("click",function(){b(S.val())!==!1&&x.hide()}),x.show()},a.modal.blockUI=function(p,g){var b=a.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(p||'<div class="uk-text-center">...</div>')+"</div>"].join(""),a.$.extend({bgclose:!1,keyboard:!1,modal:!1},g));return b.content=b.element.find(".uk-modal-content:first"),b.show()},a.modal.labels={Ok:"Ok",Cancel:"Cancel"};function f(p,g){if(g)return typeof p=="object"?(p=p instanceof jQuery?p:a.$(p),p.parent().length&&(g.persist=p,g.persist.data("modalPersistParent",p.parent()))):typeof p=="string"||typeof p=="number"?p=a.$("<div></div>").html(p):p=a.$("<div></div>").html("UIkit2.modal Error: Unsupported data type: "+typeof p),p.appendTo(g.element.find(".uk-modal-dialog")),g}})(UIkit2);(function(a){a.component("nav",{defaults:{toggle:'>li.uk-parent > a[href="#"]',lists:">li.uk-parent > ul",multiple:!1},boot:function(){a.ready(function(r){a.$("[data-uk-nav]",r).each(function(){var c=a.$(this);c.data("nav")||a.nav(c,a.Utils.options(c.attr("data-uk-nav")))})})},init:function(){var r=this;this.on("click.uk.nav",this.options.toggle,function(c){c.preventDefault();var d=a.$(this);r.open(d.parent()[0]==r.element[0]?d:d.parent("li"))}),this.update(),a.domObserve(this.element,function(c){r.element.find(r.options.lists).not("[role]").length&&r.update()})},update:function(){var r=this;this.find(this.options.lists).each(function(){var c=a.$(this).attr("role","menu"),d=c.closest("li"),f=d.hasClass("uk-active");d.data("list-container")||(c.wrap('<div style="overflow:hidden;height:0;position:relative;"></div>'),d.data("list-container",c.parent()[f?"removeClass":"addClass"]("uk-hidden"))),d.attr("aria-expanded",d.hasClass("uk-open")),f&&r.open(d,!0)})},open:function(r,c){var d=this,f=this.element,p=a.$(r),g=p.data("list-container");this.options.multiple||f.children(".uk-open").not(r).each(function(){var b=a.$(this);b.data("list-container")&&b.data("list-container").stop().animate({height:0},function(){a.$(this).parent().removeClass("uk-open").end().addClass("uk-hidden")})}),p.toggleClass("uk-open"),p.attr("aria-expanded",p.hasClass("uk-open")),g&&(p.hasClass("uk-open")&&g.removeClass("uk-hidden"),c?(g.stop().height(p.hasClass("uk-open")?"auto":0),p.hasClass("uk-open")||g.addClass("uk-hidden"),this.trigger("display.uk.check")):g.stop().animate({height:p.hasClass("uk-open")?e(g.find("ul:first")):0},function(){p.hasClass("uk-open")?g.css("height",""):g.addClass("uk-hidden"),d.trigger("display.uk.check")}))}});function e(r){var c=a.$(r),d="auto";if(c.is(":visible"))d=c.outerHeight();else{var f={position:c.css("position"),visibility:c.css("visibility"),display:c.css("display")};d=c.css({position:"absolute",visibility:"hidden",display:"block"}).outerHeight(),c.css(f)}return d}})(UIkit2);(function(a){var e={x:window.scrollX,y:window.scrollY};a.$win,a.$doc;var r=a.$html,c={show:function(d,f){if(d=a.$(d),!!d.length){f=a.$.extend({mode:"push"},f);var p=a.$("body"),g=d.find(".uk-offcanvas-bar:first"),b=a.langdirection=="right",C=g.hasClass("uk-offcanvas-bar-flip")?-1:1,x=C*(b?-1:1),S=window.innerWidth-p.width();e={x:window.pageXOffset,y:window.pageYOffset},g.attr("mode",f.mode),d.addClass("uk-active"),p.css({width:window.innerWidth-S,height:window.innerHeight}).addClass("uk-offcanvas-page"),(f.mode=="push"||f.mode=="reveal")&&p.css(b?"margin-right":"margin-left",(b?-1:1)*(g.outerWidth()*x)),f.mode=="reveal"&&g.css("clip","rect(0, "+g.outerWidth()+"px, 100vh, 0)"),r.css("margin-top",e.y*-1).width(),g.addClass("uk-offcanvas-bar-show"),this._initElement(d),g.trigger("show.uk.offcanvas",[d,g]),d.attr("aria-hidden","false")}},hide:function(d){var f=a.$("body"),p=a.$(".uk-offcanvas.uk-active"),g=a.langdirection=="right",b=p.find(".uk-offcanvas-bar:first"),C=function(){f.removeClass("uk-offcanvas-page").css({width:"",height:"",marginLeft:"",marginRight:""}),p.removeClass("uk-active"),b.removeClass("uk-offcanvas-bar-show"),r.css("margin-top",""),window.scrollTo(e.x,e.y),b.trigger("hide.uk.offcanvas",[p,b]),p.attr("aria-hidden","true")};p.length&&(b.attr("mode")=="none"&&(d=!0),a.support.transition&&!d?(f.one(a.support.transition.end,function(){C()}).css(g?"margin-right":"margin-left",""),b.attr("mode")=="reveal"&&b.css("clip",""),setTimeout(function(){b.removeClass("uk-offcanvas-bar-show")},0)):C())},_initElement:function(d){d.data("OffcanvasInit")||(d.on("click.uk.offcanvas swipeRight.uk.offcanvas swipeLeft.uk.offcanvas",function(f){var p=a.$(f.target);!f.type.match(/swipe/)&&!p.hasClass("uk-offcanvas-close")&&(p.hasClass("uk-offcanvas-bar")||p.parents(".uk-offcanvas-bar:first").length)||(f.stopImmediatePropagation(),c.hide())}),d.on("click",'a[href*="#"]',function(f){var p=a.$(this),g=p.attr("href");g!="#"&&(a.$doc.one("hide.uk.offcanvas",function(){var b;try{b=a.$(p[0].hash)}catch{b=""}b.length||(b=a.$('[name="'+p[0].hash.replace("#","")+'"]')),b.length&&a.Utils.scrollToElement?a.Utils.scrollToElement(b,a.Utils.options(p.attr("data-uk-smooth-scroll")||"{}")):window.location.href=g}),c.hide())}),d.data("OffcanvasInit",!0))}};a.component("offcanvasTrigger",{boot:function(){r.on("click.offcanvas.uikit","[data-uk-offcanvas]",function(d){d.preventDefault();var f=a.$(this);f.data("offcanvasTrigger")||(a.offcanvasTrigger(f,a.Utils.options(f.attr("data-uk-offcanvas"))),f.trigger("click"))}),r.on("keydown.uk.offcanvas",function(d){d.keyCode===27&&c.hide()})},init:function(){var d=this;this.options=a.$.extend({target:d.element.is("a")?d.element.attr("href"):!1,mode:"push"},this.options),this.on("click",function(f){f.preventDefault(),c.show(d.options.target,d.options)})}}),a.offcanvas=c})(UIkit2);(function(a){var e;a.component("switcher",{defaults:{connect:!1,toggle:">*",active:0,animation:!1,duration:200,swiping:!0},animating:!1,boot:function(){a.ready(function(c){a.$("[data-uk-switcher]",c).each(function(){var d=a.$(this);d.data("switcher")||a.switcher(d,a.Utils.options(d.attr("data-uk-switcher")))})})},init:function(){var c=this;this.on("click.uk.switcher",this.options.toggle,function(d){d.preventDefault(),c.show(this)}),this.options.connect&&(this.connect=a.$(this.options.connect),this.connect.length&&(this.connect.on("click.uk.switcher","[data-uk-switcher-item]",function(d){d.preventDefault();var f=a.$(this).attr("data-uk-switcher-item");if(c.index!=f)switch(f){case"next":case"previous":c.show(c.index+(f=="next"?1:-1));break;default:c.show(parseInt(f,10))}}),this.options.swiping&&this.connect.on("swipeRight swipeLeft",function(d){d.preventDefault(),window.getSelection().toString()||c.show(c.index+(d.type=="swipeLeft"?1:-1))}),this.update()))},update:function(){this.connect.children().removeClass("uk-active").attr("aria-hidden","true");var c=this.find(this.options.toggle),d=c.filter(".uk-active");if(d.length)this.show(d,!1);else{if(this.options.active===!1)return;d=c.eq(this.options.active),this.show(d.length?d:c.eq(0),!1)}c.not(d).attr("aria-expanded","false"),d.attr("aria-expanded","true")},show:function(c,d){if(!this.animating){var f=this.find(this.options.toggle);isNaN(c)?c=a.$(c):(c=c<0?f.length-1:c,c=f.eq(f[c]?c:0));var p=this,g=a.$(c),b=e[this.options.animation]||function(C,x){if(!p.options.animation)return e.none.apply(p);var S=p.options.animation.split(",");return S.length==1&&(S[1]=S[0]),S[0]=S[0].trim(),S[1]=S[1].trim(),r.apply(p,[S,C,x])};(d===!1||!a.support.animation)&&(b=e.none),!g.hasClass("uk-disabled")&&(f.attr("aria-expanded","false"),g.attr("aria-expanded","true"),f.filter(".uk-active").removeClass("uk-active"),g.addClass("uk-active"),this.options.connect&&this.connect.length&&(this.index=this.find(this.options.toggle).index(g),this.index==-1&&(this.index=0),this.connect.each(function(){var C=a.$(this),x=a.$(C.children()),S=a.$(x.filter(".uk-active")),O=a.$(x.eq(p.index));p.animating=!0,b.apply(p,[S,O]).then(function(){S.removeClass("uk-active"),O.addClass("uk-active"),S.attr("aria-hidden","true"),O.attr("aria-hidden","false"),a.Utils.checkDisplay(O,!0),p.animating=!1})})),this.trigger("show.uk.switcher",[g]))}}}),e={none:function(){var c=a.$.Deferred();return c.resolve(),c.promise()},fade:function(c,d){return r.apply(this,["uk-animation-fade",c,d])},"slide-bottom":function(c,d){return r.apply(this,["uk-animation-slide-bottom",c,d])},"slide-top":function(c,d){return r.apply(this,["uk-animation-slide-top",c,d])},"slide-vertical":function(c,d,f){var p=["uk-animation-slide-top","uk-animation-slide-bottom"];return c&&c.index()>d.index()&&p.reverse(),r.apply(this,[p,c,d])},"slide-left":function(c,d){return r.apply(this,["uk-animation-slide-left",c,d])},"slide-right":function(c,d){return r.apply(this,["uk-animation-slide-right",c,d])},"slide-horizontal":function(c,d,f){var p=["uk-animation-slide-right","uk-animation-slide-left"];return c&&c.index()>d.index()&&p.reverse(),r.apply(this,[p,c,d])},scale:function(c,d){return r.apply(this,["uk-animation-scale-up",c,d])}},a.switcher.animations=e;function r(c,d,f){var p=a.$.Deferred(),g=c,b=c,C;return f[0]===d[0]?(p.resolve(),p.promise()):(typeof c=="object"&&(g=c[0],b=c[1]||c[0]),a.$body.css("overflow-x","hidden"),C=function(){d&&d.hide().removeClass("uk-active "+b+" uk-animation-reverse"),f.addClass(g).one(a.support.animation.end,(function(){setTimeout(function(){f.removeClass(""+g).css({opacity:"",display:""})},0),p.resolve(),a.$body.css("overflow-x",""),d&&d.css({opacity:"",display:""})}).bind(this)).show()},f.css("animation-duration",this.options.duration+"ms"),d&&d.length?(d.css("animation-duration",this.options.duration+"ms"),d.css("display","none").addClass(b+" uk-animation-reverse").one(a.support.animation.end,(function(){C()}).bind(this)).css("display","")):(f.addClass("uk-active"),C()),p.promise())}})(UIkit2);(function(a){a.component("tab",{defaults:{target:">li:not(.uk-tab-responsive, .uk-disabled)",connect:!1,active:0,animation:!1,duration:200,swiping:!0},boot:function(){a.ready(function(e){a.$("[data-uk-tab]",e).each(function(){var r=a.$(this);r.data("tab")||a.tab(r,a.Utils.options(r.attr("data-uk-tab")))})})},init:function(){var e=this;this.current=!1,this.on("click.uk.tab",this.options.target,function(r){if(r.preventDefault(),!(e.switcher&&e.switcher.animating)){var c=e.find(e.options.target).not(this);c.removeClass("uk-active").blur(),e.trigger("change.uk.tab",[a.$(this).addClass("uk-active"),e.current]),e.current=a.$(this),e.options.connect||(c.attr("aria-expanded","false"),a.$(this).attr("aria-expanded","true"))}}),this.options.connect&&(this.connect=a.$(this.options.connect)),this.responsivetab=a.$('<li class="uk-tab-responsive uk-active"><a></a></li>').append('<div class="uk-dropdown uk-dropdown-small"><ul class="uk-nav uk-nav-dropdown"></ul><div>'),this.responsivetab.dropdown=this.responsivetab.find(".uk-dropdown"),this.responsivetab.lst=this.responsivetab.dropdown.find("ul"),this.responsivetab.caption=this.responsivetab.find("a:first"),this.element.hasClass("uk-tab-bottom")&&this.responsivetab.dropdown.addClass("uk-dropdown-up"),this.responsivetab.lst.on("click.uk.tab","a",function(r){r.preventDefault(),r.stopPropagation();var c=a.$(this);e.element.children("li:not(.uk-tab-responsive)").eq(c.data("index")).trigger("click")}),this.on("show.uk.switcher change.uk.tab",function(r,c){e.responsivetab.caption.html(c.text())}),this.element.append(this.responsivetab),this.options.connect&&(this.switcher=a.switcher(this.element,{toggle:">li:not(.uk-tab-responsive)",connect:this.options.connect,active:this.options.active,animation:this.options.animation,duration:this.options.duration,swiping:this.options.swiping})),a.dropdown(this.responsivetab,{mode:"click",preventflip:"y"}),e.trigger("change.uk.tab",[this.element.find(this.options.target).not(".uk-tab-responsive").filter(".uk-active")]),this.check(),a.$win.on("resize orientationchange",a.Utils.debounce(function(){e.element.is(":visible")&&e.check()},100)),this.on("display.uk.check",function(){e.element.is(":visible")&&e.check()})},check:function(){var e=this.element.children("li:not(.uk-tab-responsive)").removeClass("uk-hidden");if(!e.length){this.responsivetab.addClass("uk-hidden");return}var r=e.eq(0).offset().top+Math.ceil(e.eq(0).height()/2),c=!1,d,f;if(this.responsivetab.lst.empty(),e.each(function(){a.$(this).offset().top>r&&(c=!0)}),c)for(var p=0;p<e.length;p++)d=a.$(e.eq(p)),d.find("a"),d.css("float")!="none"&&!d.attr("uk-dropdown")&&(d.hasClass("uk-disabled")||(f=a.$(d[0].outerHTML),f.find("a").data("index",p),this.responsivetab.lst.append(f)),d.addClass("uk-hidden"));this.responsivetab[this.responsivetab.lst.children("li").length?"removeClass":"addClass"]("uk-hidden")}})})(UIkit2);(function(a){a.component("cover",{defaults:{automute:!0},boot:function(){a.ready(function(e){a.$("[data-uk-cover]",e).each(function(){var r=a.$(this);r.data("cover")||a.cover(r,a.Utils.options(r.attr("data-uk-cover")))})})},init:function(){if(this.parent=this.element.parent(),a.$win.on("load resize orientationchange",a.Utils.debounce((function(){this.check()}).bind(this),100)),this.on("display.uk.check",(function(r){this.element.is(":visible")&&this.check()}).bind(this)),this.check(),this.element.is("iframe")&&this.options.automute){var e=this.element.attr("src");this.element.attr("src","").on("load",function(){this.contentWindow.postMessage('{ "event": "command", "func": "mute", "method":"setVolume", "value":0}',"*")}).attr("src",[e,e.indexOf("?")>-1?"&":"?","enablejsapi=1&api=1"].join(""))}},check:function(){this.element.css({width:"",height:""}),this.dimension={w:this.element.width(),h:this.element.height()},this.element.attr("width")&&!isNaN(this.element.attr("width"))&&(this.dimension.w=this.element.attr("width")),this.element.attr("height")&&!isNaN(this.element.attr("height"))&&(this.dimension.h=this.element.attr("height")),this.ratio=this.dimension.w/this.dimension.h;var e=this.parent.width(),r=this.parent.height(),c,d;e/this.ratio<r?(c=Math.ceil(r*this.ratio),d=r):(c=e,d=Math.ceil(e/this.ratio)),this.element.css({width:c,height:d})}})})(UIkit2);/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(a){var e;window.UIkit2&&(e=a(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-nestable",["uikit"],function(){return e||a(UIkit2)})})(function(a){var e="ontouchstart"in window,r=a.$html,c=[],d=a.$win,f,p=e?"touchstart":"mousedown",g=e?"touchmove":"mousemove",b=e?"touchend":"mouseup",C=e?"touchcancel":"mouseup";return a.component("nestable",{defaults:{listBaseClass:"uk-nestable",listClass:"uk-nestable-list",listItemClass:"uk-nestable-item",dragClass:"uk-nestable-dragged",movingClass:"uk-nestable-moving",noChildrenClass:"uk-nestable-nochildren",emptyClass:"uk-nestable-empty",handleClass:"",collapsedClass:"uk-collapsed",placeholderClass:"uk-nestable-placeholder",noDragClass:"uk-nestable-nodrag",group:!1,maxDepth:10,threshold:20,idlethreshold:10},boot:function(){a.$html.on("mousemove touchmove",function(x){if(f){var S=f.offset().top;S<a.$win.scrollTop()?a.$win.scrollTop(a.$win.scrollTop()-Math.ceil(f.height()/2)):S+f.height()>window.innerHeight+a.$win.scrollTop()&&a.$win.scrollTop(a.$win.scrollTop()+Math.ceil(f.height()/2))}}),a.ready(function(x){a.$("[data-uk-nestable]",x).each(function(){var S=a.$(this);S.data("nestable")||a.nestable(S,a.Utils.options(S.attr("data-uk-nestable")))})})},init:function(){var x=this;Object.keys(this.options).forEach(function(A){String(A).indexOf("Class")!=-1&&(x.options["_"+A]="."+x.options[A])}),this.find(this.options._listItemClass).find(">ul").addClass(this.options.listClass),this.checkEmptyList(),this.reset(),this.element.data("nestable-group",this.options.group||a.Utils.uid("nestable-group")),this.find(this.options._listItemClass).each(function(){x.setParent(a.$(this))}),this.on("click","[data-nestable-action]",function(A){if(!(x.dragEl||!e&&A.button!==0)){A.preventDefault();var I=a.$(A.currentTarget),N=I.data("nestableAction"),Y=I.closest(x.options._listItemClass);N==="collapse"&&x.collapseItem(Y),N==="expand"&&x.expandItem(Y),N==="toggle"&&x.toggleItem(Y)}});var S=function(A){var I=a.$(A.target),N=I.is("a[href]")?I:I.parents("a[href]");A.target!==x.element[0]&&(I.is(x.options._noDragClass)||I.closest(x.options._noDragClass).length||I.is("[data-nestable-action]")||I.closest("[data-nestable-action]").length||(x.options.handleClass&&!I.hasClass(x.options.handleClass)&&x.options.handleClass&&(I=I.closest(x.options._handleClass)),!(!I.length||x.dragEl||!e&&A.button!==0||e&&A.touches.length!==1)&&(A.originalEvent&&A.originalEvent.touches&&(A=evt.originalEvent.touches[0]),x.delayMove=function(Y){N=!1,Y.preventDefault(),x.dragStart(A),x.trigger("start.uk.nestable",[x]),x.delayMove=!1},x.delayMove.x=parseInt(A.pageX,10),x.delayMove.y=parseInt(A.pageY,10),x.delayMove.threshold=x.options.idlethreshold,N.length&&b=="touchend"&&x.one(b,function(){N&&N.attr("href").trim()&&(location.href=N.attr("href"))}),A.preventDefault())))},O=function(A){A.originalEvent&&A.originalEvent.touches&&(A=A.originalEvent.touches[0]),x.delayMove&&(Math.abs(A.pageX-x.delayMove.x)>x.delayMove.threshold||Math.abs(A.pageY-x.delayMove.y)>x.delayMove.threshold)&&(window.getSelection().toString()?x.delayMove=!1:x.delayMove(A)),x.dragEl&&(A.preventDefault(),x.dragMove(A),x.trigger("move.uk.nestable",[x]))},F=function(A){x.dragEl&&(A.preventDefault(),x.dragStop(e?A.touches[0]:A)),f=!1,x.delayMove=!1};e?(this.element[0].addEventListener(p,S,!1),window.addEventListener(g,O,!1),window.addEventListener(b,F,!1),window.addEventListener(C,F,!1)):(this.on(p,S),d.on(g,O),d.on(b,F))},serialize:function(){var x,S=this,O=function(F,A){var I=[],N=F.children(S.options._listItemClass);return N.each(function(){for(var Y=a.$(this),H={},K,J=Y.children(S.options._listClass),U=0,nt,gt;U<Y[0].attributes.length;U++)K=Y[0].attributes[U],K.name.indexOf("data-")===0&&(nt=K.name.substr(5),gt=a.Utils.str2json(K.value),H[nt]=gt||K.value=="false"||K.value=="0"?gt:K.value);J.length&&(H.children=O(J)),I.push(H)}),I};return x=O(S.element),x},list:function(x){var S=[],O=this,F=0,A=function(I,N,Y){var H=I.children(x._listItemClass);H.each(function(K){var J=a.$(this),U=a.$.extend({parent_id:Y||null,depth:N,order:K},J.data()),nt=J.children(x._listClass);S.push(U),nt.length&&A(nt,N+1,J.data(x.idProperty||"id"))})};return x=a.$.extend({},O.options,x),A(O.element,F),S},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0},this.moving=!1,this.dragEl=null,this.dragRootEl=null,this.dragDepth=0,this.hasNewRoot=!1,this.pointEl=null;for(var x=0;x<c.length;x++)this.checkEmptyList(c[x]);c=[]},toggleItem:function(x){this[x.hasClass(this.options.collapsedClass)?"expandItem":"collapseItem"](x)},expandItem:function(x){x.removeClass(this.options.collapsedClass)},collapseItem:function(x){var S=x.children(this.options._listClass);S.length&&x.addClass(this.options.collapsedClass)},expandAll:function(){var x=this;this.find(x.options._listItemClass).each(function(){x.expandItem(a.$(this))})},collapseAll:function(){var x=this;this.find(x.options._listItemClass).each(function(){x.collapseItem(a.$(this))})},setParent:function(x){x.children(this.options._listClass).length&&x.addClass("uk-parent")},unsetParent:function(x){x.removeClass("uk-parent "+this.options.collapsedClass),x.children(this.options._listClass).remove()},dragStart:function(x){var S=this.mouse,O=a.$(x.target),F=O.closest(this.options._listItemClass),A=F.offset();this.placeEl=F,S.offsetX=x.pageX-A.left,S.offsetY=x.pageY-A.top,S.startX=S.lastX=A.left,S.startY=S.lastY=A.top,this.dragRootEl=this.element,this.dragEl=a.$("<ul></ul>").addClass(this.options.listClass+" "+this.options.dragClass).append(F.clone()),this.dragEl.css("width",F.width()),this.placeEl.addClass(this.options.placeholderClass),f=this.dragEl,this.tmpDragOnSiblings=[F[0].previousSibling,F[0].nextSibling],a.$body.append(this.dragEl),this.dragEl.css({left:A.left,top:A.top});var I,N,Y=this.dragEl.find(this.options._listItemClass);for(I=0;I<Y.length;I++)N=a.$(Y[I]).parents(this.options._listClass+","+this.options._listBaseClass).length,N>this.dragDepth&&(this.dragDepth=N);r.addClass(this.options.movingClass)},dragStop:function(x){var S=a.$(this.placeEl),O=this.placeEl.parents(this.options._listBaseClass+":first");this.placeEl.removeClass(this.options.placeholderClass),this.dragEl.remove(),this.element[0]!==O[0]?(O.trigger("change.uk.nestable",[O.data("nestable"),S,"added"]),this.element.trigger("change.uk.nestable",[this,S,"removed"])):this.element.trigger("change.uk.nestable",[this,S,"moved"]),this.trigger("stop.uk.nestable",[this,S]),this.reset(),r.removeClass(this.options.movingClass)},dragMove:function(x){var S,O,F,A,I,N=this.options,Y=this.mouse,H=this.dragRootEl?this.dragRootEl.data("nestable").options.maxDepth:N.maxDepth;this.dragEl.css({left:x.pageX-Y.offsetX,top:x.pageY-Y.offsetY}),Y.lastX=Y.nowX,Y.lastY=Y.nowY,Y.nowX=x.pageX,Y.nowY=x.pageY,Y.distX=Y.nowX-Y.lastX,Y.distY=Y.nowY-Y.lastY,Y.lastDirX=Y.dirX,Y.lastDirY=Y.dirY,Y.dirX=Y.distX===0?0:Y.distX>0?1:-1,Y.dirY=Y.distY===0?0:Y.distY>0?1:-1;var K=Math.abs(Y.distX)>Math.abs(Y.distY)?1:0;if(!Y.moving){Y.dirAx=K,Y.moving=!0;return}if(Y.dirAx!==K?(Y.distAxX=0,Y.distAxY=0):(Y.distAxX+=Math.abs(Y.distX),Y.dirX!==0&&Y.dirX!==Y.lastDirX&&(Y.distAxX=0),Y.distAxY+=Math.abs(Y.distY),Y.dirY!==0&&Y.dirY!==Y.lastDirY&&(Y.distAxY=0)),Y.dirAx=K,Y.dirAx&&Y.distAxX>=N.threshold&&(Y.distAxX=0,F=this.placeEl.prev("li"),Y.distX>0&&F.length&&!F.hasClass(N.collapsedClass)&&!F.hasClass(N.noChildrenClass)&&(S=F.find(N._listClass).last(),I=this.placeEl.parents(N._listClass+","+N._listBaseClass).length,I+this.dragDepth<=H&&(S.length?(S=F.children(N._listClass).last(),S.append(this.placeEl)):(S=a.$("<ul/>").addClass(N.listClass),S.append(this.placeEl),F.append(S),this.setParent(F)))),Y.distX<0&&(A=this.placeEl.next(N._listItemClass),!A.length))){var J=this.placeEl.closest([N._listBaseClass,N._listClass].join(",")),U=J.closest(N._listItemClass);U.length&&(U.after(this.placeEl),J.children().length||this.unsetParent(U))}var nt=!1,gt=x.pageX-(window.pageXOffset||document.scrollLeft||0),mt=x.pageY-(window.pageYOffset||document.documentElement.scrollTop);if(this.pointEl=a.$(document.elementFromPoint(gt,mt)),N.handleClass&&this.pointEl.hasClass(N.handleClass))this.pointEl=this.pointEl.closest(N._listItemClass);else{var pt=this.pointEl.closest(N._listItemClass);pt.length&&(this.pointEl=pt)}if(!this.placeEl.find(this.pointEl).length){if(this.pointEl.data("nestable")&&!this.pointEl.children().length)nt=!0,this.checkEmptyList(this.pointEl);else if(!this.pointEl.length||!this.pointEl.hasClass(N.listItemClass))return;var ct=this.element,ht=this.pointEl.closest(this.options._listBaseClass),It=ct[0]!=ht[0];if(!Y.dirAx||It||nt){if(It&&N.group!==ht.data("nestable-group")||(c.push(ct),I=this.dragDepth-1+this.pointEl.parents(N._listClass+","+N._listBaseClass).length,I>H))return;var it=x.pageY<this.pointEl.offset().top+this.pointEl.height()/2;O=this.placeEl.parent(),nt?this.pointEl.append(this.placeEl):it?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl),O.children().length||O.data("nestable")||this.unsetParent(O.parent()),this.checkEmptyList(this.dragRootEl),this.checkEmptyList(ct),It&&(this.dragRootEl=ht,this.hasNewRoot=this.element[0]!==this.dragRootEl[0])}}},checkEmptyList:function(x){x=x?a.$(x):this.element,this.options.emptyClass&&x[x.children().length?"removeClass":"addClass"](this.options.emptyClass)}}),a.nestable});/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(a){var e;window.UIkit2&&(e=a(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-sortable",["uikit"],function(){return e||a(UIkit2)})})(function(a){var e="ontouchstart"in window||"MSGesture"in window||window.DocumentTouch&&document instanceof DocumentTouch,r,c,d,f,p,g,b,C,x,S=e?"MSGesture"in window?"pointerdown":"touchstart":"mousedown",O=e?"MSGesture"in window?"pointermove":"touchmove":"mousemove",F=e?"MSGesture"in window?"pointerup":"touchend":"mouseup";function A(H){H=a.$(H);do{if(H.data("sortable"))return H;H=a.$(H).parent()}while(H.length);return H}a.component("sortable",{defaults:{animation:150,threshold:10,childClass:"uk-sortable-item",placeholderClass:"uk-sortable-placeholder",overClass:"uk-sortable-over",draggingClass:"uk-sortable-dragged",dragMovingClass:"uk-sortable-moving",baseClass:"uk-sortable",noDragClass:"uk-sortable-nodrag",emptyClass:"uk-sortable-empty",dragCustomClass:"",handleClass:!1,group:!1,stop:function(){},start:function(){},change:function(){}},boot:function(){a.ready(function(H){a.$("[data-uk-sortable]",H).each(function(){var K=a.$(this);K.data("sortable")||a.sortable(K,a.Utils.options(K.attr("data-uk-sortable")))})}),a.$html.on(O,function(H){if(p){var K=H.originalEvent.targetTouches?H.originalEvent.targetTouches[0]:H;(Math.abs(K.pageX-p.pos.x)>p.threshold||Math.abs(K.pageY-p.pos.y)>p.threshold)&&p.apply(K)}if(r){f||(f=!0,r.show(),r.$current.addClass(r.$sortable.options.placeholderClass),r.$sortable.element.children().addClass(r.$sortable.options.childClass),a.$html.addClass(r.$sortable.options.dragMovingClass));var J=r.data("mouse-offset"),U=H.originalEvent.touches&&H.originalEvent.touches[0]||H.originalEvent,nt=parseInt(U.pageX,10)+J.left,gt=parseInt(U.pageY,10)+J.top;if(r.css({left:nt,top:gt}),gt+r.height()/3>document.body.offsetHeight)return;gt<a.$win.scrollTop()?a.$win.scrollTop(a.$win.scrollTop()-Math.ceil(r.height()/3)):gt+r.height()/3>window.innerHeight+a.$win.scrollTop()&&a.$win.scrollTop(a.$win.scrollTop()+Math.ceil(r.height()/3))}}),a.$html.on(F,function(H){if(p=!1,!c||!r){c=r=null;return}var K=A(c),J=r.$sortable,U={type:H.type};K[0]&&J.dragDrop(U,J.element),J.dragEnd(U,J.element)})},init:function(){var H=this,K=this.element[0];g=[],this.checkEmptyList(),this.element.data("sortable-group",this.options.group?this.options.group:a.Utils.uid("sortable-group"));var J=ht(function(It){if(!(It.data&&It.data.sortable)){var it=a.$(It.target),Tt=it.is("a[href]")?it:it.parents("a[href]");if(!it.is(":input")){if(H.options.handleClass){var M=it.hasClass(H.options.handleClass)?it:it.closest("."+H.options.handleClass,H.element);if(!M.length)return}return It.preventDefault(),Tt.length&&Tt.one("click",function(xt){xt.preventDefault()}).one(F,function(){b||(Tt.trigger("click"),e&&Tt.attr("href").trim()&&(location.href=Tt.attr("href")))}),It.data=It.data||{},It.data.sortable=K,H.dragStart(It,this)}}}),U=ht(a.Utils.debounce(function(It){return H.dragEnter(It,this)})),nt=ht(function(It){var it=H.dragenterData(this);H.dragenterData(this,it-1),H.dragenterData(this)||(a.$(this).removeClass(H.options.overClass),H.dragenterData(this,!1))}),gt=ht(function(It){return!c||c===this||d===this?!0:(H.element.children().removeClass(H.options.overClass),d=this,H.moveElementNextTo(c,this),Y(It))});function mt(){e&&x.touches&&x.touches.length?K.addEventListener(O,gt,!1):(K.addEventListener("mouseover",U,!1),K.addEventListener("mouseout",nt,!1))}function pt(){e&&x.touches&&x.touches.length?K.removeEventListener(O,gt,!1):(K.removeEventListener("mouseover",U,!1),K.removeEventListener("mouseout",nt,!1))}this.addDragHandlers=mt,this.removeDragHandlers=pt;function ct(It){c&&H.dragMove(It,H)}function ht(It){return function(it){var Tt,M,xt;x=it,it&&(Tt=it.touches&&it.touches[0]||it,M=Tt.target||it.target,e&&document.elementFromPoint&&(M=document.elementFromPoint(Tt.pageX-document.body.scrollLeft,Tt.pageY-document.body.scrollTop)),C=a.$(M)),a.$(M).hasClass("."+H.options.childClass)?It.apply(M,[it]):M!==K&&(xt=N(K,M),xt&&It.apply(xt,[it]))}}window.addEventListener(O,ct,!1),K.addEventListener(S,J,!1)},dragStart:function(H,K){b=!1,f=!1;var J=this,U=a.$(H.target);if(!(!e&&H.button==2)&&!(U.is("."+J.options.noDragClass)||U.closest("."+J.options.noDragClass).length)&&!U.is(":input")){c=K,r&&r.remove();var nt=a.$(c),gt=nt.offset(),mt=H.touches&&H.touches[0]||H;p={pos:{x:mt.pageX,y:mt.pageY},threshold:J.options.handleClass?1:J.options.threshold,apply:function(pt){r=a.$('<div class="'+[J.options.draggingClass,J.options.dragCustomClass].join(" ")+'"></div>').css({display:"none",top:gt.top,left:gt.left,width:nt.width(),height:nt.height(),padding:nt.css("padding")}).data({"mouse-offset":{left:gt.left-parseInt(mt.pageX,10),top:gt.top-parseInt(mt.pageY,10)},origin:J.element,index:nt.index()}).append(nt.html()).appendTo("body"),r.$current=nt,r.$sortable=J,nt.data({"start-list":nt.parent(),"start-index":nt.index(),"sortable-group":J.options.group}),J.addDragHandlers(),J.options.start(this,c),J.trigger("start.uk.sortable",[J,c,r]),b=!0,p=!1}}}},dragMove:function(H,K){C=a.$(document.elementFromPoint(H.pageX-(document.body.scrollLeft||document.scrollLeft||0),H.pageY-(document.body.scrollTop||document.documentElement.scrollTop||0)));var J=C.closest("."+this.options.baseClass),U=J.data("sortable-group"),nt=a.$(c),gt=nt.parent(),mt=nt.data("sortable-group"),pt;J[0]!==gt[0]&&mt!==void 0&&U===mt&&(J.data("sortable").addDragHandlers(),g.push(J),J.children().addClass(this.options.childClass),J.children().length>0?(pt=C.closest("."+this.options.childClass),pt.length?pt.before(nt):J.append(nt)):C.append(nt),a.$doc.trigger("mouseover")),this.checkEmptyList(),this.checkEmptyList(gt)},dragEnter:function(H,K){if(!c||c===K)return!0;var J=this.dragenterData(K);if(this.dragenterData(K,J+1),J===0){var U=a.$(K).parent(),nt=a.$(c).data("start-list");if(U[0]!==nt[0]){var gt=U.data("sortable-group"),mt=a.$(c).data("sortable-group");if((gt||mt)&&gt!=mt)return!1}a.$(K).addClass(this.options.overClass),this.moveElementNextTo(c,K)}return!1},dragEnd:function(H,K){var J=this;c&&(this.options.stop(K),this.trigger("stop.uk.sortable",[this])),c=null,d=null,g.push(this.element),g.forEach(function(U,nt){a.$(U).children().each(function(){this.nodeType===1&&(a.$(this).removeClass(J.options.overClass).removeClass(J.options.placeholderClass).removeClass(J.options.childClass),J.dragenterData(this,!1))})}),g=[],a.$html.removeClass(this.options.dragMovingClass),this.removeDragHandlers(),r&&(r.remove(),r=null)},dragDrop:function(H,K){H.type==="drop"&&(H.stopPropagation&&H.stopPropagation(),H.preventDefault&&H.preventDefault()),this.triggerChangeEvents()},triggerChangeEvents:function(){if(c){var H=a.$(c),K=r.data("origin"),J=H.closest("."+this.options.baseClass),U=[],nt=a.$(c);K[0]===J[0]&&r.data("index")!=H.index()?U.push({sortable:this,mode:"moved"}):K[0]!=J[0]&&U.push({sortable:a.$(J).data("sortable"),mode:"added"},{sortable:a.$(K).data("sortable"),mode:"removed"}),U.forEach(function(gt,mt){gt.sortable&&gt.sortable.element.trigger("change.uk.sortable",[gt.sortable,nt,gt.mode])})}},dragenterData:function(H,K){if(H=a.$(H),arguments.length==1)return parseInt(H.data("child-dragenter"),10)||0;K?H.data("child-dragenter",Math.max(0,K)):H.removeData("child-dragenter")},moveElementNextTo:function(H,K){var J=this,U=a.$(H).parent().css("min-height",""),nt=I(H,K)?K:K.nextSibling,gt=U.children(),mt=gt.length;if(!J.options.animation){K.parentNode.insertBefore(H,nt),a.Utils.checkDisplay(J.element.parent());return}U.css("min-height",U.height()),gt.stop().each(function(){var pt=a.$(this),ct=pt.position();ct.width=pt.width(),pt.data("offset-before",ct)}),K.parentNode.insertBefore(H,nt),a.Utils.checkDisplay(J.element.parent()),gt=U.children().each(function(){var pt=a.$(this);pt.data("offset-after",pt.position())}).each(function(){var pt=a.$(this),ct=pt.data("offset-before");pt.css({position:"absolute",top:ct.top,left:ct.left,minWidth:ct.width})}),gt.each(function(){var pt=a.$(this);pt.data("offset-before");var ct=pt.data("offset-after");pt.css("pointer-events","none").width(),setTimeout(function(){pt.animate({top:ct.top,left:ct.left},J.options.animation,function(){pt.css({position:"",top:"",left:"",minWidth:"","pointer-events":""}).removeClass(J.options.overClass).removeData("child-dragenter"),mt--,mt||(U.css("min-height",""),a.Utils.checkDisplay(J.element.parent()))})},0)})},serialize:function(){var H=[],K,J;return this.element.children().each(function(U,nt){K={};for(var gt=0,mt,pt;gt<nt.attributes.length;gt++)J=nt.attributes[gt],J.name.indexOf("data-")===0&&(mt=J.name.substr(5),pt=a.Utils.str2json(J.value),K[mt]=pt||J.value=="false"||J.value=="0"?pt:J.value);H.push(K)}),H},checkEmptyList:function(H){H=H?a.$(H):this.element,this.options.emptyClass&&H[H.children().length?"removeClass":"addClass"](this.options.emptyClass)}});function I(H,K){var J=H.parentNode;if(K.parentNode!=J)return!1;for(var U=H.previousSibling;U&&U.nodeType!==9;){if(U===K)return!0;U=U.previousSibling}return!1}function N(H,K){var J=K;if(J==H)return null;for(;J;){if(J.parentNode===H)return J;if(J=J.parentNode,!J||!J.ownerDocument||J.nodeType===11)break}return null}function Y(H){H.stopPropagation&&H.stopPropagation(),H.preventDefault&&H.preventDefault(),H.returnValue=!1}return a.sortable});function a0(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Kh={exports:{}};/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */var xp;function s0(){return xp||(xp=1,(function(a){(function(e){window.UIkit2&&e(UIkit2)})(function(e){var r=!1,c,d;e.component("datepicker",{defaults:{mobile:!1,weekstart:1,i18n:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},format:"YYYY-MM-DD",offsettop:5,maxDate:!1,minDate:!1,pos:"auto",container:"body",template:function(f,p){var g="",b;if(g+='<div class="uk-datepicker-nav">',g+='<a href="" class="uk-datepicker-previous"></a>',g+='<a href="" class="uk-datepicker-next"></a>',e.formSelect){var C=new Date().getFullYear(),x=[],S,O,F,A;for(b=0;b<p.i18n.months.length;b++)b==f.month?x.push('<option value="'+b+'" selected>'+p.i18n.months[b]+"</option>"):x.push('<option value="'+b+'">'+p.i18n.months[b]+"</option>");for(S='<span class="uk-form-select">'+p.i18n.months[f.month]+'<select class="update-picker-month">'+x.join("")+"</select></span>",x=[],F=f.minDate?f.minDate.year():C-50,A=f.maxDate?f.maxDate.year():C+20,b=F;b<=A;b++)b==f.year?x.push('<option value="'+b+'" selected>'+b+"</option>"):x.push('<option value="'+b+'">'+b+"</option>");O='<span class="uk-form-select">'+f.year+'<select class="update-picker-year">'+x.join("")+"</select></span>",g+='<div class="uk-datepicker-heading">'+S+" "+O+"</div>"}else g+='<div class="uk-datepicker-heading">'+p.i18n.months[f.month]+" "+f.year+"</div>";for(g+="</div>",g+='<table class="uk-datepicker-table">',g+="<thead>",b=0;b<f.weekdays.length;b++)f.weekdays[b]&&(g+="<th>"+f.weekdays[b]+"</th>");for(g+="</thead>",g+="<tbody>",b=0;b<f.days.length;b++)if(f.days[b]&&f.days[b].length){g+="<tr>";for(var I=0;I<f.days[b].length;I++)if(f.days[b][I]){var N=f.days[b][I],Y=[];N.inmonth||Y.push("uk-datepicker-table-muted"),N.selected&&Y.push("uk-active"),N.disabled&&Y.push("uk-datepicker-date-disabled uk-datepicker-table-muted"),g+='<td><a href="" class="'+Y.join(" ")+'" data-date="'+N.day.format()+'">'+N.day.format("D")+"</a></td>"}g+="</tr>"}return g+="</tbody>",g+="</table>",g}},boot:function(){e.$win.on("resize orientationchange",function(){r&&r.hide()}),e.$html.on("focus.datepicker.uikit","[data-uk-datepicker]",function(f){var p=e.$(this);p.data("datepicker")||(f.preventDefault(),e.datepicker(p,e.Utils.options(p.attr("data-uk-datepicker"))),p.trigger("focus"))}),e.$html.on("click focus","*",function(f){var p=e.$(f.target);r&&p[0]!=c[0]&&!p.data("datepicker")&&!p.parents(".uk-datepicker:first").length&&r.hide()})},init:function(){if(!(e.support.touch&&this.element.attr("type")=="date"&&!this.options.mobile)){var f=this;this.current=this.element.val()?d(this.element.val(),this.options.format):d(),this.on("click focus",function(){r!==f&&f.pick(this.value?this.value:"")}).on("change",function(){f.element.val()&&!d(f.element.val(),f.options.format).isValid()&&f.element.val(d().format(f.options.format))}),c||(c=e.$('<div class="uk-dropdown uk-datepicker"></div>'),c.on("click",".uk-datepicker-next, .uk-datepicker-previous, [data-date]",function(p){p.stopPropagation(),p.preventDefault();var g=e.$(this);if(g.hasClass("uk-datepicker-date-disabled"))return!1;g.is("[data-date]")?(r.current=d(g.data("date")),r.element.val(r.current.isValid()?r.current.format(r.options.format):null).trigger("change"),r.hide()):r.add(g.hasClass("uk-datepicker-next")?1:-1,"months")}),c.on("change",".update-picker-month, .update-picker-year",function(){var p=e.$(this);r[p.is(".update-picker-year")?"setYear":"setMonth"](Number(p.val()))}),c.appendTo(this.options.container))}},pick:function(f){var p=this.element.offset(),g={left:p.left,right:""};this.current=isNaN(f)?d(f,this.options.format):d(),this.initdate=this.current.format("YYYY-MM-DD"),this.update(),e.langdirection=="right"&&(g.right=window.innerWidth-(g.left+this.element.outerWidth()),g.left="");var b=p.top-this.element.outerHeight()+this.element.height()-this.options.offsettop-c.outerHeight(),C=p.top+this.element.outerHeight()+this.options.offsettop;g.top=C,(this.options.pos=="top"||this.options.pos=="auto"&&window.innerHeight-C-c.outerHeight()<0&&b>=0)&&(g.top=b),c.css(g).show(),this.trigger("show.uk.datepicker"),r=this},add:function(f,p){this.current.add(f,p),this.update()},setMonth:function(f){this.current.month(f),this.update()},setYear:function(f){this.current.year(f),this.update()},update:function(){var f=this.getRows(this.current.year(),this.current.month()),p=this.options.template(f,this.options);c.html(p),this.trigger("update.uk.datepicker")},getRows:function(f,p){var g=this.options,b=d().format("YYYY-MM-DD"),C=[31,f%4===0&&f%100!==0||f%400===0?29:28,31,30,31,30,31,31,30,31,30,31][p],x=new Date(f,p,1,12).getDay(),S={month:p,year:f,weekdays:[],days:[],maxDate:!1,minDate:!1},O=[];g.maxDate!==!1&&(S.maxDate=isNaN(g.maxDate)?d(g.maxDate,g.format).startOf("day").hours(12):d().add(g.maxDate,"days").startOf("day").hours(12)),g.minDate!==!1&&(S.minDate=isNaN(g.minDate)?d(g.minDate,g.format).startOf("day").hours(12):d().add(g.minDate-1,"days").startOf("day").hours(12)),S.weekdays=(function(){for(var nt=0,gt=[];nt<7;nt++){for(var mt=nt+(g.weekstart||0);mt>=7;)mt-=7;gt.push(g.i18n.weekdays[mt])}return gt})(),g.weekstart&&g.weekstart>0&&(x-=g.weekstart,x<0&&(x+=7));for(var F=C+x,A=F;A>7;)A-=7;F+=7-A;for(var I,N,Y,H,K,J=0,U=0;J<F;J++)I=new Date(f,p,1+(J-x),12),N=S.minDate&&S.minDate>I||S.maxDate&&I>S.maxDate,K=!(J<x||J>=C+x),I=d(I),Y=this.initdate==I.format("YYYY-MM-DD"),H=b==I.format("YYYY-MM-DD"),O.push({selected:Y,today:H,disabled:N,day:I,inmonth:K}),++U===7&&(S.days.push(O),O=[],U=0);return S},hide:function(){r&&r===this&&(c.hide(),r=!1,this.trigger("hide.uk.datepicker"))}});//! moment.js
//! version : 2.8.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
return d=(function(f){var p,g="2.8.3",b=Math.round,C=Object.prototype.hasOwnProperty,x,S=0,O=1,F=2,A=3,I=4,N=5,Y=6,H={},K=[],J=a.exports,U=/^\/?Date\((\-?\d+)/i,nt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,gt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,mt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,pt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,ct=/\d\d?/,ht=/\d{1,3}/,It=/\d{1,4}/,it=/[+\-]?\d{1,6}/,Tt=/\d+/,M=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,xt=/Z|[\+\-]\d\d:?\d\d/gi,vt=/T/i,Kt=/[\+\-]?\d+(\.\d{1,3})?/,ie=/\d{1,2}/,oe=/\d/,Ct=/\d\d/,yt=/\d{3}/,kt=/\d{4}/,Ut=/[+-]?\d{6}/,Qt=/[+-]?\d+/,j=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,et="YYYY-MM-DDTHH:mm:ssZ",st=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],At=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ht=/([\+\-]|\d\d)/gi,zt={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},ce={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Oe={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},me={},we={s:45,m:45,h:22,d:26,M:11},fe="DDD w W M D d".split(" "),ke="M D H h m s w W".split(" "),Ie={M:function(){return this.month()+1},MMM:function(m){return this.localeData().monthsShort(this,m)},MMMM:function(m){return this.localeData().months(this,m)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(m){return this.localeData().weekdaysMin(this,m)},ddd:function(m){return this.localeData().weekdaysShort(this,m)},dddd:function(m){return this.localeData().weekdays(this,m)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return he(this.year()%100,2)},YYYY:function(){return he(this.year(),4)},YYYYY:function(){return he(this.year(),5)},YYYYYY:function(){var m=this.year(),w=m>=0?"+":"-";return w+he(Math.abs(m),6)},gg:function(){return he(this.weekYear()%100,2)},gggg:function(){return he(this.weekYear(),4)},ggggg:function(){return he(this.weekYear(),5)},GG:function(){return he(this.isoWeekYear()%100,2)},GGGG:function(){return he(this.isoWeekYear(),4)},GGGGG:function(){return he(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return Et(this.milliseconds()/100)},SS:function(){return he(Et(this.milliseconds()/10),2)},SSS:function(){return he(this.milliseconds(),3)},SSSS:function(){return he(this.milliseconds(),3)},Z:function(){var m=-this.zone(),w="+";return m<0&&(m=-m,w="-"),w+he(Et(m/60),2)+":"+he(Et(m)%60,2)},ZZ:function(){var m=-this.zone(),w="+";return m<0&&(m=-m,w="-"),w+he(Et(m/60),2)+he(Et(m)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},rn={},le=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function Ee(m,w,E){switch(arguments.length){case 2:return m??w;case 3:return m??w??E;default:throw new Error("Implement me")}}function ft(m,w){return C.call(m,w)}function Bt(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function _t(m){p.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+m)}function Se(m,w){var E=!0;return Tn(function(){return E&&(_t(m),E=!1),w.apply(this,arguments)},w)}function Fn(m,w){rn[m]||(_t(w),rn[m]=!0)}function Xn(m,w){return function(E){return he(m.call(this,E),w)}}function Wi(m,w){return function(E){return this.localeData().ordinal(m.call(this,E),w)}}for(;fe.length;)x=fe.pop(),Ie[x+"o"]=Wi(Ie[x],x);for(;ke.length;)x=ke.pop(),Ie[x+x]=Xn(Ie[x],2);Ie.DDDD=Xn(Ie.DDD,3);function Un(){}function en(m,w){w!==!1&&ue(m),Li(this,m),this._d=new Date(+m._d)}function ai(m){var w=Be(m),E=w.year||0,z=w.quarter||0,W=w.month||0,q=w.week||0,at=w.day||0,Mt=w.hour||0,Pt=w.minute||0,Lt=w.second||0,Ot=w.millisecond||0;this._milliseconds=+Ot+Lt*1e3+Pt*6e4+Mt*36e5,this._days=+at+q*7,this._months=+W+z*3+E*12,this._data={},this._locale=p.localeData(),this._bubble()}function Tn(m,w){for(var E in w)ft(w,E)&&(m[E]=w[E]);return ft(w,"toString")&&(m.toString=w.toString),ft(w,"valueOf")&&(m.valueOf=w.valueOf),m}function Li(m,w){var E,z,W;if(typeof w._isAMomentObject<"u"&&(m._isAMomentObject=w._isAMomentObject),typeof w._i<"u"&&(m._i=w._i),typeof w._f<"u"&&(m._f=w._f),typeof w._l<"u"&&(m._l=w._l),typeof w._strict<"u"&&(m._strict=w._strict),typeof w._tzm<"u"&&(m._tzm=w._tzm),typeof w._isUTC<"u"&&(m._isUTC=w._isUTC),typeof w._offset<"u"&&(m._offset=w._offset),typeof w._pf<"u"&&(m._pf=w._pf),typeof w._locale<"u"&&(m._locale=w._locale),K.length>0)for(E in K)z=K[E],W=w[z],typeof W<"u"&&(m[z]=W);return m}function Ln(m){return m<0?Math.ceil(m):Math.floor(m)}function he(m,w,E){for(var z=""+Math.abs(m),W=m>=0;z.length<w;)z="0"+z;return(W?"":"-")+z}function ar(m,w){var E={milliseconds:0,months:0};return E.months=w.month()-m.month()+(w.year()-m.year())*12,m.clone().add(E.months,"M").isAfter(w)&&--E.months,E.milliseconds=+w-+m.clone().add(E.months,"M"),E}function Me(m,w){var E;return w=En(w,m),m.isBefore(w)?E=ar(m,w):(E=ar(w,m),E.milliseconds=-E.milliseconds,E.months=-E.months),E}function Oi(m,w){return function(E,z){var W,q;return z!==null&&!isNaN(+z)&&(Fn(w,"moment()."+w+"(period, number) is deprecated. Please use moment()."+w+"(number, period)."),q=E,E=z,z=q),E=typeof E=="string"?+E:E,W=p.duration(E,z),ge(this,W,m),this}}function ge(m,w,E,z){var W=w._milliseconds,q=w._days,at=w._months;z=z??!0,W&&m._d.setTime(+m._d+W*E),q&&Vn(m,"Date",Rn(m,"Date")+q*E),at&&Ge(m,Rn(m,"Month")+at*E),z&&p.updateOffset(m,q||at)}function Hn(m){return Object.prototype.toString.call(m)==="[object Array]"}function Ue(m){return Object.prototype.toString.call(m)==="[object Date]"||m instanceof Date}function dn(m,w,E){var z=Math.min(m.length,w.length),W=Math.abs(m.length-w.length),q=0,at;for(at=0;at<z;at++)(E&&m[at]!==w[at]||!E&&Et(m[at])!==Et(w[at]))&&q++;return q+W}function ze(m){if(m){var w=m.toLowerCase().replace(/(.)s$/,"$1");m=ce[m]||Oe[w]||w}return m}function Be(m){var w={},E,z;for(z in m)ft(m,z)&&(E=ze(z),E&&(w[E]=m[z]));return w}function $t(m){var w,E;if(m.indexOf("week")===0)w=7,E="day";else if(m.indexOf("month")===0)w=12,E="month";else return;p[m]=function(z,W){var q,at,Mt=p._locale[m],Pt=[];if(typeof z=="number"&&(W=z,z=f),at=function(Lt){var Ot=p().utc().set(E,Lt);return Mt.call(p._locale,Ot,z||"")},W!=null)return at(W);for(q=0;q<w;q++)Pt.push(at(q));return Pt}}function Et(m){var w=+m,E=0;return w!==0&&isFinite(w)&&(w>=0?E=Math.floor(w):E=Math.ceil(w)),E}function Yt(m,w){return new Date(Date.UTC(m,w+1,0)).getUTCDate()}function Ce(m,w,E){return Dt(p([m,11,31+w-E]),w,E).week}function se(m){return We(m)?366:365}function We(m){return m%4===0&&m%100!==0||m%400===0}function ue(m){var w;m._a&&m._pf.overflow===-2&&(w=m._a[O]<0||m._a[O]>11?O:m._a[F]<1||m._a[F]>Yt(m._a[S],m._a[O])?F:m._a[A]<0||m._a[A]>23?A:m._a[I]<0||m._a[I]>59?I:m._a[N]<0||m._a[N]>59?N:m._a[Y]<0||m._a[Y]>999?Y:-1,m._pf._overflowDayOfYear&&(w<S||w>F)&&(w=F),m._pf.overflow=w)}function _e(m){return m._isValid==null&&(m._isValid=!isNaN(m._d.getTime())&&m._pf.overflow<0&&!m._pf.empty&&!m._pf.invalidMonth&&!m._pf.nullInput&&!m._pf.invalidFormat&&!m._pf.userInvalidated,m._strict&&(m._isValid=m._isValid&&m._pf.charsLeftOver===0&&m._pf.unusedTokens.length===0)),m._isValid}function on(m){return m&&m.toLowerCase().replace("_","-")}function mi(m){for(var w=0,E,z,W,q;w<m.length;){for(q=on(m[w]).split("-"),E=q.length,z=on(m[w+1]),z=z?z.split("-"):null;E>0;){if(W=si(q.slice(0,E).join("-")),W)return W;if(z&&z.length>=E&&dn(q,z,!0)>=E-1)break;E--}w++}return null}function si(m){var w=null;if(!H[m]&&J)try{w=p.locale(),a0("./locale/"+m),p.locale(w)}catch{}return H[m]}function En(m,w){return w._isUTC?p(m).zone(w._offset||0):p(m).local()}Tn(Un.prototype,{set:function(m){var w,E;for(E in m)w=m[E],typeof w=="function"?this[E]=w:this["_"+E]=w},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(m){return this._months[m.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(m){return this._monthsShort[m.month()]},monthsParse:function(m){var w,E,z;for(this._monthsParse||(this._monthsParse=[]),w=0;w<12;w++)if(this._monthsParse[w]||(E=p.utc([2e3,w]),z="^"+this.months(E,"")+"|^"+this.monthsShort(E,""),this._monthsParse[w]=new RegExp(z.replace(".",""),"i")),this._monthsParse[w].test(m))return w},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(m){return this._weekdays[m.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(m){return this._weekdaysShort[m.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(m){return this._weekdaysMin[m.day()]},weekdaysParse:function(m){var w,E,z;for(this._weekdaysParse||(this._weekdaysParse=[]),w=0;w<7;w++)if(this._weekdaysParse[w]||(E=p([2e3,1]).day(w),z="^"+this.weekdays(E,"")+"|^"+this.weekdaysShort(E,"")+"|^"+this.weekdaysMin(E,""),this._weekdaysParse[w]=new RegExp(z.replace(".",""),"i")),this._weekdaysParse[w].test(m))return w},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(m){var w=this._longDateFormat[m];return!w&&this._longDateFormat[m.toUpperCase()]&&(w=this._longDateFormat[m.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(E){return E.slice(1)}),this._longDateFormat[m]=w),w},isPM:function(m){return(m+"").toLowerCase().charAt(0)==="p"},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(m,w,E){return m>11?E?"pm":"PM":E?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(m,w){var E=this._calendar[m];return typeof E=="function"?E.apply(w):E},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(m,w,E,z){var W=this._relativeTime[E];return typeof W=="function"?W(m,w,E,z):W.replace(/%d/i,m)},pastFuture:function(m,w){var E=this._relativeTime[m>0?"future":"past"];return typeof E=="function"?E(w):E.replace(/%s/i,w)},ordinal:function(m){return this._ordinal.replace("%d",m)},_ordinal:"%d",preparse:function(m){return m},postformat:function(m){return m},week:function(m){return Dt(m,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});function Te(m){return m.match(/\[[\s\S]/)?m.replace(/^\[|\]$/g,""):m.replace(/\\/g,"")}function Xe(m){var w=m.match(mt),E,z;for(E=0,z=w.length;E<z;E++)Ie[w[E]]?w[E]=Ie[w[E]]:w[E]=Te(w[E]);return function(W){var q="";for(E=0;E<z;E++)q+=w[E]instanceof Function?w[E].call(W,m):w[E];return q}}function an(m,w){return m.isValid()?(w=Nn(w,m.localeData()),me[w]||(me[w]=Xe(w)),me[w](m)):m.localeData().invalidDate()}function Nn(m,w){var E=5;function z(W){return w.longDateFormat(W)||W}for(pt.lastIndex=0;E>=0&&pt.test(m);)m=m.replace(pt,z),pt.lastIndex=0,E-=1;return m}function bn(m,w){var E,z=w._strict;switch(m){case"Q":return oe;case"DDDD":return yt;case"YYYY":case"GGGG":case"gggg":return z?kt:It;case"Y":case"G":case"g":return Qt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return z?Ut:it;case"S":if(z)return oe;case"SS":if(z)return Ct;case"SSS":if(z)return yt;case"DDD":return ht;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return M;case"a":case"A":return w._locale._meridiemParse;case"X":return Kt;case"Z":case"ZZ":return xt;case"T":return vt;case"SSSS":return Tt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return z?Ct:ct;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return ct;case"Do":return ie;default:return E=new RegExp(Kr(yi(m.replace("\\","")))),E}}function tn(m){m=m||"";var w=m.match(xt)||[],E=w[w.length-1]||[],z=(E+"").match(Ht)||["-",0,0],W=+(z[1]*60)+Et(z[2]);return z[0]==="+"?-W:W}function vi(m,w,E){var z,W=E._a;switch(m){case"Q":w!=null&&(W[O]=(Et(w)-1)*3);break;case"M":case"MM":w!=null&&(W[O]=Et(w)-1);break;case"MMM":case"MMMM":z=E._locale.monthsParse(w),z!=null?W[O]=z:E._pf.invalidMonth=w;break;case"D":case"DD":w!=null&&(W[F]=Et(w));break;case"Do":w!=null&&(W[F]=Et(parseInt(w,10)));break;case"DDD":case"DDDD":w!=null&&(E._dayOfYear=Et(w));break;case"YY":W[S]=p.parseTwoDigitYear(w);break;case"YYYY":case"YYYYY":case"YYYYYY":W[S]=Et(w);break;case"a":case"A":E._isPm=E._locale.isPM(w);break;case"H":case"HH":case"h":case"hh":W[A]=Et(w);break;case"m":case"mm":W[I]=Et(w);break;case"s":case"ss":W[N]=Et(w);break;case"S":case"SS":case"SSS":case"SSSS":W[Y]=Et(("0."+w)*1e3);break;case"X":E._d=new Date(parseFloat(w)*1e3);break;case"Z":case"ZZ":E._useUTC=!0,E._tzm=tn(w);break;case"dd":case"ddd":case"dddd":z=E._locale.weekdaysParse(w),z!=null?(E._w=E._w||{},E._w.d=z):E._pf.invalidWeekday=w;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":m=m.substr(0,1);case"gggg":case"GGGG":case"GGGGG":m=m.substr(0,2),w&&(E._w=E._w||{},E._w[m]=Et(w));break;case"gg":case"GG":E._w=E._w||{},E._w[m]=p.parseTwoDigitYear(w)}}function Mi(m){var w,E,z,W,q,at,Mt;w=m._w,w.GG!=null||w.W!=null||w.E!=null?(q=1,at=4,E=Ee(w.GG,m._a[S],Dt(p(),1,4).year),z=Ee(w.W,1),W=Ee(w.E,1)):(q=m._locale._week.dow,at=m._locale._week.doy,E=Ee(w.gg,m._a[S],Dt(p(),q,at).year),z=Ee(w.w,1),w.d!=null?(W=w.d,W<q&&++z):w.e!=null?W=w.e+q:W=q),Mt=jt(E,z,W,at,q),m._a[S]=Mt.year,m._dayOfYear=Mt.dayOfYear}function bi(m){var w,E,z=[],W,q;if(!m._d){for(W=Lr(m),m._w&&m._a[F]==null&&m._a[O]==null&&Mi(m),m._dayOfYear&&(q=Ee(m._a[S],W[S]),m._dayOfYear>se(q)&&(m._pf._overflowDayOfYear=!0),E=vr(q,0,m._dayOfYear),m._a[O]=E.getUTCMonth(),m._a[F]=E.getUTCDate()),w=0;w<3&&m._a[w]==null;++w)m._a[w]=z[w]=W[w];for(;w<7;w++)m._a[w]=z[w]=m._a[w]==null?w===2?1:0:m._a[w];m._d=(m._useUTC?vr:Vi).apply(null,z),m._tzm!=null&&m._d.setUTCMinutes(m._d.getUTCMinutes()+m._tzm)}}function Ar(m){var w;m._d||(w=Be(m._i),m._a=[w.year,w.month,w.day,w.hour,w.minute,w.second,w.millisecond],bi(m))}function Lr(m){var w=new Date;return m._useUTC?[w.getUTCFullYear(),w.getUTCMonth(),w.getUTCDate()]:[w.getFullYear(),w.getMonth(),w.getDate()]}function sr(m){if(m._f===p.ISO_8601){Ur(m);return}m._a=[],m._pf.empty=!0;var w=""+m._i,E,z,W,q,at,Mt=w.length,Pt=0;for(W=Nn(m._f,m._locale).match(mt)||[],E=0;E<W.length;E++)q=W[E],z=(w.match(bn(q,m))||[])[0],z&&(at=w.substr(0,w.indexOf(z)),at.length>0&&m._pf.unusedInput.push(at),w=w.slice(w.indexOf(z)+z.length),Pt+=z.length),Ie[q]?(z?m._pf.empty=!1:m._pf.unusedTokens.push(q),vi(q,z,m)):m._strict&&!z&&m._pf.unusedTokens.push(q);m._pf.charsLeftOver=Mt-Pt,w.length>0&&m._pf.unusedInput.push(w),m._isPm&&m._a[A]<12&&(m._a[A]+=12),m._isPm===!1&&m._a[A]===12&&(m._a[A]=0),bi(m),ue(m)}function yi(m){return m.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(w,E,z,W,q){return E||z||W||q})}function Kr(m){return m.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function li(m){var w,E,z,W,q;if(m._f.length===0){m._pf.invalidFormat=!0,m._d=new Date(NaN);return}for(W=0;W<m._f.length;W++)q=0,w=Li({},m),m._useUTC!=null&&(w._useUTC=m._useUTC),w._pf=Bt(),w._f=m._f[W],sr(w),_e(w)&&(q+=w._pf.charsLeftOver,q+=w._pf.unusedTokens.length*10,w._pf.score=q,(z==null||q<z)&&(z=q,E=w));Tn(m,E||w)}function Ur(m){var w,E,z=m._i,W=j.exec(z);if(W){for(m._pf.iso=!0,w=0,E=st.length;w<E;w++)if(st[w][1].exec(z)){m._f=st[w][0]+(W[6]||" ");break}for(w=0,E=At.length;w<E;w++)if(At[w][1].exec(z)){m._f+=At[w][0];break}z.match(xt)&&(m._f+="Z"),sr(m)}else m._isValid=!1}function Fi(m){Ur(m),m._isValid===!1&&(delete m._isValid,p.createFromInputFallback(m))}function On(m,w){var E=[],z;for(z=0;z<m.length;++z)E.push(w(m[z],z));return E}function de(m){var w=m._i,E;w===f?m._d=new Date:Ue(w)?m._d=new Date(+w):(E=U.exec(w))!==null?m._d=new Date(+E[1]):typeof w=="string"?Fi(m):Hn(w)?(m._a=On(w.slice(0),function(z){return parseInt(z,10)}),bi(m)):typeof w=="object"?Ar(m):typeof w=="number"?m._d=new Date(w):p.createFromInputFallback(m)}function Vi(m,w,E,z,W,q,at){var Mt=new Date(m,w,E,z,W,q,at);return m<1970&&Mt.setFullYear(m),Mt}function vr(m){var w=new Date(Date.UTC.apply(null,arguments));return m<1970&&w.setUTCFullYear(m),w}function Hi(m,w){if(typeof m=="string"){if(!isNaN(m))m=parseInt(m,10);else if(m=w.weekdaysParse(m),typeof m!="number")return null}return m}function P(m,w,E,z,W){return W.relativeTime(w||1,!!E,m,z)}function V(m,w,E){var z=p.duration(m).abs(),W=b(z.as("s")),q=b(z.as("m")),at=b(z.as("h")),Mt=b(z.as("d")),Pt=b(z.as("M")),Lt=b(z.as("y")),Ot=W<we.s&&["s",W]||q===1&&["m"]||q<we.m&&["mm",q]||at===1&&["h"]||at<we.h&&["hh",at]||Mt===1&&["d"]||Mt<we.d&&["dd",Mt]||Pt===1&&["M"]||Pt<we.M&&["MM",Pt]||Lt===1&&["y"]||["yy",Lt];return Ot[2]=w,Ot[3]=+m>0,Ot[4]=E,P.apply({},Ot)}function Dt(m,w,E){var z=E-w,W=E-m.day(),q;return W>z&&(W-=7),W<z-7&&(W+=7),q=p(m).add(W,"d"),{week:Math.ceil(q.dayOfYear()/7),year:q.year()}}function jt(m,w,E,z,W){var q=vr(m,0,1).getUTCDay(),at,Mt;return q=q===0?7:q,E=E??W,at=W-q+(q>z?7:0)-(q<W?7:0),Mt=7*(w-1)+(E-W)+at+1,{year:Mt>0?m:m-1,dayOfYear:Mt>0?Mt:se(m-1)+Mt}}function bt(m){var w=m._i,E=m._f;return m._locale=m._locale||p.localeData(m._l),w===null||E===f&&w===""?p.invalid({nullInput:!0}):(typeof w=="string"&&(m._i=w=m._locale.preparse(w)),p.isMoment(w)?new en(w,!0):(E?Hn(E)?li(m):sr(m):de(m),new en(m)))}p=function(m,w,E,z){var W;return typeof E=="boolean"&&(z=E,E=f),W={},W._isAMomentObject=!0,W._i=m,W._f=w,W._l=E,W._strict=z,W._isUTC=!1,W._pf=Bt(),bt(W)},p.suppressDeprecationWarnings=!1,p.createFromInputFallback=Se("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(m){m._d=new Date(m._i)});function Zt(m,w){var E,z;if(w.length===1&&Hn(w[0])&&(w=w[0]),!w.length)return p();for(E=w[0],z=1;z<w.length;++z)w[z][m](E)&&(E=w[z]);return E}for(p.min=function(){var m=[].slice.call(arguments,0);return Zt("isBefore",m)},p.max=function(){var m=[].slice.call(arguments,0);return Zt("isAfter",m)},p.utc=function(m,w,E,z){var W;return typeof E=="boolean"&&(z=E,E=f),W={},W._isAMomentObject=!0,W._useUTC=!0,W._isUTC=!0,W._l=E,W._i=m,W._f=w,W._strict=z,W._pf=Bt(),bt(W).utc()},p.unix=function(m){return p(m*1e3)},p.duration=function(m,w){var E=m,z=null,W,q,at,Mt;return p.isDuration(m)?E={ms:m._milliseconds,d:m._days,M:m._months}:typeof m=="number"?(E={},w?E[w]=m:E.milliseconds=m):(z=nt.exec(m))?(W=z[1]==="-"?-1:1,E={y:0,d:Et(z[F])*W,h:Et(z[A])*W,m:Et(z[I])*W,s:Et(z[N])*W,ms:Et(z[Y])*W}):(z=gt.exec(m))?(W=z[1]==="-"?-1:1,at=function(Pt){var Lt=Pt&&parseFloat(Pt.replace(",","."));return(isNaN(Lt)?0:Lt)*W},E={y:at(z[2]),M:at(z[3]),d:at(z[4]),h:at(z[5]),m:at(z[6]),s:at(z[7]),w:at(z[8])}):typeof E=="object"&&("from"in E||"to"in E)&&(Mt=Me(p(E.from),p(E.to)),E={},E.ms=Mt.milliseconds,E.M=Mt.months),q=new ai(E),p.isDuration(m)&&ft(m,"_locale")&&(q._locale=m._locale),q},p.version=g,p.defaultFormat=et,p.ISO_8601=function(){},p.momentProperties=K,p.updateOffset=function(){},p.relativeTimeThreshold=function(m,w){return we[m]===f?!1:w===f?we[m]:(we[m]=w,!0)},p.lang=Se("moment.lang is deprecated. Use moment.locale instead.",function(m,w){return p.locale(m,w)}),p.locale=function(m,w){var E;return m&&(typeof w<"u"?E=p.defineLocale(m,w):E=p.localeData(m),E&&(p.duration._locale=p._locale=E)),p._locale._abbr},p.defineLocale=function(m,w){return w!==null?(w.abbr=m,H[m]||(H[m]=new Un),H[m].set(w),p.locale(m),H[m]):(delete H[m],null)},p.langData=Se("moment.langData is deprecated. Use moment.localeData instead.",function(m){return p.localeData(m)}),p.localeData=function(m){var w;if(m&&m._locale&&m._locale._abbr&&(m=m._locale._abbr),!m)return p._locale;if(!Hn(m)){if(w=si(m),w)return w;m=[m]}return mi(m)},p.isMoment=function(m){return m instanceof en||m!=null&&ft(m,"_isAMomentObject")},p.isDuration=function(m){return m instanceof ai},x=le.length-1;x>=0;--x)$t(le[x]);p.normalizeUnits=function(m){return ze(m)},p.invalid=function(m){var w=p.utc(NaN);return m!=null?Tn(w._pf,m):w._pf.userInvalidated=!0,w},p.parseZone=function(){return p.apply(null,arguments).parseZone()},p.parseTwoDigitYear=function(m){return Et(m)+(Et(m)>68?1900:2e3)},Tn(p.fn=en.prototype,{clone:function(){return p(this)},valueOf:function(){return+this._d+(this._offset||0)*6e4},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var m=p(this).utc();return 0<m.year()&&m.year()<=9999?an(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):an(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var m=this;return[m.year(),m.month(),m.date(),m.hours(),m.minutes(),m.seconds(),m.milliseconds()]},isValid:function(){return _e(this)},isDSTShifted:function(){return this._a?this.isValid()&&dn(this._a,(this._isUTC?p.utc(this._a):p(this._a)).toArray())>0:!1},parsingFlags:function(){return Tn({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(m){return this.zone(0,m)},local:function(m){return this._isUTC&&(this.zone(0,m),this._isUTC=!1,m&&this.add(this._dateTzOffset(),"m")),this},format:function(m){var w=an(this,m||p.defaultFormat);return this.localeData().postformat(w)},add:Oi(1,"add"),subtract:Oi(-1,"subtract"),diff:function(m,w,E){var z=En(m,this),W=(this.zone()-z.zone())*6e4,q,at,Mt;return w=ze(w),w==="year"||w==="month"?(q=(this.daysInMonth()+z.daysInMonth())*432e5,at=(this.year()-z.year())*12+(this.month()-z.month()),Mt=this-p(this).startOf("month")-(z-p(z).startOf("month")),Mt-=(this.zone()-p(this).startOf("month").zone()-(z.zone()-p(z).startOf("month").zone()))*6e4,at+=Mt/q,w==="year"&&(at=at/12)):(q=this-z,at=w==="second"?q/1e3:w==="minute"?q/6e4:w==="hour"?q/36e5:w==="day"?(q-W)/864e5:w==="week"?(q-W)/6048e5:q),E?at:Ln(at)},from:function(m,w){return p.duration({to:this,from:m}).locale(this.locale()).humanize(!w)},fromNow:function(m){return this.from(p(),m)},calendar:function(m){var w=m||p(),E=En(w,this).startOf("day"),z=this.diff(E,"days",!0),W=z<-6?"sameElse":z<-1?"lastWeek":z<0?"lastDay":z<1?"sameDay":z<2?"nextDay":z<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(W,this))},isLeapYear:function(){return We(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(m){var w=this._isUTC?this._d.getUTCDay():this._d.getDay();return m!=null?(m=Hi(m,this.localeData()),this.add(m-w,"d")):w},month:Zn("Month",!0),startOf:function(m){switch(m=ze(m),m){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return m==="week"?this.weekday(0):m==="isoWeek"&&this.isoWeekday(1),m==="quarter"&&this.month(Math.floor(this.month()/3)*3),this},endOf:function(m){return m=ze(m),this.startOf(m).add(1,m==="isoWeek"?"week":m).subtract(1,"ms")},isAfter:function(m,w){return w=ze(typeof w<"u"?w:"millisecond"),w==="millisecond"?(m=p.isMoment(m)?m:p(m),+this>+m):+this.clone().startOf(w)>+p(m).startOf(w)},isBefore:function(m,w){return w=ze(typeof w<"u"?w:"millisecond"),w==="millisecond"?(m=p.isMoment(m)?m:p(m),+this<+m):+this.clone().startOf(w)<+p(m).startOf(w)},isSame:function(m,w){return w=ze(w||"millisecond"),w==="millisecond"?(m=p.isMoment(m)?m:p(m),+this==+m):+this.clone().startOf(w)==+En(m,this).startOf(w)},min:Se("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(m){return m=p.apply(null,arguments),m<this?this:m}),max:Se("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(m){return m=p.apply(null,arguments),m>this?this:m}),zone:function(m,w){var E=this._offset||0,z;if(m!=null)typeof m=="string"&&(m=tn(m)),Math.abs(m)<16&&(m=m*60),!this._isUTC&&w&&(z=this._dateTzOffset()),this._offset=m,this._isUTC=!0,z!=null&&this.subtract(z,"m"),E!==m&&(!w||this._changeInProgress?ge(this,p.duration(E-m,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,p.updateOffset(this,!0),this._changeInProgress=null));else return this._isUTC?E:this._dateTzOffset();return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):typeof this._i=="string"&&this.zone(this._i),this},hasAlignedHourOffset:function(m){return m?m=p(m).zone():m=0,(this.zone()-m)%60===0},daysInMonth:function(){return Yt(this.year(),this.month())},dayOfYear:function(m){var w=b((p(this).startOf("day")-p(this).startOf("year"))/864e5)+1;return m==null?w:this.add(m-w,"d")},quarter:function(m){return m==null?Math.ceil((this.month()+1)/3):this.month((m-1)*3+this.month()%3)},weekYear:function(m){var w=Dt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return m==null?w:this.add(m-w,"y")},isoWeekYear:function(m){var w=Dt(this,1,4).year;return m==null?w:this.add(m-w,"y")},week:function(m){var w=this.localeData().week(this);return m==null?w:this.add((m-w)*7,"d")},isoWeek:function(m){var w=Dt(this,1,4).week;return m==null?w:this.add((m-w)*7,"d")},weekday:function(m){var w=(this.day()+7-this.localeData()._week.dow)%7;return m==null?w:this.add(m-w,"d")},isoWeekday:function(m){return m==null?this.day()||7:this.day(this.day()%7?m:m-7)},isoWeeksInYear:function(){return Ce(this.year(),1,4)},weeksInYear:function(){var m=this.localeData()._week;return Ce(this.year(),m.dow,m.doy)},get:function(m){return m=ze(m),this[m]()},set:function(m,w){return m=ze(m),typeof this[m]=="function"&&this[m](w),this},locale:function(m){var w;return m===f?this._locale._abbr:(w=p.localeData(m),w!=null&&(this._locale=w),this)},lang:Se("moment().lang() is deprecated. Use moment().localeData() instead.",function(m){return m===f?this.localeData():this.locale(m)}),localeData:function(){return this._locale},_dateTzOffset:function(){return Math.round(this._d.getTimezoneOffset()/15)*15}});function Ge(m,w){var E;return typeof w=="string"&&(w=m.localeData().monthsParse(w),typeof w!="number")||(E=Math.min(m.date(),Yt(m.year(),w)),m._d["set"+(m._isUTC?"UTC":"")+"Month"](w,E)),m}function Rn(m,w){return m._d["get"+(m._isUTC?"UTC":"")+w]()}function Vn(m,w,E){return w==="Month"?Ge(m,E):m._d["set"+(m._isUTC?"UTC":"")+w](E)}function Zn(m,w){return function(E){return E!=null?(Vn(this,m,E),p.updateOffset(this,w),this):Rn(this,m)}}p.fn.millisecond=p.fn.milliseconds=Zn("Milliseconds",!1),p.fn.second=p.fn.seconds=Zn("Seconds",!1),p.fn.minute=p.fn.minutes=Zn("Minutes",!1),p.fn.hour=p.fn.hours=Zn("Hours",!0),p.fn.date=Zn("Date",!0),p.fn.dates=Se("dates accessor is deprecated. Use date instead.",Zn("Date",!0)),p.fn.year=Zn("FullYear",!0),p.fn.years=Se("years accessor is deprecated. Use year instead.",Zn("FullYear",!0)),p.fn.days=p.fn.day,p.fn.months=p.fn.month,p.fn.weeks=p.fn.week,p.fn.isoWeeks=p.fn.isoWeek,p.fn.quarters=p.fn.quarter,p.fn.toJSON=p.fn.toISOString;function Lo(m){return m*400/146097}function De(m){return m*146097/400}Tn(p.duration.fn=ai.prototype,{_bubble:function(){var m=this._milliseconds,w=this._days,E=this._months,z=this._data,W,q,at,Mt=0;z.milliseconds=m%1e3,W=Ln(m/1e3),z.seconds=W%60,q=Ln(W/60),z.minutes=q%60,at=Ln(q/60),z.hours=at%24,w+=Ln(at/24),Mt=Ln(Lo(w)),w-=Ln(De(Mt)),E+=Ln(w/30),w%=30,Mt+=Ln(E/12),E%=12,z.days=w,z.months=E,z.years=Mt},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return Ln(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+Et(this._months/12)*31536e6},humanize:function(m){var w=V(this,!m,this.localeData());return m&&(w=this.localeData().pastFuture(+this,w)),this.localeData().postformat(w)},add:function(m,w){var E=p.duration(m,w);return this._milliseconds+=E._milliseconds,this._days+=E._days,this._months+=E._months,this._bubble(),this},subtract:function(m,w){var E=p.duration(m,w);return this._milliseconds-=E._milliseconds,this._days-=E._days,this._months-=E._months,this._bubble(),this},get:function(m){return m=ze(m),this[m.toLowerCase()+"s"]()},as:function(m){var w,E;if(m=ze(m),m==="month"||m==="year")return w=this._days+this._milliseconds/864e5,E=this._months+Lo(w)*12,m==="month"?E:E/12;switch(w=this._days+De(this._months/12),m){case"week":return w/7+this._milliseconds/6048e5;case"day":return w+this._milliseconds/864e5;case"hour":return w*24+this._milliseconds/36e5;case"minute":return w*24*60+this._milliseconds/6e4;case"second":return w*24*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(w*24*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+m)}},lang:p.fn.lang,locale:p.fn.locale,toIsoString:Se("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var m=Math.abs(this.years()),w=Math.abs(this.months()),E=Math.abs(this.days()),z=Math.abs(this.hours()),W=Math.abs(this.minutes()),q=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(m?m+"Y":"")+(w?w+"M":"")+(E?E+"D":"")+(z||W||q?"T":"")+(z?z+"H":"")+(W?W+"M":"")+(q?q+"S":""):"P0D"},localeData:function(){return this._locale}}),p.duration.fn.toString=p.duration.fn.toISOString;function Q(m){p.duration.fn[m]=function(){return this._data[m]}}for(x in zt)ft(zt,x)&&Q(x.toLowerCase());return p.duration.fn.asMilliseconds=function(){return this.as("ms")},p.duration.fn.asSeconds=function(){return this.as("s")},p.duration.fn.asMinutes=function(){return this.as("m")},p.duration.fn.asHours=function(){return this.as("h")},p.duration.fn.asDays=function(){return this.as("d")},p.duration.fn.asWeeks=function(){return this.as("weeks")},p.duration.fn.asMonths=function(){return this.as("M")},p.duration.fn.asYears=function(){return this.as("y")},p.locale("en",{ordinal:function(m){var w=m%10,E=Et(m%100/10)===1?"th":w===1?"st":w===2?"nd":w===3?"rd":"th";return m+E}}),p}).call(this),e.Utils.moment=d,e.datepicker})})(Kh)),Kh.exports}s0();/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(a){var e;window.UIkit2&&(e=a(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-pagination",["uikit"],function(){return e||a(UIkit2)})})(function(a){return a.component("pagination",{defaults:{items:1,itemsOnPage:1,pages:0,displayedPages:7,edges:1,currentPage:0,lblPrev:!1,lblNext:!1,onSelectPage:function(){}},boot:function(){a.ready(function(e){a.$("[data-uk-pagination]",e).each(function(){var r=a.$(this);r.data("pagination")||a.pagination(r,a.Utils.options(r.attr("data-uk-pagination")))})})},init:function(){var e=this;this.pages=this.options.pages?this.options.pages:Math.ceil(this.options.items/this.options.itemsOnPage)?Math.ceil(this.options.items/this.options.itemsOnPage):1,this.currentPage=this.options.currentPage,this.halfDisplayed=this.options.displayedPages/2,this.on("click","a[data-page]",function(r){r.preventDefault(),e.selectPage(a.$(this).data("page"))}),this._render()},_getInterval:function(){return{start:Math.ceil(this.currentPage>this.halfDisplayed?Math.max(Math.min(this.currentPage-this.halfDisplayed,this.pages-this.options.displayedPages),0):0),end:Math.ceil(this.currentPage>this.halfDisplayed?Math.min(this.currentPage+this.halfDisplayed,this.pages):Math.min(this.options.displayedPages,this.pages))}},render:function(e){this.pages=e||this.pages,this._render()},selectPage:function(e,r){this.currentPage=e,this.render(r),this.options.onSelectPage.apply(this,[e]),this.trigger("select.uk.pagination",[e,this])},_render:function(){var e=this.options,r=this._getInterval(),c;if(this.element.empty(),e.lblPrev&&this._append(this.currentPage-1,{text:e.lblPrev}),r.start>0&&e.edges>0){var d=Math.min(e.edges,r.start);for(c=0;c<d;c++)this._append(c);e.edges<r.start&&r.start-e.edges!=1?this.element.append("<li><span>...</span></li>"):r.start-e.edges==1&&this._append(e.edges)}for(c=r.start;c<r.end;c++)this._append(c);if(r.end<this.pages&&e.edges>0){this.pages-e.edges>r.end&&this.pages-e.edges-r.end!=1?this.element.append("<li><span>...</span></li>"):this.pages-e.edges-r.end==1&&this._append(r.end++);var f=Math.max(this.pages-e.edges,r.end);for(c=f;c<this.pages;c++)this._append(c)}e.lblNext&&this._append(this.currentPage+1,{text:e.lblNext})},_append:function(e,r){var c,d;e=e<0?0:e<this.pages?e:this.pages-1,d=a.$.extend({text:e+1},r),c=e==this.currentPage?'<li class="uk-active"><span>'+d.text+"</span></li>":'<li><a href="#page-'+(e+1)+'" data-page="'+e+'">'+d.text+"</a></li>",this.element.append(c)}}),a.pagination});/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(a){var e;window.UIkit2&&(e=a(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-notify",["uikit"],function(){return e||a(UIkit2)})})(function(a){var e={},r={},c=function(p){return a.$.type(p)=="string"&&(p={message:p}),arguments[1]&&(p=a.$.extend(p,a.$.type(arguments[1])=="string"?{status:arguments[1]}:arguments[1])),new f(p).show()},d=function(p,g){var b;if(p)for(b in r)p===r[b].group&&r[b].close(g);else for(b in r)r[b].close(g)},f=function(p){this.options=a.$.extend({},f.defaults,p),this.uuid=a.Utils.uid("notifymsg"),this.element=a.$(['<div class="uk-notify-message">','<a class="uk-close"></a>',"<div></div>","</div>"].join("")).data("notifyMessage",this),this.content(this.options.message),this.options.status&&(this.element.addClass("uk-notify-message-"+this.options.status),this.currentstatus=this.options.status),this.group=this.options.group,r[this.uuid]=this,e[this.options.pos]||(e[this.options.pos]=a.$('<div class="uk-notify uk-notify-'+this.options.pos+'"></div>').appendTo("body").on("click",".uk-notify-message",function(){var g=a.$(this).data("notifyMessage");g.element.trigger("manualclose.uk.notify",[g]),g.close()}))};return a.$.extend(f.prototype,{uuid:!1,element:!1,timout:!1,currentstatus:"",group:!1,show:function(){if(!this.element.is(":visible")){var p=this;e[this.options.pos].show().prepend(this.element);var g=parseInt(this.element.css("margin-bottom"),10);return this.element.css({opacity:0,marginTop:-1*this.element.outerHeight(),marginBottom:0}).animate({opacity:1,marginTop:0,marginBottom:g},function(){if(p.options.timeout){var b=function(){p.close()};p.timeout=setTimeout(b,p.options.timeout),p.element.hover(function(){clearTimeout(p.timeout)},function(){p.timeout=setTimeout(b,p.options.timeout)})}}),this}},close:function(p){var g=this,b=function(){g.element.remove(),e[g.options.pos].children().length||e[g.options.pos].hide(),g.options.onClose.apply(g,[]),g.element.trigger("close.uk.notify",[g]),delete r[g.uuid]};this.timeout&&clearTimeout(this.timeout),p?b():this.element.animate({opacity:0,marginTop:-1*this.element.outerHeight(),marginBottom:0},function(){b()})},content:function(p){var g=this.element.find(">div");return p?(g.html(p),this):g.html()},status:function(p){return p?(this.element.removeClass("uk-notify-message-"+this.currentstatus).addClass("uk-notify-message-"+p),this.currentstatus=p,this):this.currentstatus}}),f.defaults={message:"",status:"",timeout:5e3,group:null,pos:"top-center",onClose:function(){}},a.notify=c,a.notify.message=f,a.notify.closeAll=d,c});/*! UIkit 2.27.4 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */(function(a){var e;window.UIkit2&&(e=a(UIkit2)),typeof define=="function"&&define.amd&&define("uikit-tooltip",["uikit"],function(){return e||a(UIkit2)})})(function(a){var e,r,c;return a.component("tooltip",{defaults:{offset:5,pos:"top",animation:!1,delay:0,cls:"",activeClass:"uk-active",src:function(d){var f=d.attr("title");return f!==void 0&&d.data("cached-title",f).removeAttr("title"),d.data("cached-title")}},tip:"",boot:function(){a.$html.on("mouseenter.tooltip.uikit focus.tooltip.uikit","[data-uk-tooltip]",function(d){var f=a.$(this);f.data("tooltip")||(a.tooltip(f,a.Utils.options(f.attr("data-uk-tooltip"))),f.trigger("mouseenter"))})},init:function(){var d=this;e||(e=a.$('<div class="uk-tooltip"></div>').appendTo("body")),this.on({focus:function(f){d.show()},blur:function(f){d.hide()},mouseenter:function(f){d.show()},mouseleave:function(f){d.hide()}})},show:function(){if(this.tip=typeof this.options.src=="function"?this.options.src(this.element):this.options.src,r&&clearTimeout(r),c&&clearInterval(c),!(typeof this.tip!="string"||!this.tip.length)){e.stop().css({top:-2e3,visibility:"hidden"}).removeClass(this.options.activeClass).show(),e.html('<div class="uk-tooltip-inner">'+this.tip+"</div>");var d=this,f=a.$.extend({},this.element.offset(),{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}),p=e[0].offsetWidth,g=e[0].offsetHeight,b=typeof this.options.offset=="function"?this.options.offset.call(this.element):this.options.offset,C=typeof this.options.pos=="function"?this.options.pos.call(this.element):this.options.pos,x=C.split("-"),S={display:"none",visibility:"visible",top:f.top+f.height+g,left:f.left};if(a.$html.css("position")=="fixed"||a.$body.css("position")=="fixed"){var O=a.$("body").offset(),F=a.$("html").offset(),A={top:F.top+O.top,left:F.left+O.left};f.left-=A.left,f.top-=A.top}(x[0]=="left"||x[0]=="right")&&a.langdirection=="right"&&(x[0]=x[0]=="left"?"right":"left");var I={bottom:{top:f.top+f.height+b,left:f.left+f.width/2-p/2},top:{top:f.top-g-b,left:f.left+f.width/2-p/2},left:{top:f.top+f.height/2-g/2,left:f.left-p-b},right:{top:f.top+f.height/2-g/2,left:f.left+f.width+b}};a.$.extend(S,I[x[0]]),x.length==2&&(S.left=x[1]=="left"?f.left:f.left+f.width-p);var N=this.checkBoundary(S.left,S.top,p,g);if(N){switch(N){case"x":x.length==2?C=x[0]+"-"+(S.left<0?"left":"right"):C=S.left<0?"right":"left";break;case"y":x.length==2?C=(S.top<0?"bottom":"top")+"-"+x[1]:C=S.top<0?"bottom":"top";break;case"xy":x.length==2?C=(S.top<0?"bottom":"top")+"-"+(S.left<0?"left":"right"):C=S.left<0?"right":"left";break}x=C.split("-"),a.$.extend(S,I[x[0]]),x.length==2&&(S.left=x[1]=="left"?f.left:f.left+f.width-p)}S.left-=a.$body.position().left,r=setTimeout(function(){e.css(S).attr("class",["uk-tooltip","uk-tooltip-"+C,d.options.cls].join(" ")),d.options.animation?e.css({opacity:0,display:"block"}).addClass(d.options.activeClass).animate({opacity:1},parseInt(d.options.animation,10)||400):e.show().addClass(d.options.activeClass),r=!1,c=setInterval(function(){d.element.is(":visible")||d.hide()},150)},parseInt(this.options.delay,10)||0)}},hide:function(){if(!(this.element.is("input")&&this.element[0]===document.activeElement))if(r&&clearTimeout(r),c&&clearInterval(c),e.stop(),this.options.animation){var d=this;e.fadeOut(parseInt(this.options.animation,10)||400,function(){e.removeClass(d.options.activeClass)})}else e.hide().removeClass(this.options.activeClass)},content:function(){return this.tip},checkBoundary:function(d,f,p,g){var b="";return(d<0||d-a.$win.scrollLeft()+p>window.innerWidth)&&(b+="x"),(f<0||f-a.$win.scrollTop()+g>window.innerHeight)&&(b+="y"),b}}),a.tooltip});var Cp={};/*!
 * jQuery UI Widget 1.14.1
 * https://jqueryui.com
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 */var kp;function l0(){return kp||(kp=1,(function(a){a(jQuery)})(function(a){var e=0,r=Array.prototype.hasOwnProperty,c=Array.prototype.slice;return a.cleanData=(function(d){return function(f){var p,g,b;for(b=0;(g=f[b])!=null;b++)p=a._data(g,"events"),p&&p.remove&&a(g).triggerHandler("remove");d(f)}})(a.cleanData),a.widget=function(d,f,p){var g,b,C,x={},S=d.split(".")[0];if(d=d.split(".")[1],d==="__proto__"||d==="constructor")return a.error("Invalid widget name: "+d);var O=S+"-"+d;return p||(p=f,f=a.Widget),Array.isArray(p)&&(p=a.extend.apply(null,[{}].concat(p))),a.expr.pseudos[O.toLowerCase()]=function(F){return!!a.data(F,O)},a[S]=a[S]||{},g=a[S][d],b=a[S][d]=function(F,A){if(!this||!this._createWidget)return new b(F,A);arguments.length&&this._createWidget(F,A)},a.extend(b,g,{version:p.version,_proto:a.extend({},p),_childConstructors:[]}),C=new f,C.options=a.widget.extend({},C.options),a.each(p,function(F,A){if(typeof A!="function"){x[F]=A;return}x[F]=(function(){function I(){return f.prototype[F].apply(this,arguments)}function N(Y){return f.prototype[F].apply(this,Y)}return function(){var Y=this._super,H=this._superApply,K;return this._super=I,this._superApply=N,K=A.apply(this,arguments),this._super=Y,this._superApply=H,K}})()}),b.prototype=a.widget.extend(C,{widgetEventPrefix:g&&C.widgetEventPrefix||d},x,{constructor:b,namespace:S,widgetName:d,widgetFullName:O}),g?(a.each(g._childConstructors,function(F,A){var I=A.prototype;a.widget(I.namespace+"."+I.widgetName,b,A._proto)}),delete g._childConstructors):f._childConstructors.push(b),a.widget.bridge(d,b),b},a.widget.extend=function(d){for(var f=c.call(arguments,1),p=0,g=f.length,b,C;p<g;p++)for(b in f[p])C=f[p][b],r.call(f[p],b)&&C!==void 0&&(a.isPlainObject(C)?d[b]=a.isPlainObject(d[b])?a.widget.extend({},d[b],C):a.widget.extend({},C):d[b]=C);return d},a.widget.bridge=function(d,f){var p=f.prototype.widgetFullName||d;a.fn[d]=function(g){var b=typeof g=="string",C=c.call(arguments,1),x=this;return b?!this.length&&g==="instance"?x=void 0:this.each(function(){var S,O=a.data(this,p);if(g==="instance")return x=O,!1;if(!O)return a.error("cannot call methods on "+d+" prior to initialization; attempted to call method '"+g+"'");if(typeof O[g]!="function"||g.charAt(0)==="_")return a.error("no such method '"+g+"' for "+d+" widget instance");if(S=O[g].apply(O,C),S!==O&&S!==void 0)return x=S&&S.jquery?x.pushStack(S.get()):S,!1}):(C.length&&(g=a.widget.extend.apply(null,[g].concat(C))),this.each(function(){var S=a.data(this,p);S?(S.option(g||{}),S._init&&S._init()):a.data(this,p,new f(g,this))})),x}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(d,f){f=a(f||this.defaultElement||this)[0],this.element=a(f),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=a(),this.hoverable=a(),this.focusable=a(),this.classesElementLookup={},f!==this&&(a.data(f,this.widgetFullName,this),this._on(!0,this.element,{remove:function(p){p.target===f&&this.destroy()}}),this.document=a(f.style?f.ownerDocument:f.document||f),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this.options=a.widget.extend({},this.options,this._getCreateOptions(),d),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){var d=this;this._destroy(),a.each(this.classesElementLookup,function(f,p){d._removeClass(p,f)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:a.noop,widget:function(){return this.element},option:function(d,f){var p=d,g,b,C;if(arguments.length===0)return a.widget.extend({},this.options);if(typeof d=="string")if(p={},g=d.split("."),d=g.shift(),g.length){for(b=p[d]=a.widget.extend({},this.options[d]),C=0;C<g.length-1;C++)b[g[C]]=b[g[C]]||{},b=b[g[C]];if(d=g.pop(),arguments.length===1)return b[d]===void 0?null:b[d];b[d]=f}else{if(arguments.length===1)return this.options[d]===void 0?null:this.options[d];p[d]=f}return this._setOptions(p),this},_setOptions:function(d){var f;for(f in d)this._setOption(f,d[f]);return this},_setOption:function(d,f){return d==="classes"&&this._setOptionClasses(f),this.options[d]=f,d==="disabled"&&this._setOptionDisabled(f),this},_setOptionClasses:function(d){var f,p,g;for(f in d)g=this.classesElementLookup[f],!(d[f]===this.options.classes[f]||!g||!g.length)&&(p=a(g.get()),this._removeClass(g,f),p.addClass(this._classes({element:p,keys:f,classes:d,add:!0})))},_setOptionDisabled:function(d){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!d),d&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(d){var f=[],p=this;d=a.extend({element:this.element,classes:this.options.classes||{}},d);function g(){var C=[];d.element.each(function(x,S){var O=a.map(p.classesElementLookup,function(F){return F}).some(function(F){return F.is(S)});O||C.push(S)}),p._on(a(C),{remove:"_untrackClassesElement"})}function b(C,x){var S,O;for(O=0;O<C.length;O++)S=p.classesElementLookup[C[O]]||a(),d.add?(g(),S=a(a.uniqueSort(S.get().concat(d.element.get())))):S=a(S.not(d.element).get()),p.classesElementLookup[C[O]]=S,f.push(C[O]),x&&d.classes[C[O]]&&f.push(d.classes[C[O]])}return d.keys&&b(d.keys.match(/\S+/g)||[],!0),d.extra&&b(d.extra.match(/\S+/g)||[]),f.join(" ")},_untrackClassesElement:function(d){var f=this;a.each(f.classesElementLookup,function(p,g){a.inArray(d.target,g)!==-1&&(f.classesElementLookup[p]=a(g.not(d.target).get()))}),this._off(a(d.target))},_removeClass:function(d,f,p){return this._toggleClass(d,f,p,!1)},_addClass:function(d,f,p){return this._toggleClass(d,f,p,!0)},_toggleClass:function(d,f,p,g){g=typeof g=="boolean"?g:p;var b=typeof d=="string"||d===null,C={extra:b?f:p,keys:b?d:f,element:b?this.element:d,add:g};return C.element.toggleClass(this._classes(C),g),this},_on:function(d,f,p){var g,b=this;typeof d!="boolean"&&(p=f,f=d,d=!1),p?(f=g=a(f),this.bindings=this.bindings.add(f)):(p=f,f=this.element,g=this.widget()),a.each(p,function(C,x){function S(){if(!(!d&&(b.options.disabled===!0||a(this).hasClass("ui-state-disabled"))))return(typeof x=="string"?b[x]:x).apply(b,arguments)}typeof x!="string"&&(S.guid=x.guid=x.guid||S.guid||a.guid++);var O=C.match(/^([\w:-]*)\s*(.*)$/),F=O[1]+b.eventNamespace,A=O[2];A?g.on(F,A,S):f.on(F,S)})},_off:function(d,f){f=(f||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,d.off(f),this.bindings=a(this.bindings.not(d).get()),this.focusable=a(this.focusable.not(d).get()),this.hoverable=a(this.hoverable.not(d).get())},_delay:function(d,f){function p(){return(typeof d=="string"?g[d]:d).apply(g,arguments)}var g=this;return setTimeout(p,f||0)},_hoverable:function(d){this.hoverable=this.hoverable.add(d),this._on(d,{mouseenter:function(f){this._addClass(a(f.currentTarget),null,"ui-state-hover")},mouseleave:function(f){this._removeClass(a(f.currentTarget),null,"ui-state-hover")}})},_focusable:function(d){this.focusable=this.focusable.add(d),this._on(d,{focusin:function(f){this._addClass(a(f.currentTarget),null,"ui-state-focus")},focusout:function(f){this._removeClass(a(f.currentTarget),null,"ui-state-focus")}})},_trigger:function(d,f,p){var g,b,C=this.options[d];if(p=p||{},f=a.Event(f),f.type=(d===this.widgetEventPrefix?d:this.widgetEventPrefix+d).toLowerCase(),f.target=this.element[0],b=f.originalEvent,b)for(g in b)g in f||(f[g]=b[g]);return this.element.trigger(f,p),!(typeof C=="function"&&C.apply(this.element[0],[f].concat(p))===!1||f.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(d,f){a.Widget.prototype["_"+d]=function(p,g,b){typeof g=="string"&&(g={effect:g});var C,x=g?g===!0||typeof g=="number"?f:g.effect||f:d;g=g||{},typeof g=="number"?g={duration:g}:g===!0&&(g={}),C=!a.isEmptyObject(g),g.complete=b,g.delay&&p.delay(g.delay),C&&a.effects&&a.effects.effect[x]?p[d](g):x!==d&&p[x]?p[x](g.duration,g.easing,b):p.queue(function(S){a(this)[d](),b&&b.call(p[0]),S()})}}),a.widget})),Cp}l0();var Ep={};/*!
 * jQuery UI Autocomplete 1.14.1
 * https://jqueryui.com
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 */var _p;function u0(){return _p||(_p=1,(function(a){a(jQuery)})(function(a){return a.widget("ui.autocomplete",{version:"1.14.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var e,r,c,d=this.element[0].nodeName.toLowerCase(),f=d==="textarea",p=d==="input";this.isMultiLine=f||!p&&this.element.prop("contentEditable")==="true",this.valueMethod=this.element[f||p?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(g){if(this.element.prop("readOnly")){e=!0,c=!0,r=!0;return}e=!1,c=!1,r=!1;var b=a.ui.keyCode;switch(g.keyCode){case b.PAGE_UP:e=!0,this._move("previousPage",g);break;case b.PAGE_DOWN:e=!0,this._move("nextPage",g);break;case b.UP:e=!0,this._keyEvent("previous",g);break;case b.DOWN:e=!0,this._keyEvent("next",g);break;case b.ENTER:this.menu.active&&(e=!0,g.preventDefault(),this.menu.select(g));break;case b.TAB:this.menu.active&&this.menu.select(g);break;case b.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(g),g.preventDefault());break;default:r=!0,this._searchTimeout(g);break}},keypress:function(g){if(e){e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&g.preventDefault();return}if(!r){var b=a.ui.keyCode;switch(g.keyCode){case b.PAGE_UP:this._move("previousPage",g);break;case b.PAGE_DOWN:this._move("nextPage",g);break;case b.UP:this._keyEvent("previous",g);break;case b.DOWN:this._keyEvent("next",g);break}}},input:function(g){if(c){c=!1,g.preventDefault();return}this._searchTimeout(g)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(g){clearTimeout(this.searching),this.close(g),this._change(g)}}),this._initSource(),this.menu=a("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(g){g.preventDefault()},menufocus:function(g,b){var C,x;if(this.isNewMenu&&(this.isNewMenu=!1,g.originalEvent&&/^mouse/.test(g.originalEvent.type))){this.menu.blur(),this.document.one("mousemove",function(){a(g.target).trigger(g.originalEvent)});return}x=b.item.data("ui-autocomplete-item"),this._trigger("focus",g,{item:x})!==!1&&g.originalEvent&&/^key/.test(g.originalEvent.type)&&this._value(x.value),C=b.item.attr("aria-label")||x.value,C&&String.prototype.trim.call(C).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(a("<div>").text(C))},100))},menuselect:function(g,b){var C=b.item.data("ui-autocomplete-item"),x=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.trigger("focus"),this.previous=x),this._trigger("select",g,{item:C})!==!1&&this._value(C.value),this.term=this._value(),this.close(g),this.selectedItem=C}}),this.liveRegion=a("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,r){this._super(e,r),e==="source"&&this._initSource(),e==="appendTo"&&this.menu.element.appendTo(this._appendTo()),e==="disabled"&&r&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var r=this.menu.element[0];return e.target===this.element[0]||e.target===r||a.contains(r,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?a(e):this.document.find(e).eq(0)),(!e||!e[0])&&(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,r,c=this;Array.isArray(this.options.source)?(e=this.options.source,this.source=function(d,f){f(a.ui.autocomplete.filter(e,d.term))}):typeof this.options.source=="string"?(r=this.options.source,this.source=function(d,f){c.xhr&&c.xhr.abort(),c.xhr=a.ajax({url:r,data:d,dataType:"json",success:function(p){f(p)},error:function(){f([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var r=this.term===this._value(),c=this.menu.element.is(":visible"),d=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!r||r&&!c&&!d)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,r){if(e=e??this._value(),this.term=this._value(),e.length<this.options.minLength)return this.close(r);if(this._trigger("search",r)!==!1)return this._search(e)},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=++this.requestIndex;return(function(r){e===this.requestIndex&&this.__response(r),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}).bind(this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:a.map(e,function(r){return typeof r=="string"?{label:r,value:r}:a.extend({},r,{label:r.label||r.value,value:r.value||r.label})})},_suggest:function(e){var r=this.menu.element.empty();this._renderMenu(r,e),this.isNewMenu=!0,this.menu.refresh(),r.show(),this._resizeMenu(),r.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,r){var c=this;a.each(r,function(d,f){c._renderItemData(e,f)})},_renderItemData:function(e,r){return this._renderItem(e,r).data("ui-autocomplete-item",r)},_renderItem:function(e,r){return a("<li>").append(a("<div>").text(r.label)).appendTo(e)},_move:function(e,r){if(!this.menu.element.is(":visible")){this.search(null,r);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){this.isMultiLine||this._value(this.term),this.menu.blur();return}this.menu[e](r)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,r){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,r),r.preventDefault())}}),a.extend(a.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,r){var c=new RegExp(a.ui.autocomplete.escapeRegex(r),"i");return a.grep(e,function(d){return c.test(d.label||d.value||d)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var r;this._superApply(arguments),!(this.options.disabled||this.cancelSearch)&&(e&&e.length?r=this.options.messages.results(e.length):r=this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(a("<div>").text(r))},100))}}),a.ui.autocomplete})),Ep}u0();class c0{constructor(){this.$list=$(".attribute-value-forms > .uk-sortable"),this.currentRequest=null,this.onSortableChange=this.onSortableChange.bind(this),this.init()}init(){this.$list.length&&this.$list.children().length>1&&this.$list.on("change.uk.sortable",this.onSortableChange)}unbind(){this.$list.length&&this.$list.children().length>1&&this.$list.off("change.uk.sortable",this.onSortableChange)}async onSortableChange(e,r,c){if(e.target instanceof HTMLInputElement)return;let d=$(c);const f=d.data("id");if(!f)return;let p=parseInt(f),g=d.prev();const b={csrfToken:window.RozierConfig.ajaxToken,id:p};g.length===0?(g=d.next(),b.nextId=parseInt(g.data("id"))):b.prevId=parseInt(g.data("id"));try{const C=await fetch(window.RozierConfig.routes.attributeValuePositionAjax,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams(b)});if(!C.ok)throw C;const x=await C.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:x.responseText,status:x.status}}))}catch(C){const x=await C.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:x.title||"",status:"danger"}}))}}}class f0{constructor(){this.$list=$(".custom-form-fields > .uk-sortable"),this.onSortableChange=this.onSortableChange.bind(this),this.init()}init(){this.$list.length&&this.$list.children().length>1&&this.$list.on("change.uk.sortable",this.onSortableChange)}unbind(){this.$list.length&&this.$list.children().length>1&&this.$list.off("change.uk.sortable",this.onSortableChange)}async onSortableChange(e,r,c){const d=$(c),f=parseInt(d.data("field-id"));let p=d.prev();const g={csrfToken:window.RozierConfig.ajaxToken,id:f};p.length===0?(p=d.next(),g.nextId=parseInt(p.data("field-id"))):g.prevId=parseInt(p.data("field-id"));const b=await fetch(window.RozierConfig.routes.customFormFieldPositionAjax,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams(g)});if(b.ok){const C=await b.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:C.responseText,status:C.status}}))}else{const C=await b.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:C.title,status:"danger"}}))}}}async function Cd(a){return new Promise(e=>setTimeout(e,a))}async function Hg(a,e=400){return new Promise(r=>{a.style.opacity=0,a.style.display="block",a.style.transition=`opacity ${e}ms ease-in`,a.offsetWidth,requestAnimationFrame(async()=>{a.style.opacity=1,await Cd(e),r()})})}async function h0(a,e=600){return new Promise(r=>{a.style.opacity=1,a.style.transition=`opacity ${e}ms ease-out`,a.offsetWidth,requestAnimationFrame(async()=>{a.style.opacity=0,await Cd(e),a.style.display="none",r()})})}class d0{constructor(){this.page=document.querySelector(".stack-tree"),this.page&&(this.quickAddNodeButtons=this.page.querySelectorAll(".stack-tree-quick-creation button"),this.nodeTree=this.page.querySelector(".root-tree")),this.onQuickAddClick=this.onQuickAddClick.bind(this),this.init()}getCurrentPage(){this.nodeTree=this.page.querySelector(".root-tree");const e=parseInt(this.nodeTree.getAttribute("data-page"));return isNaN(e)?1:e}getTranslationId(){this.nodeTree=this.page.querySelector(".root-tree");const e=parseInt(this.nodeTree.getAttribute("data-translation-id"));return isNaN(e)?null:e}init(){if(this.page){const e=this.page.querySelector(".nodetree-langs");e&&e.remove(),this.quickAddNodeButtons.forEach(r=>{r.addEventListener("click",this.onQuickAddClick)})}}unbind(){this.page&&this.quickAddNodeButtons.forEach(e=>{e.removeEventListener("click",this.onQuickAddClick)})}async quickAddNode(e,r,c=null){const d={csrfToken:window.RozierConfig.ajaxToken,nodeTypeName:e,parentNodeId:r,translationId:this.getTranslationId(),pushTop:1};c!==null&&(d.tagId=c);const f=await fetch(window.RozierConfig.routes.nodesGenerateAndAddNodeAction,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams(d)});if(!f.ok)throw await f.json();return await f.json()}async onQuickAddClick(e){e.preventDefault();const r=e.currentTarget,c=r.getAttribute("data-children-node-type"),d=parseInt(r.getAttribute("data-children-parent-node"));let f=null;if(!c||d<=0)return!1;r.hasAttribute("data-filter-tag")&&(f=parseInt(r.getAttribute("data-filter-tag")));try{await this.quickAddNode(c,d,f),await Promise.all([window.Rozier.refreshMainNodeTree(),this.refreshNodeTree(d,f,1)]),await window.Rozier.getMessages()}catch(p){window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:p.error_message,status:"danger"}}))}}treeAvailable(){return!!(this.page&&this.page.querySelector(".nodetree-widget"))}async fetchNodeTree(e,r=void 0,c=void 0){const d=new URLSearchParams({_token:window.RozierConfig.ajaxToken,_action:"requestNodeTree",stackTree:!0,parentNodeId:e,page:r||this.getCurrentPage(),tagId:c,translationId:this.getTranslationId()}),f=`${window.RozierConfig.routes.nodesTreeAjax}?${d.toString()}`,p=await fetch(f,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!p.ok)throw await p.json();return await p.json()}async refreshNodeTree(e,r,c){const d=this.page.querySelector(".nodetree-widget");if(!d)return;const f=d.querySelector(".root-tree");if(typeof e>"u"){const p=f.getAttribute("data-parent-node-id");e=p?parseInt(p):null}else e=parseInt(e);window.dispatchEvent(new CustomEvent("requestLoaderShow"));try{const p=await this.fetchNodeTree(e,c?parseInt(c):void 0,r?parseInt(r):void 0);if(p.nodeTree){await h0(d);const g=document.createElement("div");g.innerHTML=p.nodeTree;const b=g.querySelector("ul.root-tree");f.replaceWith(b),window.Rozier.initNestables(),window.Rozier.bindMainTrees(),window.Rozier.lazyload.bindAjaxLink(),await Hg(d),window.Rozier.resize(),this.nodeTree=this.page.querySelector(".root-tree");const C=this.page.querySelector(".nodetree-langs");C&&C.remove()}}catch(p){window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:JSON.parse(p.responseText).error_message,status:"danger"}}))}finally{window.dispatchEvent(new CustomEvent("requestLoaderHide"))}}}class p0{constructor(){this.buttons=document.querySelectorAll(".rz-button-settings-save"),this.currentRequest=null,this.buttonClick=this.buttonClick.bind(this),this.init()}init(){this.buttons.forEach(e=>e.addEventListener("click",this.buttonClick))}unbind(){this.buttons.forEach(e=>e.removeEventListener("click",this.buttonClick))}async buttonClick(e){e.preventDefault();let r=e.currentTarget?.closest(".setting-row")?.querySelector(".rz-form");if(!r)return console.error("No form found for settings save button"),!1;if(r.querySelectorAll("input[type=file]").length)return r.requestSubmit(),!1;r.classList.contains("uk-has-errors")&&(r.querySelector(".uk-alert").remove(),r.classList.remove("uk-has-errors")),window.dispatchEvent(new CustomEvent("requestLoaderShow"));const c=new window.FormData(r),d=await fetch(window.location.href,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:c});if(!d.ok){const f=await d.json();if(f.errors&&f.errors.value)for(let p in f.errors.value)r.classList.add("uk-has-errors"),r.insertAdjacentHTML("beforeend",'<span class="uk-alert uk-alert-danger">'+f.errors.value[p]+"</span>");else if(f.errors)for(let p in f.errors){r.classList.add("uk-has-errors"),r.insertAdjacentHTML("beforeend",'<span class="uk-alert uk-alert-danger">'+f.errors[p]+"</span>");break}}return await window.Rozier.getMessages(),window.dispatchEvent(new CustomEvent("requestLoaderHide")),!1}resize(){}}class g0{constructor(){this.itemClick=this.itemClick.bind(this),this.containerEnter=this.containerEnter.bind(this),this.containerLeave=this.containerLeave.bind(this),this.onChange=this.onChange.bind(this);const e=document.querySelectorAll(".node-statuses, .node-actions");this.icon=document.querySelector(".node-status header i"),this.locked=!1,e.forEach(r=>{const c=r.querySelectorAll(".node-statuses-item"),d=r.querySelectorAll('input[type="checkbox"], input[type="radio"]');this.init(r,c,d)})}init(e,r,c){r.forEach(d=>{d.removeEventListener("click",this.itemClick),d.addEventListener("click",this.itemClick)}),e.addEventListener("mouseenter",this.containerEnter),e.addEventListener("mouseleave",this.containerLeave),c.forEach(d=>{d.removeEventListener("change",this.onChange),d.addEventListener("change",this.onChange)}),e.querySelectorAll(".rz-boolean-checkbox").forEach(d=>{d.addEventListener("change",this.onChange)})}containerEnter(e){e.stopPropagation();const r=e.currentTarget,c=r.querySelector("ul, nav"),d=r.offsetHeight,f=c?c.offsetHeight:0,p=r.getBoundingClientRect().top+window.scrollY,g=window.innerHeight,b=p+f+d;g<b&&r.classList.add("reverse")}containerLeave(e){e.stopPropagation(),e.currentTarget.classList.remove("reverse")}itemClick(e){e.stopPropagation();const r=e.currentTarget.querySelector('input[type="radio"]');r&&(r.checked=!0,r.dispatchEvent(new Event("change",{bubbles:!0})))}async onChange(e){if(e.stopPropagation(),this.locked===!0)return!1;this.locked=!0;const r=e.currentTarget;if(!r)return!1;const c=r.getAttribute("name");let d=null;r instanceof HTMLInputElement&&r.type==="checkbox"?d=Number(r.checked):r instanceof HTMLInputElement&&r.type==="radio"&&(d=r.value),window.dispatchEvent(new CustomEvent("requestLoaderShow"));const f=await fetch(window.RozierConfig.routes.nodesStatusesAjax,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams({csrfToken:window.RozierConfig.ajaxToken,nodeId:parseInt(r.getAttribute("data-node-id")),statusName:c,statusValue:d})});if(f.ok)window.Rozier.refreshMainNodeTree(),window.Rozier.getMessages(),window.dispatchEvent(new CustomEvent("requestAllNodeTreeRefresh"));else{const p=await f.json();window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:p.error_message,status:"danger"}}))}this.locked=!1,window.dispatchEvent(new CustomEvent("requestLoaderHide"))}}class m0{constructor(e){this.textarea=e,this.cont=this.textarea.closest(".rz-form-field"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;let r=[];for(let d=1;d<19;d++)r.push({column:this.tabSize*d,lineStyle:"dashed",width:"1px",color:"rgba(0,255,255,0.1)"});let c={lineNumbers:!0,mode:"yaml",theme:"mbo",tabSize:this.tabSize,indentUnit:this.tabSize,indentWithTabs:!1,lineWrapping:!0,rulers:r,smartIndent:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled",extraKeys:{Tab:"indentMore","Shift-Tab":"indentLess"}};this.settingRow&&(c.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,c),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}init(){this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(r=>{r.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()}))}forceEditorUpdate(){this.editor.refresh()}textareaChange(){this.editor.save()}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}destroy(){}resize(){}}class v0{constructor(e){this.textarea=e,this.cont=this.textarea.closest(".rz-form-field"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;let r={lineNumbers:!0,mode:{name:"javascript",json:!0},theme:"mbo",tabSize:this.tabSize,indentUnit:this.tabSize,indentWithTabs:!1,lineWrapping:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled",extraKeys:{Tab:"indentMore","Shift-Tab":"indentLess"}};this.settingRow&&(r.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,r),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.init()}init(){this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(r=>{r.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()}))}forceEditorUpdate(){this.editor.refresh()}textareaChange(){this.editor.save()}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}destroy(){}resize(){}}class b0{constructor(e){this.textarea=e,this.cont=this.textarea.closest(".rz-form-field"),this.settingRow=this.textarea.closest(".setting-row"),this.tabSize=4;let r={lineNumbers:!0,mode:"css",theme:"mbo",tabSize:4,indentWithTabs:!1,lineWrapping:!0,dragDrop:!1,readOnly:this.textarea.hasAttribute("disabled")&&this.textarea.getAttribute("disabled")==="disabled",extraKeys:{Tab:c=>c.execCommand("indentMore"),"Shift-Tab":c=>c.execCommand("indentLess")}};this.settingRow&&(r.lineNumbers=!1),this.editor=window.CodeMirror.fromTextArea(this.textarea,r),this.forceEditorUpdate=this.forceEditorUpdate.bind(this),this.textareaChange=this.textareaChange.bind(this),this.textareaFocus=this.textareaFocus.bind(this),this.textareaBlur=this.textareaBlur.bind(this),this.init()}init(){this.textarea&&(this.editor.on("change",this.textareaChange),this.editor.on("focus",this.textareaFocus),this.editor.on("blur",this.textareaBlur),window.requestAnimationFrame(()=>{document.querySelectorAll("[data-uk-switcher]").forEach(r=>{r.addEventListener("show.uk.switcher",this.forceEditorUpdate)}),this.forceEditorUpdate()}))}forceEditorUpdate(){this.editor.refresh()}textareaChange(){this.editor.save()}textareaFocus(){this.cont.classList.add("form-col-focus")}textareaBlur(){this.cont.classList.remove("form-col-focus")}destroy(){}resize(){}}class Sp{constructor(){this.linksSelector=[],this.currentRequest=null,this.currentTimeout=null,this.inputLengthWatcher=null,this.documentUploader=null,this.geotagField=null,this.multiGeotagField=null,this.tagAutocomplete=null,this.attributeValuesPosition=null,this.customFormFieldsPosition=null,this.settingsSaveButtons=null,this.jsonEditors=[],this.cssEditors=[],this.yamlEditors=[],this.stackNodeTrees=null,this.nodeStatuses=null,this.onPopState=this.onPopState.bind(this),this.onClick=this.onClick.bind(this),this.parseLinks(),window.removeEventListener("popstate",this.onPopState),window.addEventListener("popstate",this.onPopState),window.history.pushState({},document.title,window.location.href)}parseLinks(){this.linksSelector=Array.from(document.querySelectorAll('a:not([target=_blank]):not([download]):not([href="#"])')).filter(e=>{const r=e.getAttribute("href");return typeof r<"u"&&r!==null&&!e.classList.contains("rz-no-ajax-link")&&r!==""&&r!=="#"&&(r.indexOf(window.RozierConfig.baseUrl)>=0||r.charAt(0)==="/"||r.charAt(0)==="?")})}onClick(e){const c=e.currentTarget?.getAttribute("href");return c&&(e.preventDefault(),window.requestAnimationFrame(()=>{window.history.pushState({},null,c),this.onPopState(null)})),!1}onPopState(e){let r=null;e!==null&&"state"in e&&(r=e.state),(typeof r>"u"||r===null)&&(r=window.history.state),r!==null&&(window.dispatchEvent(new CustomEvent("requestLoaderShow")),this.loadContent(r,window.location))}loadContent(e,r){this.currentTimeout&&window.cancelAnimationFrame(this.currentTimeout),this.currentTimeout=window.requestAnimationFrame(async()=>{window.dispatchEvent(new CustomEvent("pagechange"));try{let c="";const d=r.href.split("?")[0],f=new URLSearchParams(r.href.split("?")[1]),p=e.headerData;if(p)for(const[C,x]of Object.entries(p))Array.isArray(x)?x.forEach((S,O)=>{f.append(`${C}[${O}]`,String(S))}):f.set(C,String(x));f.toString()!==""?c=d+"?"+f.toString():c=d;const g=await fetch(c,{method:"GET",headers:{Accept:"text/html"}});if(!g.ok)throw g;const b=await g.text();await this.applyContent(b),window.dispatchEvent(new CustomEvent("pageload",{detail:b}))}catch(c){const f=await c.text();if(f)try{const p=JSON.parse(f);window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:p.message,status:"danger"}}))}catch{window.location.href=r.href}else window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:window.RozierConfig.messages.forbiddenPage,status:"danger"}}))}window.dispatchEvent(new CustomEvent("requestLoaderHide"))})}refreshCodemirrorEditor(){for(const e of this.yamlEditors)e.forceEditorUpdate();for(const e of this.cssEditors)e.forceEditorUpdate();for(const e of this.jsonEditors)e.forceEditorUpdate()}destroyCodemirrorEditor(){for(const e of this.yamlEditors)e.destroy();for(const e of this.cssEditors)e.destroy();for(const e of this.jsonEditors)e.destroy()}async applyContent(e){const r=document.querySelector("[data-ajax-root]");if(!r){console.error("No [data-ajax-root] found in the document.");return}const c=document.createElement("div");c.setHTMLUnsafe(e);const d=c.querySelector("[data-ajax-root]");d?r.setHTMLUnsafe(d.innerHTML):r.setHTMLUnsafe(c.innerHTML);const f=c.querySelectorAll('title, meta[name="title"]');if(f.length){const p=f[0];document.title=p.getAttribute("content")||p.textContent||""}window.dispatchEvent(new CustomEvent("pageshowend")),this.generalBind()}bindAjaxLink(){this.parseLinks(),this.linksSelector.forEach(e=>{e.classList.add("rz-ajax-link"),e.removeEventListener("click",this.onClick),e.addEventListener("click",this.onClick)})}generalBind(){this.generalUnbind([this.inputLengthWatcher,this.geotagField,this.multiGeotagField,this.stackNodeTrees,this.tagAutocomplete,this.attributeValuesPosition,this.customFormFieldsPosition,this.settingsSaveButtons]),this.bindAjaxLink(),this.jsonEditors=[],this.cssEditors=[],this.yamlEditors=[],this.stackNodeTrees=new d0,this.attributeValuesPosition=new c0,this.customFormFieldsPosition=new f0,this.settingsSaveButtons=new p0,this.initJsonEditors(),this.initCssEditors(),this.initYamlEditors(),window.Rozier?.bindMainTrees(),window.Rozier.nodeStatuses=new g0,window.Rozier?.getMessages()}generalUnbind(e){this.destroyCodemirrorEditor();for(const r of e)r?.unbind&&r.unbind()}initCollectionsForms(e){let r=null;e!==null&&typeof e<"u"?r=e.querySelectorAll(".rz-collection-form-type"):r=document.querySelectorAll(".rz-collection-form-type"),r.length&&$(r).collection({up:'<a tabindex="-1" class="uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-angle-up"></i></a>',down:'<a tabindex="-1" class="uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-angle-down"></i></a>',add:'<a tabindex="-1" class="uk-button-primary uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-plus"></i></a>',remove:'<a tabindex="-1" class="uk-button-danger uk-button uk-button-small" href="#"><i tabindex="-1" class="uk-icon uk-icon-minus"></i></a>',after_add:(c,d)=>{const f=d[0];return this.initJsonEditors(f),this.initCssEditors(f),this.initYamlEditors(f),this.initCollectionsForms(f),f.querySelectorAll("[data-vuejs]").forEach(g=>{window.Rozier&&window.Rozier.vueApp.mainContentComponents.push(window.Rozier.vueApp.buildComponent(g))}),!0}})}initJsonEditors(e){let r;e?r=e.querySelectorAll("textarea[data-rz-jsoneditor]"):r=document.querySelectorAll("textarea[data-rz-jsoneditor]");const c=r.length;if(c)for(let d=0;d<c;d++)this.jsonEditors.push(new v0(r[d],d))}initCssEditors(e){let r;e?r=e.querySelectorAll("textarea[data-rz-csseditor]"):r=document.querySelectorAll("textarea[data-rz-csseditor]");const c=r.length;if(c)for(let d=0;d<c;d++)this.cssEditors.push(new b0(r[d],d))}initYamlEditors(e){let r;e?r=e.querySelectorAll("textarea[data-rz-yamleditor]"):r=document.querySelectorAll("textarea[data-rz-yamleditor]");const c=r.length;if(c)for(let d=0;d<c;d++)this.yamlEditors.push(new m0(r[d],d))}resize(){}}const Bg="EXPLORER_REQUEST",kd="EXPLORER_SUCCESS",ld="EXPLORER_RESET",Yg="EXPLORER_FAILED",jg="EXPLORER_OPEN",Ed="EXPLORER_CLOSE",Xg="EXPLORER_LOAD_MORE",Gg="EXPLORER_LOAD_MORE_SUCCESS",qg="EXPLORER_IS_LOADED",zf="EXPLORER_UPDATE_SEARCH_TERMS",Kg="FILTER_EXPLORER_OPEN",Ug="FILTER_EXPLORER_CLOSE",Vg="FILTER_EXPLORER_REQUEST",Zg="FILTER_EXPLORER_SUCCESS",ud="FILTER_EXPLORER_FAILED",_d="FILTER_EXPLORER_UPDATE",Jg="FILTER_EXPLORER_RESET",cs="KEYBOARD_EVENT_ESCAPE",Qg="KEYBOARD_EVENT_SPACE",cd="LOGIN_CHECK_DISCONNECTED",tm="LOGIN_CHECK_CONNECTED",fd="HEALTH_CHECK_FAILED",em="HEALTH_CHECK_SUCCEEDED",nm="DRAWERS_ADD_INSTANCE",im="DRAWERS_REMOVE_INSTANCE",rm="DRAWERS_ADD_DOCUMENT",om="DRAWERS_REMOVE_DOCUMENT",am="DRAWERS_EDIT_INSTANCE",sm="DRAWERS_UPDATE_LIST",lm="DRAWERS_ENABLE_DROPZONE",um="DRAWERS_DISABLE_DROPZONE",cm="DRAWERS_INIT_DATA_REQUEST",hd="DRAWERS_INIT_DATA_REQUEST_SUCCESS",fm="DRAWERS_INIT_DATA_REQUEST_FAILED",hm="DRAWERS_INIT_DATA_REQUEST_EMPTY",dm="TAG_CREATE_NEW_REQUEST",pm="TAG_CREATE_NEW_REQUEST_SUCCESS",gm="TAG_CREATE_NEW_REQUEST_ERROR",mm="TAG_CREATOR_READY",vm="DOCUMENT_PREVIEW_INIT",bm="DOCUMENT_PREVIEW_DESTROY",ym="DOCUMENT_PREVIEW_OPEN",wm="DOCUMENT_PREVIEW_CLOSE",xm="BLANCHETTE_EDITOR_INIT",dd="BLANCHETTE_EDITOR_IS_LOADING",_f="BLANCHETTE_EDITOR_LOADED",Cm="BLANCHETTE_EDITOR_ERROR",km="BLANCHETTE_EDITOR_SAVE_SUCCESS";function y0(a){const e={_token:window.RozierConfig.ajaxToken,_action:"searchNodesSources",searchTerms:a};return fetch(window.RozierConfig.routes.searchAjax+"?"+new URLSearchParams(e),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async r=>{const c=await r.json();return typeof c.data<"u"&&c.data.length>0?c.data:[]}).catch(async r=>{throw new Error((await r.response.json()).humanMessage)})}const w0=Object.freeze(Object.defineProperty({__proto__:null,getNodesSourceFromSearch:y0},Symbol.toStringTag,{value:"Module"})),Wl="document",nc="node",Sd="node-type",Em="join",_m="explorer-provider",Sm="custom-form",Fl="tag",Tm="node-source-document";function x0({ids:a=[],filters:e={}}){const r={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds"};e&&e._locale&&(r._locale=e._locale);for(let c=0;c<a.length;c++)r["ids["+c+"]"]=a[c];return fetch(window.RozierConfig.routes.documentsAjaxByArray+"?"+new URLSearchParams(r),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async c=>{const d=await c.json();return typeof d<"u"&&d.documents?{items:d.documents,trans:d.trans}:null}).catch(async c=>{throw new Error((await c.response.json()).humanMessage)})}function C0({searchTerms:a,preFilters:e,filters:r,filterExplorerSelection:c,moreData:d}){const f={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:a,page:1};return e&&e._locale&&(f._locale=e._locale),r&&r._locale&&(f._locale=r._locale),c&&c.id&&(f.folderId=c.id),d&&(f.page=r?r.nextPage:1),fetch(window.RozierConfig.routes.documentsAjaxExplorer+"?"+new URLSearchParams(f),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async p=>{const g=await p.json();return typeof g<"u"&&g.documents?{items:g.documents,filters:g.filters,trans:g.trans}:{}}).catch(async p=>{throw new Error((await p.response.json()).humanMessage)})}function k0(a){return fetch(window.location.href,{method:"POST",body:a,headers:{Accept:"application/json"}})}function E0({ids:a=[],filters:e={}}){const r={_token:window.RozierConfig.ajaxToken,_action:"nodesByIds"};e&&e._locale&&(r._locale=e._locale);for(let c=0;c<a.length;c++)r["ids["+c+"]"]=a[c];return fetch(window.RozierConfig.routes.nodesAjaxByArray+"?"+new URLSearchParams(r),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async c=>{const d=await c.json();return typeof d<"u"&&d.items?{items:d.items}:null}).catch(async c=>{throw new Error((await c.response.json()).humanMessage)})}function _0({searchTerms:a,preFilters:e,filters:r,filterExplorerSelection:c,moreData:d}){const f={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:a,page:1};if(e&&e._locale&&(f._locale=e._locale),r&&r._locale&&(f._locale=r._locale),c&&c.id&&(f.tagId=c.id),e&&e.nodeTypes){const p=JSON.parse(e.nodeTypes);Array.isArray(p)&&p.length>0&&(f.nodeTypes=p)}return d&&(f.page=r?r.nextPage:1),fetch(window.RozierConfig.routes.nodesAjaxExplorer+"?"+new URLSearchParams(f),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async p=>{const g=await p.json();return typeof g<"u"&&g.nodes?{items:g.nodes,filters:g.filters}:{}}).catch(async p=>{throw new Error((await p.response.json()).humanMessage)})}function S0({ids:a=[]}){a=a.map(r=>r.trim());const e={_token:window.RozierConfig.ajaxToken,_action:"nodeTypesByIds"};for(let r=0;r<a.length;r++)e["names["+r+"]"]=a[r];return fetch(window.RozierConfig.routes.nodeTypesAjaxByArray+"?"+new URLSearchParams(e),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async r=>{const c=await r.json();return typeof c<"u"&&c.items?{items:c.items}:null}).catch(async r=>{throw new Error((await r.response.json()).humanMessage)})}function T0({searchTerms:a,filters:e,moreData:r}){const c={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:a,page:1};return r&&(c.page=e?e.nextPage:1),fetch(window.RozierConfig.routes.nodeTypesAjaxExplorer+"?"+new URLSearchParams(c),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async d=>{const f=await d.json();return typeof f<"u"&&f.nodeTypes?{items:f.nodeTypes,filters:f.filters}:{}}).catch(async d=>{throw new Error((await d.response.json()).humanMessage)})}function D0({ids:a=[],filters:e}){const r={_token:window.RozierConfig.ajaxToken,filters:e,nodeTypeFieldName:e.nodeTypeField,nodeTypeName:e.nodeTypeName};e&&e._locale&&(r._locale=e._locale);for(let c=0;c<a.length;c++)r["ids["+c+"]"]=a[c];return fetch(window.RozierConfig.routes.joinsAjaxByArray+"?"+new URLSearchParams(r),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async c=>{const d=await c.json();return typeof d<"u"&&d.items?{items:d.items}:null}).catch(async c=>{throw new Error((await c.response.json()).humanMessage)})}function A0({searchTerms:a,preFilters:e,filters:r,moreData:c}){const d={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",nodeTypeName:e.nodeTypeName,search:a,page:1};return e&&e._locale&&(d._locale=e._locale),r&&r._locale&&(d._locale=r._locale),e&&e.nodeTypeField&&(d.nodeTypeFieldName=e.nodeTypeField),c&&(d.page=r?r.nextPage:1),fetch(window.RozierConfig.routes.joinsAjaxExplorer+"?"+new URLSearchParams(d),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async f=>{const p=await f.json();return typeof p<"u"&&p.entities?{items:p.entities,filters:p.filters}:{}}).catch(async f=>{throw new Error((await f.response.json()).humanMessage)})}function L0({ids:a=[]}){const e={_token:window.RozierConfig.ajaxToken};for(let r=0;r<a.length;r++)e["ids["+r+"]"]=a[r];return fetch(window.RozierConfig.routes.customFormsAjaxByArray+"?"+new URLSearchParams(e),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async r=>({items:(await r.json()).forms})).catch(async r=>{throw new Error((await r.response.json()).humanMessage)})}function O0({searchTerms:a,filters:e,moreData:r}){const c={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:a,page:1};return r&&(c.page=e?e.nextPage:1),fetch(window.RozierConfig.routes.customFormsAjaxExplorer+"?"+new URLSearchParams(c),{method:"GET",headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async d=>{const f=await d.json();return typeof f<"u"&&f.customForms?{items:f.customForms,filters:f.filters}:{}}).catch(async d=>{throw new Error((await d.response.json()).humanMessage)})}function Dm({searchTerms:a,preFilters:e,filters:r,filterExplorerSelection:c,moreData:d}){const f={_token:window.RozierConfig.ajaxToken,_action:"getTags",search:a,page:1};return e&&e._locale&&(f._locale=e._locale),r&&r._locale&&(f._locale=r._locale),d&&(f.page=r?r.nextPage:1),c&&c.id&&(f.tagId=c.id),fetch(window.RozierConfig.routes.tagsAjaxExplorerList+"?"+new URLSearchParams(f),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async p=>{const g=await p.json();if(typeof g<"u"&&g.tags)return{items:g.tags,filters:g.filters};throw new Error("No tags found")}).catch(async p=>{throw new Error((await p.response.json()).humanMessage)})}function Am({ids:a=[],filters:e={}}){const r={_token:window.RozierConfig.ajaxToken,_action:"documentsByIds"};e&&e._locale&&(r._locale=e._locale);for(let c=0;c<a.length;c++)r["ids["+c+"]"]=a[c];return fetch(window.RozierConfig.routes.tagsAjaxByArray+"?"+new URLSearchParams(r),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async c=>{const d=await c.json();return typeof d<"u"&&d.tags?{items:d.tags}:{}}).catch(async c=>{throw new Error((await c.response.json()).humanMessage)})}function Lm({tagName:a}){const e={csrfToken:window.RozierConfig.ajaxToken,tagName:a};return fetch(window.RozierConfig.routes.tagsAjaxCreate,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams(e)}).then(async r=>{const c=await r.json();if(typeof c<"u"&&c.tag)return c.tag;throw new Error("Tag creation error")}).catch(async r=>{throw new Error((await r.response.json()).humanMessage)})}const M0=Object.freeze(Object.defineProperty({__proto__:null,createTag:Lm,getTags:Dm,getTagsByIds:Am},Symbol.toStringTag,{value:"Module"}));function Om({ids:a=[],filters:e}){const r={_token:window.RozierConfig.ajaxToken,providerClass:e.providerClass};e&&e._locale&&(r._locale=e._locale);for(let c=0;c<a.length;c++)r["ids["+c+"]"]=a[c];return fetch(window.RozierConfig.routes.providerAjaxByArray+"?"+new URLSearchParams(r),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async c=>{const d=await c.json();return typeof d<"u"&&d.items?{items:d.items}:null}).catch(async c=>{throw new Error((await c.response.json()).humanMessage)})}function Mm({searchTerms:a,preFilters:e,filters:r,moreData:c}){const d={_token:window.RozierConfig.ajaxToken,_action:"toggleExplorer",search:a,page:1};return e&&e._locale&&(d._locale=e._locale),r&&r._locale&&(d._locale=r._locale),e&&e.providerClass&&(d.providerClass=e.providerClass),e&&e.providerOptions&&(d.options=e.providerOptions),c&&(d.page=r?r.nextPage:1),fetch(window.RozierConfig.routes.providerAjaxExplorer+"?"+new URLSearchParams(d),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async f=>{const p=await f.json();return typeof p<"u"&&p.entities?{items:p.entities,filters:p.filters}:{}}).catch(async f=>{throw new Error((await f.response.json()).humanMessage)})}const R0=Object.freeze(Object.defineProperty({__proto__:null,getItems:Mm,getItemsByIds:Om},Symbol.toStringTag,{value:"Module"}));function P0({entity:a,searchTerms:e,preFilters:r,filters:c,filterExplorerSelection:d,moreData:f=!1}){switch(a){case Wl:return C0({searchTerms:e,preFilters:r,filters:c,filterExplorerSelection:d,moreData:f});case nc:return _0({searchTerms:e,preFilters:r,filters:c,filterExplorerSelection:d,moreData:f});case Sd:return T0({searchTerms:e,filters:c,moreData:f});case Em:return A0({searchTerms:e,preFilters:r,filters:c,moreData:f});case Sm:return O0({searchTerms:e,filters:c,moreData:f});case Fl:return Dm({searchTerms:e,preFilters:r,filters:c,filterExplorerSelection:d,moreData:f});case _m:return Mm({searchTerms:e,preFilters:r,filters:c,moreData:f})}return Promise.reject(new Error("No type entity found"))}const N0=Object.freeze(Object.defineProperty({__proto__:null,getExplorerItems:P0},Symbol.toStringTag,{value:"Module"}));function $0(){const a={_token:window.RozierConfig.ajaxToken,_action:"foldersExplorer"};return fetch(window.RozierConfig.routes.foldersAjaxExplorer+"?"+new URLSearchParams(a),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async e=>{const r=await e.json();return typeof r<"u"&&r.folders?{items:r.folders}:{}}).catch(async e=>{throw new Error((await e.response.json()).humanMessage)})}function I0(){const a={_token:window.RozierConfig.ajaxToken,_action:"tagsExplorer"};return fetch(window.RozierConfig.routes.tagsAjaxExplorer+"?"+new URLSearchParams(a),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async e=>{const r=await e.json();return typeof r<"u"&&r.tags?{items:r.tags}:{}}).catch(async e=>{throw new Error((await e.response.json()).humanMessage)})}function z0(){const a={_token:window.RozierConfig.ajaxToken,_action:"tagsExplorer",onlyParents:!0};return fetch(window.RozierConfig.routes.tagsAjaxExplorer+"?"+new URLSearchParams(a),{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async e=>{const r=await e.json();return typeof r<"u"&&r.tags?{items:r.tags}:{}}).catch(async e=>{throw new Error((await e.response.json()).humanMessage)})}function W0({entity:a}){switch(a){case Wl:return $0();case nc:return I0();case Fl:return z0();default:return Promise.reject(new Error("Entity not found"))}}const F0=Object.freeze(Object.defineProperty({__proto__:null,getFilters:W0},Symbol.toStringTag,{value:"Module"}));function Rm(a,e=[],r){switch(a){case Wl:return x0({ids:e,filters:r});case nc:return E0({ids:e,filters:r});case Sd:return S0({ids:e});case Em:return D0({ids:e,filters:r});case Sm:return L0({ids:e});case Fl:return Am({ids:e,filters:r});case _m:return Om({ids:e,filters:r})}return Promise.reject(new Error("No type entity found"))}const H0=Object.freeze(Object.defineProperty({__proto__:null,getItemsByIds:Rm},Symbol.toStringTag,{value:"Module"}));function Pm(){return fetch(window.RozierConfig.routes.splashRequest,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(async a=>(await a.json()).url).catch(()=>{throw new Error("Image not found")})}const B0=Object.freeze(Object.defineProperty({__proto__:null,getImage:Pm},Symbol.toStringTag,{value:"Module"})),Nm={...w0,...N0,...F0,...H0,...M0,...B0,...R0};function Sf(a,e,r=0,c="[]"){if(a&&a.length&&a.length>e+c.length){let d=a.substr(0,Math.floor(e/2)+Math.floor(r/2)),f=a.substr(Math.floor(e/2)*-1+Math.floor(r/2));return d+c+f}else return a}function Y0(a,e,r=0,c=""){return a&&a.length&&a.length>e?a.substr(0,e+r)+c:a}const j0={centralTruncate:Sf,truncate:Y0};function Ui(a,e,r,c,d,f,p,g){var b=typeof a=="function"?a.options:a;return e&&(b.render=e,b.staticRenderFns=r,b._compiled=!0),f&&(b._scopeId="data-v-"+f),{exports:a,options:b}}const X0={props:["title","href","typeColor"],methods:{onItemClick:function(a){window.Rozier.lazyload.onClick(a),this.$store.commit(cs)}}};var G0=function(){var e=this,r=e._self._c;return r("a",{style:{borderLeftColor:e.typeColor},attrs:{href:e.href},on:{click:function(c){return c.preventDefault(),e.onItemClick.apply(null,arguments)}}},[e._t("default",function(){return[e._v(e._s(e.title))]})],2)},q0=[],K0=Ui(X0,G0,q0,!1,null,null);const $m=K0.exports,Im={bind(a,e){let r=new Image;r.src=e.value,r.onload=async()=>{a.src=e.value,await Hg(a,1e3)}}},U0={directives:{DynamicImg:Im},filters:j0,props:["item","isItemExplorer","drawerName","index","removeItem","addItem","entityName"],computed:{...Jo({previewIsVisible:a=>a.documentPreview.isVisible}),shortMimeType:function(){return Sf(this.document.shortMimeType,13)},filename:function(){return Sf(this.document.classname,12)},name:function(){return Sf(this.document.displayable,12)},editUrl:function(){return this.document.editItem+this.getReferer()},document:function(){return this.item.document?this.item.document:this.item},hotspot:function(){return this.item.hotspot?this.item.hotspot:null},imageCropAlignment:function(){return this.item.imageCropAlignment?this.item.imageCropAlignment:null}},methods:{...us(["documentPreviewInit","documentPreviewOpen","documentPreviewDestroy"]),onAddItemButtonClick(){this.isItemExplorer&&this.addItem(this.item)},onRemoveItemButtonClick(){this.removeItem(this.item)},getReferer(){return"?referer="+window.location.pathname},onPreviewClick(){this.documentPreviewOpen({document:this.document})},onEditClick(a){this.document.processable&&this.$emit("edit",{document:this.document,index:this.index,currentTarget:a.currentTarget})},onMouseover(){this.documentPreviewInit({document:this.item.document})},onMouseleave(){this.previewIsVisible||this.documentPreviewDestroy({document:this.item.document})}},components:{AjaxLink:$m}};var V0=function(){var e=this,r=e._self._c;return e.document?r("li",{staticClass:"rz-card",attrs:{title:e.document.classname},on:{click:function(c){return c.preventDefault(),e.onAddItemButtonClick.apply(null,arguments)}}},[r("div",{staticClass:"rz-card__asset"},[e.document.isPrivate?[e._m(0)]:e.document.isPdf?[e._m(1)]:[e.drawerName&&e.entityName?[r("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][document]"},domProps:{value:e.document.id}}),r("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][hotspot]"},domProps:{value:JSON.stringify(e.hotspot)}}),r("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"][imageCropAlignment]"},domProps:{value:e.imageCropAlignment}})]:e.drawerName?[r("input",{attrs:{type:"hidden",name:e.drawerName+"["+e.index+"]"},domProps:{value:e.document.id}})]:e._e(),r("img",{staticClass:"rz-card__img",attrs:{src:e.document.thumbnail80,alt:e.name||"Thumbnail",width:"110",height:"94"}})]],2),e.isItemExplorer?e._e():r("div",{staticClass:"rz-button-group rz-button-group--sm rz-button-group--gap-sm rz-card__action"},[r("button",{staticClass:"rz-button rz-button--primary",attrs:{id:`edit-${e.drawerName}[${e.index}]`,type:"button"},on:{click:e.onEditClick}},[r("span",{staticClass:"rz-button__icon rz-icon-ri--equalizer-3-line"})]),r("button",{staticClass:"rz-button rz-button--tertiary rz-button--danger",attrs:{type:"button"},on:{click:function(c){return c.preventDefault(),e.onRemoveItemButtonClick()}}},[r("span",{staticClass:"rz-button__icon rz-icon-ri--delete-bin-7-line"})])]),e.isItemExplorer?r("button",{staticClass:"rz-card__action rz-card__action--top rz-button rz-button--primary"},[r("span",{staticClass:"rz-button__icon rz-icon-ri--add-large-line"})]):r("div",{staticClass:"rz-button-group rz-button-group--sm rz-button-group--gap-sm rz-card__action rz-card__action--top"},[r("button",{staticClass:"rz-button rz-button--primary",on:{click:function(c){return c.preventDefault(),e.onPreviewClick.apply(null,arguments)}}},[r("span",{staticClass:"rz-button__icon rz-icon-ri--zoom-in-line"})])])]):e._e()},Z0=[function(){var a=this,e=a._self._c;return e("div",{staticClass:"rz-badge rz-badge--md rz-card__badge"},[e("span",{staticClass:"rz-badge__icon rz-icon-ri--lock-2-line"})])},function(){var a=this,e=a._self._c;return e("div",{staticClass:"rz-badge rz-badge--md rz-card__badge"},[e("span",{staticClass:"rz-badge__icon rz-icon-ri--file-pdf-2-line"})])}],J0=Ui(U0,V0,Z0,!1,null,null);const Tp=J0.exports,Q0={props:{item:{type:Object},editItem:{type:String},isItemExplorer:{type:Boolean},drawerName:{type:String},index:{type:Number},removeItem:{type:Function},addItem:{type:Function},parentName:{type:String},subParentName:{type:String},name:{type:String},entityName:{type:String}},computed:{published:function(){return this.item.published},color:function(){return this.item.nodeType&&this.item.nodeType.color?this.item.nodeType.color:this.item.color?this.item.color:null},inputName(){if(this.drawerName)return this.drawerName+"["+this.index+"]"},editItemUrl(){return this.editItem?this.editItem+this.referer:this.item.editItem?this.item.editItem+this.referer:null},referer:function(){return"?referer="+window.location.pathname},thumbnailUrl:function(){return this.item.thumbnail&&this.item.thumbnail.url?this.item.thumbnail.url:this.item.thumbnail&&this.item.thumbnail.publicUrl?this.item.thumbnail.publicUrl:typeof this.item.thumbnail=="string"?this.item.thumbnail:null},isThumbnailProcessable:function(){return this.item.thumbnail&&this.item.thumbnail.processable?this.item.thumbnail.processable:!1}},methods:{onAddItemButtonClick:function(){this.isItemExplorer&&this.addItem(this.item)},onRemoveItemButtonClick:function(){this.removeItem(this.item)}},components:{AjaxLink:$m}};var tx=function(){var e=this,r=e._self._c;return r("li",{staticClass:"rz-card",on:{click:function(c){return c.preventDefault(),e.onAddItemButtonClick.apply(null,arguments)}}},[e.inputName&&e.item&&e.item.id?r("input",{attrs:{type:"hidden",name:e.inputName},domProps:{value:e.item.id}}):e._e(),e.parentName||e.subParentName?r("div",{staticClass:"rz-card__overtitle"},[e._v(" "+e._s(e.subParentName?e.subParentName:e.parentName)+" ")]):e._e(),e.name?r("div",{staticClass:"rz-card__title"},[e._v(e._s(e.name))]):e._e(),e.thumbnailUrl?r("div",{staticClass:"rz-card__asset"},[r("picture",{staticClass:"rz-card__img"},[e.isThumbnailProcessable&&!e.thumbnailUrl.endsWith(".webp")?r("source",{attrs:{srcset:e.thumbnailUrl+".webp",type:"image/webp"}}):e._e(),r("img",{attrs:{src:e.thumbnailUrl,alt:e.name||"Thumbnail",width:"110",height:"94"}})])]):e._e(),e.isItemExplorer?r("button",{staticClass:"rz-card__action rz-card__action--top rz-button rz-button--primary rz-button-group__button"},[r("span",{staticClass:"rz-button__icon rz-icon-ri--add-large-line"})]):r("div",{staticClass:"rz-button-group rz-button-group--sm rz-button-group--gap-sm rz-card__action"},[e.editItemUrl?r("ajax-link",{staticClass:"rz-button rz-button--primary rz-button-group__button",attrs:{href:e.editItemUrl}},[r("span",{staticClass:"rz-button__icon rz-icon-ri--equalizer-3-line"})]):e._e(),r("button",{staticClass:"rz-button rz-button--tertiary rz-button--danger rz-button-group__button",attrs:{type:"button"},on:{click:function(c){return c.preventDefault(),e.onRemoveItemButtonClick()}}},[r("span",{staticClass:"rz-button__icon rz-icon-ri--delete-bin-7-line"})])],1)])},ex=[],nx=Ui(Q0,tx,ex,!1,null,null);const ix=nx.exports,rx={props:["item","trans","isItemExplorer","drawerName","index","removeItem","addItem"],components:{DrawerItem:ix}};var ox=function(){var e=this,r=e._self._c;return r("drawer-item",{attrs:{item:e.item,index:e.index,"drawer-name":e.drawerName,"is-item-explorer":e.isItemExplorer,"parent-name":e.item.classname,name:e.item.displayable,"add-item":e.addItem,"remove-item":e.removeItem}})},ax=[],sx=Ui(rx,ox,ax,!1,null,null);const Dp=sx.exports,lx={props:{tagName:{required:!0,type:String},createTag:{required:!0,type:Function}},methods:{tagCreatorItemClick(){this.createTag({tagName:this.tagName})}}};var ux=function(){var e=this,r=e._self._c;return r("div",{staticClass:"new-tag-container",on:{click:e.tagCreatorItemClick}},[e._m(0),r("div",{staticClass:"new-tag"},[r("p",{staticClass:"parent-name"}),r("span",{staticClass:"name"},[e._v(e._s(e.tagName))])])])},cx=[function(){var a=this,e=a._self._c;return e("div",{staticClass:"button"},[e("i",{staticClass:"uk-icon-plus"})])}],fx=Ui(lx,ux,cx,!1,null,"2b081330");const hx=fx.exports,dx={mounted(){this.tagCreatorReady()},computed:{...Jo({translations:a=>a.translations,searchTerms:a=>a.explorer.searchTerms,isTagExisting:a=>a.tags.isTagExisting})},methods:{...us(["tagsCreate","tagCreatorReady"])},components:{TagCreatorItem:hx}};var px=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[!e.isTagExisting&&e.searchTerms?r("div",{staticClass:"tag-creator"},[r("div",{staticClass:"infos"},[e._v(e._s(e.translations.createTag))]),r("tag-creator-item",{attrs:{"create-tag":e.tagsCreate,"tag-name":e.searchTerms}})],1):e._e()])},gx=[],mx=Ui(dx,px,gx,!1,null,"5ab915fa");const vx=mx.exports;class pd{static getState(e){const r={trans:{moreItems:""}};switch(r.isFilterEnable=!1,r.currentListingView=Dp,r.trans.moreItems="moreEntities",e){case Wl:r.currentListingView=Tp,r.filterExplorerIcon="rz-icon-ri--folders-line",r.trans.moreItems="moreDocuments",r.isFilterEnable=!0;break;case nc:r.filterExplorerIcon="rz-icon-ri--price-tag-3-line",r.trans.moreItems="moreNodes",r.isFilterEnable=!0;break;case Sd:r.trans.moreItems="moreNodeTypes";break;case Fl:r.trans.moreItems="moreTags",r.isFilterEnable=!0,r.filterExplorerIcon="rz-icon-ri--price-tag-3-line";break;default:r.trans.moreItems="moreEntities";break}return r}static getListingView(e){switch(e){case Wl:return Tp;default:return Dp}}static getWidgetView(e){switch(e){case Fl:return vx;default:return null}}}const zm={searchTerms:"",isOpen:!1,isLoading:!1,isLoadingMore:!1,items:[],trans:{moreItems:""},filters:{},entity:null,preFilters:null,error:"",currentListingView:null,isFilterEnable:null,filterExplorerIcon:"uk-icon-cog",widgetView:null},Wm={...zm},bx={getExplorerEntity:a=>a.entity,getExplorerSearchTerms:a=>a.searchTerms},yx={async explorerOpen({commit:a,dispatch:e},{entity:r,preFilters:c=null}){e("filterExplorerClose"),a(ld),a(jg,{entity:r,preFilters:c}),await e("explorerMakeSearch"),a(qg)},explorerClose({commit:a,dispatch:e}){e("filterExplorerClose"),e("filterExplorerReset"),a(ld),a(Ed)},explorerToggle({dispatch:a,state:e}){e.isOpen?a("explorerClose"):a("explorerOpen")},explorerResetSearchTerms({commit:a,state:e,dispatch:r}){e.searchTerms===""?a(zf,{searchTerms:""}):r("explorerUpdateSearch",{searchTerms:""})},explorerUpdateSearch({commit:a,dispatch:e},{searchTerms:r}){a(zf,{searchTerms:r}),e("explorerMakeSearch")},explorerMakeSearch({commit:a,state:e,getters:r}){const c=e.entity,d=e.searchTerms,f=r.getDrawerFilters||e.preFilters||null,p=e.filters.value||{},g=r.getFilterExplorerSelectedItem,b=e.isLoadingMore;return a(Bg),Nm.getExplorerItems({entity:c,searchTerms:d,preFilters:f,filters:p,filterExplorerSelection:g,moreData:b}).then(C=>{a(kd,{result:C})}).catch(C=>{console.error(C),a(Yg,{error:C})})},async explorerLoadMore({commit:a,dispatch:e}){a(Xg),await e("explorerMakeSearch"),a(Gg)}},wx={[Bg](a){a.isLoadingMore||(a.isLoading=!0)},[zf](a,{searchTerms:e}){a.searchTerms=e},[kd](a,{result:e}){a.isLoading=!1,a.isLoadingMore?a.items=[...a.items,...e.items]:a.items=e.items,a.filters=e.filters},[Xg](a){a.isLoadingMore=!0},[Gg](a){a.isLoadingMore=!1},[_d](a){a.filters={}},[ld](a){for(let e in a)Object.prototype.hasOwnProperty.call(a,e)&&qs.set(a,e,zm[e])},[Yg](a){a.isLoading=!1,a.isLoadingMore=!1,a.error="Request failed"},[jg](a,{entity:e,preFilters:r}){a.isOpen=!0,a.isLoading=!0,a.entity=e,a.preFilters=r,a.trans.moreItems="",a.widgetView=pd.getWidgetView(e);const c=pd.getState(e);for(let d in c)Object.prototype.hasOwnProperty.call(a,d)&&qs.set(a,d,c[d])},[qg](a){a.isLoading=!1},[Ed](a){a.isOpen=!1,a.isLoading=!1},[cs](){Wm.isOpen=!1}},xx={state:Wm,getters:bx,actions:yx,mutations:wx};var Gu={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Cx=Gu.exports,Ap;function kx(){return Ap||(Ap=1,(function(a,e){(function(){var r,c="4.17.21",d=200,f="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",p="Expected a function",g="Invalid `variable` option passed into `_.template`",b="__lodash_hash_undefined__",C=500,x="__lodash_placeholder__",S=1,O=2,F=4,A=1,I=2,N=1,Y=2,H=4,K=8,J=16,U=32,nt=64,gt=128,mt=256,pt=512,ct=30,ht="...",It=800,it=16,Tt=1,M=2,xt=3,vt=1/0,Kt=9007199254740991,ie=17976931348623157e292,oe=NaN,Ct=4294967295,yt=Ct-1,kt=Ct>>>1,Ut=[["ary",gt],["bind",N],["bindKey",Y],["curry",K],["curryRight",J],["flip",pt],["partial",U],["partialRight",nt],["rearg",mt]],Qt="[object Arguments]",j="[object Array]",et="[object AsyncFunction]",st="[object Boolean]",At="[object Date]",Ht="[object DOMException]",zt="[object Error]",ce="[object Function]",Oe="[object GeneratorFunction]",me="[object Map]",we="[object Number]",fe="[object Null]",ke="[object Object]",Ie="[object Promise]",rn="[object Proxy]",le="[object RegExp]",Ee="[object Set]",ft="[object String]",Bt="[object Symbol]",_t="[object Undefined]",Se="[object WeakMap]",Fn="[object WeakSet]",Xn="[object ArrayBuffer]",Wi="[object DataView]",Un="[object Float32Array]",en="[object Float64Array]",ai="[object Int8Array]",Tn="[object Int16Array]",Li="[object Int32Array]",Ln="[object Uint8Array]",he="[object Uint8ClampedArray]",ar="[object Uint16Array]",Me="[object Uint32Array]",Oi=/\b__p \+= '';/g,ge=/\b(__p \+=) '' \+/g,Hn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ue=/&(?:amp|lt|gt|quot|#39);/g,dn=/[&<>"']/g,ze=RegExp(Ue.source),Be=RegExp(dn.source),$t=/<%-([\s\S]+?)%>/g,Et=/<%([\s\S]+?)%>/g,Yt=/<%=([\s\S]+?)%>/g,Ce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,se=/^\w*$/,We=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ue=/[\\^$.*+?()[\]{}|]/g,_e=RegExp(ue.source),on=/^\s+/,mi=/\s/,si=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,En=/\{\n\/\* \[wrapped with (.+)\] \*/,Te=/,? & /,Xe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,an=/[()=,{}\[\]\/\s]/,Nn=/\\(\\)?/g,bn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,tn=/\w*$/,vi=/^[-+]0x[0-9a-f]+$/i,Mi=/^0b[01]+$/i,bi=/^\[object .+?Constructor\]$/,Ar=/^0o[0-7]+$/i,Lr=/^(?:0|[1-9]\d*)$/,sr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yi=/($^)/,Kr=/['\n\r\u2028\u2029\\]/g,li="\\ud800-\\udfff",Ur="\\u0300-\\u036f",Fi="\\ufe20-\\ufe2f",On="\\u20d0-\\u20ff",de=Ur+Fi+On,Vi="\\u2700-\\u27bf",vr="a-z\\xdf-\\xf6\\xf8-\\xff",Hi="\\xac\\xb1\\xd7\\xf7",P="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",V="\\u2000-\\u206f",Dt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",jt="A-Z\\xc0-\\xd6\\xd8-\\xde",bt="\\ufe0e\\ufe0f",Zt=Hi+P+V+Dt,Ge="[']",Rn="["+li+"]",Vn="["+Zt+"]",Zn="["+de+"]",Lo="\\d+",De="["+Vi+"]",Q="["+vr+"]",m="[^"+li+Zt+Lo+Vi+vr+jt+"]",w="\\ud83c[\\udffb-\\udfff]",E="(?:"+Zn+"|"+w+")",z="[^"+li+"]",W="(?:\\ud83c[\\udde6-\\uddff]){2}",q="[\\ud800-\\udbff][\\udc00-\\udfff]",at="["+jt+"]",Mt="\\u200d",Pt="(?:"+Q+"|"+m+")",Lt="(?:"+at+"|"+m+")",Ot="(?:"+Ge+"(?:d|ll|m|re|s|t|ve))?",qt="(?:"+Ge+"(?:D|LL|M|RE|S|T|VE))?",Ve=E+"?",Ze="["+bt+"]?",Mn="(?:"+Mt+"(?:"+[z,W,q].join("|")+")"+Ze+Ve+")*",pn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_n="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Jn=Ze+Ve+Mn,Gn="(?:"+[De,W,q].join("|")+")"+Jn,tr="(?:"+[z+Zn+"?",Zn,W,q,Rn].join("|")+")",wi=RegExp(Ge,"g"),te=RegExp(Zn,"g"),un=RegExp(w+"(?="+w+")|"+tr+Jn,"g"),Qn=RegExp([at+"?"+Q+"+"+Ot+"(?="+[Vn,at,"$"].join("|")+")",Lt+"+"+qt+"(?="+[Vn,at+Pt,"$"].join("|")+")",at+"?"+Pt+"+"+Ot,at+"+"+qt,_n,pn,Lo,Gn].join("|"),"g"),er=RegExp("["+Mt+li+de+bt+"]"),lr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Vr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ho=-1,sn={};sn[Un]=sn[en]=sn[ai]=sn[Tn]=sn[Li]=sn[Ln]=sn[he]=sn[ar]=sn[Me]=!0,sn[Qt]=sn[j]=sn[Xn]=sn[st]=sn[Wi]=sn[At]=sn[zt]=sn[ce]=sn[me]=sn[we]=sn[ke]=sn[le]=sn[Ee]=sn[ft]=sn[Se]=!1;var Je={};Je[Qt]=Je[j]=Je[Xn]=Je[Wi]=Je[st]=Je[At]=Je[Un]=Je[en]=Je[ai]=Je[Tn]=Je[Li]=Je[me]=Je[we]=Je[ke]=Je[le]=Je[Ee]=Je[ft]=Je[Bt]=Je[Ln]=Je[he]=Je[ar]=Je[Me]=!0,Je[zt]=Je[ce]=Je[Se]=!1;var xi={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},br={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Oo={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},_a={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Sa=parseFloat,Qo=parseInt,hs=typeof pf=="object"&&pf&&pf.Object===Object&&pf,ds=typeof self=="object"&&self&&self.Object===Object&&self,Cn=hs||ds||Function("return this")(),ps=e&&!e.nodeType&&e,po=ps&&!0&&a&&!a.nodeType&&a,Zs=po&&po.exports===ps,Js=Zs&&hs.process,Ci=(function(){try{var ut=po&&po.require&&po.require("util").types;return ut||Js&&Js.binding&&Js.binding("util")}catch{}})(),Qs=Ci&&Ci.isArrayBuffer,Zr=Ci&&Ci.isDate,gs=Ci&&Ci.isMap,tl=Ci&&Ci.isRegExp,ta=Ci&&Ci.isSet,oc=Ci&&Ci.isTypedArray;function ur(ut,Rt,wt){switch(wt.length){case 0:return ut.call(Rt);case 1:return ut.call(Rt,wt[0]);case 2:return ut.call(Rt,wt[0],wt[1]);case 3:return ut.call(Rt,wt[0],wt[1],wt[2])}return ut.apply(Rt,wt)}function Jf(ut,Rt,wt,pe){for(var $e=-1,gn=ut==null?0:ut.length;++$e<gn;){var ui=ut[$e];Rt(pe,ui,wt(ui),ut)}return pe}function yr(ut,Rt){for(var wt=-1,pe=ut==null?0:ut.length;++wt<pe&&Rt(ut[wt],wt,ut)!==!1;);return ut}function ac(ut,Rt){for(var wt=ut==null?0:ut.length;wt--&&Rt(ut[wt],wt,ut)!==!1;);return ut}function Xl(ut,Rt){for(var wt=-1,pe=ut==null?0:ut.length;++wt<pe;)if(!Rt(ut[wt],wt,ut))return!1;return!0}function Mo(ut,Rt){for(var wt=-1,pe=ut==null?0:ut.length,$e=0,gn=[];++wt<pe;){var ui=ut[wt];Rt(ui,wt,ut)&&(gn[$e++]=ui)}return gn}function el(ut,Rt){var wt=ut==null?0:ut.length;return!!wt&&In(ut,Rt,0)>-1}function Gl(ut,Rt,wt){for(var pe=-1,$e=ut==null?0:ut.length;++pe<$e;)if(wt(Rt,ut[pe]))return!0;return!1}function $n(ut,Rt){for(var wt=-1,pe=ut==null?0:ut.length,$e=Array(pe);++wt<pe;)$e[wt]=Rt(ut[wt],wt,ut);return $e}function go(ut,Rt){for(var wt=-1,pe=Rt.length,$e=ut.length;++wt<pe;)ut[$e+wt]=Rt[wt];return ut}function ql(ut,Rt,wt,pe){var $e=-1,gn=ut==null?0:ut.length;for(pe&&gn&&(wt=ut[++$e]);++$e<gn;)wt=Rt(wt,ut[$e],$e,ut);return wt}function sc(ut,Rt,wt,pe){var $e=ut==null?0:ut.length;for(pe&&$e&&(wt=ut[--$e]);$e--;)wt=Rt(wt,ut[$e],$e,ut);return wt}function Ta(ut,Rt){for(var wt=-1,pe=ut==null?0:ut.length;++wt<pe;)if(Rt(ut[wt],wt,ut))return!0;return!1}var Da=Ul("length");function Qf(ut){return ut.split("")}function th(ut){return ut.match(Xe)||[]}function lc(ut,Rt,wt){var pe;return wt(ut,function($e,gn,ui){if(Rt($e,gn,ui))return pe=gn,!1}),pe}function Ro(ut,Rt,wt,pe){for(var $e=ut.length,gn=wt+(pe?1:-1);pe?gn--:++gn<$e;)if(Rt(ut[gn],gn,ut))return gn;return-1}function In(ut,Rt,wt){return Rt===Rt?dc(ut,Rt,wt):Ro(ut,Kl,wt)}function eh(ut,Rt,wt,pe){for(var $e=wt-1,gn=ut.length;++$e<gn;)if(pe(ut[$e],Rt))return $e;return-1}function Kl(ut){return ut!==ut}function Aa(ut,Rt){var wt=ut==null?0:ut.length;return wt?il(ut,Rt)/wt:oe}function Ul(ut){return function(Rt){return Rt==null?r:Rt[ut]}}function nl(ut){return function(Rt){return ut==null?r:ut[Rt]}}function uc(ut,Rt,wt,pe,$e){return $e(ut,function(gn,ui,Dn){wt=pe?(pe=!1,gn):Rt(wt,gn,ui,Dn)}),wt}function Vl(ut,Rt){var wt=ut.length;for(ut.sort(Rt);wt--;)ut[wt]=ut[wt].value;return ut}function il(ut,Rt){for(var wt,pe=-1,$e=ut.length;++pe<$e;){var gn=Rt(ut[pe]);gn!==r&&(wt=wt===r?gn:wt+gn)}return wt}function Zl(ut,Rt){for(var wt=-1,pe=Array(ut);++wt<ut;)pe[wt]=Rt(wt);return pe}function nh(ut,Rt){return $n(Rt,function(wt){return[wt,ut[wt]]})}function Jl(ut){return ut&&ut.slice(0,nu(ut)+1).replace(on,"")}function nr(ut){return function(Rt){return ut(Rt)}}function Ql(ut,Rt){return $n(Rt,function(wt){return ut[wt]})}function mo(ut,Rt){return ut.has(Rt)}function Jr(ut,Rt){for(var wt=-1,pe=ut.length;++wt<pe&&In(Rt,ut[wt],0)>-1;);return wt}function ms(ut,Rt){for(var wt=ut.length;wt--&&In(Rt,ut[wt],0)>-1;);return wt}function tu(ut,Rt){for(var wt=ut.length,pe=0;wt--;)ut[wt]===Rt&&++pe;return pe}var cc=nl(xi),Qr=nl(br);function ea(ut){return"\\"+_a[ut]}function eu(ut,Rt){return ut==null?r:ut[Rt]}function La(ut){return er.test(ut)}function fc(ut){return lr.test(ut)}function ih(ut){for(var Rt,wt=[];!(Rt=ut.next()).done;)wt.push(Rt.value);return wt}function rl(ut){var Rt=-1,wt=Array(ut.size);return ut.forEach(function(pe,$e){wt[++Rt]=[$e,pe]}),wt}function ol(ut,Rt){return function(wt){return ut(Rt(wt))}}function cr(ut,Rt){for(var wt=-1,pe=ut.length,$e=0,gn=[];++wt<pe;){var ui=ut[wt];(ui===Rt||ui===x)&&(ut[wt]=x,gn[$e++]=wt)}return gn}function fr(ut){var Rt=-1,wt=Array(ut.size);return ut.forEach(function(pe){wt[++Rt]=pe}),wt}function hc(ut){var Rt=-1,wt=Array(ut.size);return ut.forEach(function(pe){wt[++Rt]=[pe,pe]}),wt}function dc(ut,Rt,wt){for(var pe=wt-1,$e=ut.length;++pe<$e;)if(ut[pe]===Rt)return pe;return-1}function rh(ut,Rt,wt){for(var pe=wt+1;pe--;)if(ut[pe]===Rt)return pe;return pe}function Oa(ut){return La(ut)?vs(ut):Da(ut)}function Or(ut){return La(ut)?gc(ut):Qf(ut)}function nu(ut){for(var Rt=ut.length;Rt--&&mi.test(ut.charAt(Rt)););return Rt}var pc=nl(Oo);function vs(ut){for(var Rt=un.lastIndex=0;un.test(ut);)++Rt;return Rt}function gc(ut){return ut.match(un)||[]}function mc(ut){return ut.match(Qn)||[]}var iu=(function ut(Rt){Rt=Rt==null?Cn:vo.defaults(Cn.Object(),Rt,vo.pick(Cn,Vr));var wt=Rt.Array,pe=Rt.Date,$e=Rt.Error,gn=Rt.Function,ui=Rt.Math,Dn=Rt.Object,bs=Rt.RegExp,oh=Rt.String,wr=Rt.TypeError,al=wt.prototype,na=gn.prototype,Mr=Dn.prototype,bo=Rt["__core-js_shared__"],Ma=na.toString,xn=Mr.hasOwnProperty,vc=0,sl=(function(){var o=/[^.]+$/.exec(bo&&bo.keys&&bo.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""})(),to=Mr.toString,ia=Ma.call(Dn),Zi=Cn._,Po=bs("^"+Ma.call(xn).replace(ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rr=Zs?Rt.Buffer:r,Pr=Rt.Symbol,ll=Rt.Uint8Array,ru=Rr?Rr.allocUnsafe:r,No=ol(Dn.getPrototypeOf,Dn),ou=Dn.create,ul=Mr.propertyIsEnumerable,ra=al.splice,bc=Pr?Pr.isConcatSpreadable:r,oa=Pr?Pr.iterator:r,$o=Pr?Pr.toStringTag:r,Ra=(function(){try{var o=Xo(Dn,"defineProperty");return o({},"",{}),o}catch{}})(),au=Rt.clearTimeout!==Cn.clearTimeout&&Rt.clearTimeout,Pa=pe&&pe.now!==Cn.Date.now&&pe.now,cl=Rt.setTimeout!==Cn.setTimeout&&Rt.setTimeout,ys=ui.ceil,aa=ui.floor,su=Dn.getOwnPropertySymbols,ah=Rr?Rr.isBuffer:r,yc=Rt.isFinite,lu=al.join,uu=ol(Dn.keys,Dn),zn=ui.max,ci=ui.min,sh=pe.now,fl=Rt.parseInt,cu=ui.random,ws=al.reverse,hl=Xo(Rt,"DataView"),Nr=Xo(Rt,"Map"),sa=Xo(Rt,"Promise"),xr=Xo(Rt,"Set"),yo=Xo(Rt,"WeakMap"),eo=Xo(Dn,"create"),xs=yo&&new yo,la={},wc=ti(hl),lh=ti(Nr),ua=ti(sa),ca=ti(xr),uh=ti(yo),dl=Pr?Pr.prototype:r,Cs=dl?dl.valueOf:r,xc=dl?dl.toString:r;function B(o){if(hi(o)&&!Ye(o)&&!(o instanceof Le)){if(o instanceof kn)return o;if(xn.call(o,"__wrapped__"))return Gi(o)}return new kn(o)}var Na=(function(){function o(){}return function(u){if(!ii(u))return{};if(ou)return ou(u);o.prototype=u;var v=new o;return o.prototype=r,v}})();function Bi(){}function kn(o,u){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=r}B.templateSettings={escape:$t,evaluate:Et,interpolate:Yt,variable:"",imports:{_:B}},B.prototype=Bi.prototype,B.prototype.constructor=B,kn.prototype=Na(Bi.prototype),kn.prototype.constructor=kn;function Le(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ct,this.__views__=[]}function ki(){var o=new Le(this.__wrapped__);return o.__actions__=ir(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=ir(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=ir(this.__views__),o}function ks(){if(this.__filtered__){var o=new Le(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function ch(){var o=this.__wrapped__.value(),u=this.__dir__,v=Ye(o),_=u<0,R=v?o.length:0,X=Oh(0,R,this.__views__),tt=X.start,rt=X.end,dt=rt-tt,Wt=_?rt:tt-1,Ft=this.__iteratees__,Xt=Ft.length,ae=0,xe=ci(dt,this.__takeCount__);if(!v||!_&&R==dt&&xe==dt)return Ls(o,this.__actions__);var Re=[];t:for(;dt--&&ae<xe;){Wt+=u;for(var Qe=-1,Pe=o[Wt];++Qe<Xt;){var ln=Ft[Qe],vn=ln.iteratee,Yr=ln.type,gr=vn(Pe);if(Yr==M)Pe=gr;else if(!gr){if(Yr==Tt)continue t;break t}}Re[ae++]=Pe}return Re}Le.prototype=Na(Bi.prototype),Le.prototype.constructor=Le;function no(o){var u=-1,v=o==null?0:o.length;for(this.clear();++u<v;){var _=o[u];this.set(_[0],_[1])}}function fh(){this.__data__=eo?eo(null):{},this.size=0}function hh(o){var u=this.has(o)&&delete this.__data__[o];return this.size-=u?1:0,u}function dh(o){var u=this.__data__;if(eo){var v=u[o];return v===b?r:v}return xn.call(u,o)?u[o]:r}function fu(o){var u=this.__data__;return eo?u[o]!==r:xn.call(u,o)}function Cc(o,u){var v=this.__data__;return this.size+=this.has(o)?0:1,v[o]=eo&&u===r?b:u,this}no.prototype.clear=fh,no.prototype.delete=hh,no.prototype.get=dh,no.prototype.has=fu,no.prototype.set=Cc;function $r(o){var u=-1,v=o==null?0:o.length;for(this.clear();++u<v;){var _=o[u];this.set(_[0],_[1])}}function ph(){this.__data__=[],this.size=0}function hu(o){var u=this.__data__,v=Ia(u,o);if(v<0)return!1;var _=u.length-1;return v==_?u.pop():ra.call(u,v,1),--this.size,!0}function du(o){var u=this.__data__,v=Ia(u,o);return v<0?r:u[v][1]}function kc(o){return Ia(this.__data__,o)>-1}function Ec(o,u){var v=this.__data__,_=Ia(v,o);return _<0?(++this.size,v.push([o,u])):v[_][1]=u,this}$r.prototype.clear=ph,$r.prototype.delete=hu,$r.prototype.get=du,$r.prototype.has=kc,$r.prototype.set=Ec;function Ir(o){var u=-1,v=o==null?0:o.length;for(this.clear();++u<v;){var _=o[u];this.set(_[0],_[1])}}function _c(){this.size=0,this.__data__={hash:new no,map:new(Nr||$r),string:new no}}function Es(o){var u=Hs(this,o).delete(o);return this.size-=u?1:0,u}function gh(o){return Hs(this,o).get(o)}function pl(o){return Hs(this,o).has(o)}function wo(o,u){var v=Hs(this,o),_=v.size;return v.set(o,u),this.size+=v.size==_?0:1,this}Ir.prototype.clear=_c,Ir.prototype.delete=Es,Ir.prototype.get=gh,Ir.prototype.has=pl,Ir.prototype.set=wo;function Io(o){var u=-1,v=o==null?0:o.length;for(this.__data__=new Ir;++u<v;)this.add(o[u])}function mh(o){return this.__data__.set(o,b),this}function Sc(o){return this.__data__.has(o)}Io.prototype.add=Io.prototype.push=mh,Io.prototype.has=Sc;function Bn(o){var u=this.__data__=new $r(o);this.size=u.size}function yn(){this.__data__=new $r,this.size=0}function zr(o){var u=this.__data__,v=u.delete(o);return this.size=u.size,v}function zo(o){return this.__data__.get(o)}function Wo(o){return this.__data__.has(o)}function Tc(o,u){var v=this.__data__;if(v instanceof $r){var _=v.__data__;if(!Nr||_.length<d-1)return _.push([o,u]),this.size=++v.size,this;v=this.__data__=new Ir(_)}return v.set(o,u),this.size=v.size,this}Bn.prototype.clear=yn,Bn.prototype.delete=zr,Bn.prototype.get=zo,Bn.prototype.has=Wo,Bn.prototype.set=Tc;function gl(o,u){var v=Ye(o),_=!v&&Bs(o),R=!v&&!_&&ns(o),X=!v&&!_&&!R&&Ml(o),tt=v||_||R||X,rt=tt?Zl(o.length,oh):[],dt=rt.length;for(var Wt in o)(u||xn.call(o,Wt))&&!(tt&&(Wt=="length"||R&&(Wt=="offset"||Wt=="parent")||X&&(Wt=="buffer"||Wt=="byteLength"||Wt=="byteOffset")||l(Wt,dt)))&&rt.push(Wt);return rt}function pu(o){var u=o.length;return u?o[wl(0,u-1)]:r}function vh(o,u){return Kn(ir(o),Co(u,0,o.length))}function gu(o){return Kn(ir(o))}function fa(o,u,v){(v!==r&&!Eo(o[u],v)||v===r&&!(u in o))&&xo(o,u,v)}function $a(o,u,v){var _=o[u];(!(xn.call(o,u)&&Eo(_,v))||v===r&&!(u in o))&&xo(o,u,v)}function Ia(o,u){for(var v=o.length;v--;)if(Eo(o[v][0],u))return v;return-1}function Fo(o,u,v,_){return Wr(o,function(R,X,tt){u(_,R,v(R),tt)}),_}function mu(o,u){return o&&Hr(u,Ki(u),o)}function Dc(o,u){return o&&Hr(u,_r(u),o)}function xo(o,u,v){u=="__proto__"&&Ra?Ra(o,u,{configurable:!0,enumerable:!0,value:v,writable:!0}):o[u]=v}function za(o,u){for(var v=-1,_=u.length,R=wt(_),X=o==null;++v<_;)R[v]=X?r:Wh(o,u[v]);return R}function Co(o,u,v){return o===o&&(v!==r&&(o=o<=v?o:v),u!==r&&(o=o>=u?o:u)),o}function hr(o,u,v,_,R,X){var tt,rt=u&S,dt=u&O,Wt=u&F;if(v&&(tt=R?v(o,_,R,X):v(o)),tt!==r)return tt;if(!ii(o))return o;var Ft=Ye(o);if(Ft){if(tt=Mh(o),!rt)return ir(o,tt)}else{var Xt=Si(o),ae=Xt==ce||Xt==Oe;if(ns(o))return Tu(o,rt);if(Xt==ke||Xt==Qt||ae&&!R){if(tt=dt||ae?{}:of(o),!rt)return dt?Th(o,Dc(tt,o)):Kc(o,mu(tt,o))}else{if(!Je[Xt])return R?o:{};tt=Ol(o,Xt,rt)}}X||(X=new Bn);var xe=X.get(o);if(xe)return xe;X.set(o,tt),rp(o)?o.forEach(function(Pe){tt.add(hr(Pe,u,v,Pe,o,X))}):np(o)&&o.forEach(function(Pe,ln){tt.set(ln,hr(Pe,u,v,ln,o,X))});var Re=Wt?dt?Ll:Al:dt?_r:Ki,Qe=Ft?r:Re(o);return yr(Qe||o,function(Pe,ln){Qe&&(ln=Pe,Pe=o[ln]),$a(tt,ln,hr(Pe,u,v,ln,o,X))}),tt}function bh(o){var u=Ki(o);return function(v){return vu(v,o,u)}}function vu(o,u,v){var _=v.length;if(o==null)return!_;for(o=Dn(o);_--;){var R=v[_],X=u[R],tt=o[R];if(tt===r&&!(R in o)||!X(tt))return!1}return!0}function Ac(o,u,v){if(typeof o!="function")throw new wr(p);return be(function(){o.apply(r,v)},u)}function _s(o,u,v,_){var R=-1,X=el,tt=!0,rt=o.length,dt=[],Wt=u.length;if(!rt)return dt;v&&(u=$n(u,nr(v))),_?(X=Gl,tt=!1):u.length>=d&&(X=mo,tt=!1,u=new Io(u));t:for(;++R<rt;){var Ft=o[R],Xt=v==null?Ft:v(Ft);if(Ft=_||Ft!==0?Ft:0,tt&&Xt===Xt){for(var ae=Wt;ae--;)if(u[ae]===Xt)continue t;dt.push(Ft)}else X(u,Xt,_)||dt.push(Ft)}return dt}var Wr=Va(Cr),bu=Va(vl,!0);function yh(o,u){var v=!0;return Wr(o,function(_,R,X){return v=!!u(_,R,X),v}),v}function ml(o,u,v){for(var _=-1,R=o.length;++_<R;){var X=o[_],tt=u(X);if(tt!=null&&(rt===r?tt===tt&&!Br(tt):v(tt,rt)))var rt=tt,dt=X}return dt}function Lc(o,u,v,_){var R=o.length;for(v=Ke(v),v<0&&(v=-v>R?0:R+v),_=_===r||_>R?R:Ke(_),_<0&&(_+=R),_=v>_?0:ap(_);v<_;)o[v++]=u;return o}function ha(o,u){var v=[];return Wr(o,function(_,R,X){u(_,R,X)&&v.push(_)}),v}function Ei(o,u,v,_,R){var X=-1,tt=o.length;for(v||(v=n),R||(R=[]);++X<tt;){var rt=o[X];u>0&&v(rt)?u>1?Ei(rt,u-1,v,_,R):go(R,rt):_||(R[R.length]=rt)}return R}var Wa=Uc(),yu=Uc(!0);function Cr(o,u){return o&&Wa(o,u,Ki)}function vl(o,u){return o&&yu(o,u,Ki)}function bl(o,u){return Mo(u,function(v){return ya(o[v])})}function Ho(o,u){u=jo(u,o);for(var v=0,_=u.length;o!=null&&v<_;)o=o[Yn(u[v++])];return v&&v==_?o:r}function Ri(o,u,v){var _=u(o);return Ye(o)?_:go(_,v(o))}function Pi(o){return o==null?o===r?_t:fe:$o&&$o in Dn(o)?Lh(o):Nt(o)}function yl(o,u){return o>u}function Oc(o,u){return o!=null&&xn.call(o,u)}function Mc(o,u){return o!=null&&u in Dn(o)}function Fa(o,u,v){return o>=ci(u,v)&&o<zn(u,v)}function Ha(o,u,v){for(var _=v?Gl:el,R=o[0].length,X=o.length,tt=X,rt=wt(X),dt=1/0,Wt=[];tt--;){var Ft=o[tt];tt&&u&&(Ft=$n(Ft,nr(u))),dt=ci(Ft.length,dt),rt[tt]=!v&&(u||R>=120&&Ft.length>=120)?new Io(tt&&Ft):r}Ft=o[0];var Xt=-1,ae=rt[0];t:for(;++Xt<R&&Wt.length<dt;){var xe=Ft[Xt],Re=u?u(xe):xe;if(xe=v||xe!==0?xe:0,!(ae?mo(ae,Re):_(Wt,Re,v))){for(tt=X;--tt;){var Qe=rt[tt];if(!(Qe?mo(Qe,Re):_(o[tt],Re,v)))continue t}ae&&ae.push(Re),Wt.push(xe)}}return Wt}function Rc(o,u,v,_){return Cr(o,function(R,X,tt){u(_,v(R),X,tt)}),_}function Ba(o,u,v){u=jo(u,o),o=Jt(o,u);var _=o==null?o:o[Yn(lo(u))];return _==null?r:ur(_,o,v)}function wu(o){return hi(o)&&Pi(o)==Qt}function Ya(o){return hi(o)&&Pi(o)==Xn}function Pc(o){return hi(o)&&Pi(o)==At}function Bo(o,u,v,_,R){return o===u?!0:o==null||u==null||!hi(o)&&!hi(u)?o!==o&&u!==u:Nc(o,u,v,_,Bo,R)}function Nc(o,u,v,_,R,X){var tt=Ye(o),rt=Ye(u),dt=tt?j:Si(o),Wt=rt?j:Si(u);dt=dt==Qt?ke:dt,Wt=Wt==Qt?ke:Wt;var Ft=dt==ke,Xt=Wt==ke,ae=dt==Wt;if(ae&&ns(o)){if(!ns(u))return!1;tt=!0,Ft=!1}if(ae&&!Ft)return X||(X=new Bn),tt||Ml(o)?kr(o,u,v,_,R,X):Dl(o,u,dt,v,_,R,X);if(!(v&A)){var xe=Ft&&xn.call(o,"__wrapped__"),Re=Xt&&xn.call(u,"__wrapped__");if(xe||Re){var Qe=xe?o.value():o,Pe=Re?u.value():u;return X||(X=new Bn),R(Qe,Pe,v,_,X)}}return ae?(X||(X=new Bn),Pu(o,u,v,_,R,X)):!1}function Ss(o){return hi(o)&&Si(o)==me}function xu(o,u,v,_){var R=v.length,X=R,tt=!_;if(o==null)return!X;for(o=Dn(o);R--;){var rt=v[R];if(tt&&rt[2]?rt[1]!==o[rt[0]]:!(rt[0]in o))return!1}for(;++R<X;){rt=v[R];var dt=rt[0],Wt=o[dt],Ft=rt[1];if(tt&&rt[2]){if(Wt===r&&!(dt in o))return!1}else{var Xt=new Bn;if(_)var ae=_(Wt,Ft,dt,o,u,Xt);if(!(ae===r?Bo(Ft,Wt,A|I,_,Xt):ae))return!1}}return!0}function da(o){if(!ii(o)||T(o))return!1;var u=ya(o)?Po:bi;return u.test(ti(o))}function $c(o){return hi(o)&&Pi(o)==le}function Ic(o){return hi(o)&&Si(o)==Ee}function zc(o){return hi(o)&&ff(o.length)&&!!sn[Pi(o)]}function ja(o){return typeof o=="function"?o:o==null?Sr:typeof o=="object"?Ye(o)?ku(o[0],o[1]):Wc(o):vp(o)}function pa(o){if(!L(o))return uu(o);var u=[];for(var v in Dn(o))xn.call(o,v)&&v!="constructor"&&u.push(v);return u}function Ts(o){if(!ii(o))return St(o);var u=L(o),v=[];for(var _ in o)_=="constructor"&&(u||!xn.call(o,_))||v.push(_);return v}function ga(o,u){return o<u}function Cu(o,u){var v=-1,_=Er(o)?wt(o.length):[];return Wr(o,function(R,X,tt){_[++v]=u(R,X,tt)}),_}function Wc(o){var u=wn(o);return u.length==1&&u[0][2]?Z(u[0][0],u[0][1]):function(v){return v===o||xu(v,o,u)}}function ku(o,u){return h(o)&&G(u)?Z(Yn(o),u):function(v){var _=Wh(v,o);return _===r&&_===u?Fh(v,o):Bo(u,_,A|I)}}function Fr(o,u,v,_,R){o!==u&&Wa(u,function(X,tt){if(R||(R=new Bn),ii(X))Xa(o,u,tt,v,Fr,_,R);else{var rt=_?_(Vt(o,tt),X,tt+"",o,u,R):r;rt===r&&(rt=X),fa(o,tt,rt)}},_r)}function Xa(o,u,v,_,R,X,tt){var rt=Vt(o,v),dt=Vt(u,v),Wt=tt.get(dt);if(Wt){fa(o,v,Wt);return}var Ft=X?X(rt,dt,v+"",o,u,tt):r,Xt=Ft===r;if(Xt){var ae=Ye(dt),xe=!ae&&ns(dt),Re=!ae&&!xe&&Ml(dt);Ft=dt,ae||xe||Re?Ye(rt)?Ft=rt:Di(rt)?Ft=ir(rt):xe?(Xt=!1,Ft=Tu(dt,!0)):Re?(Xt=!1,Ft=Du(dt,!0)):Ft=[]:Iu(dt)||Bs(dt)?(Ft=rt,Bs(rt)?Ft=sp(rt):(!ii(rt)||ya(rt))&&(Ft=of(dt))):Xt=!1}Xt&&(tt.set(dt,Ft),R(Ft,dt,_,X,tt),tt.delete(dt)),fa(o,v,Ft)}function Ga(o,u){var v=o.length;if(v)return u+=u<0?v:0,l(u,v)?o[u]:r}function Fc(o,u,v){u.length?u=$n(u,function(X){return Ye(X)?function(tt){return Ho(tt,X.length===1?X[0]:X)}:X}):u=[Sr];var _=-1;u=$n(u,nr(Ae()));var R=Cu(o,function(X,tt,rt){var dt=$n(u,function(Wt){return Wt(X)});return{criteria:dt,index:++_,value:X}});return Vl(R,function(X,tt){return Sh(X,tt,v)})}function Hc(o,u){return Bc(o,u,function(v,_){return Fh(o,_)})}function Bc(o,u,v){for(var _=-1,R=u.length,X={};++_<R;){var tt=u[_],rt=Ho(o,tt);v(rt,tt)&&qa(X,jo(tt,o),rt)}return X}function wh(o){return function(u){return Ho(u,o)}}function Eu(o,u,v,_){var R=_?eh:In,X=-1,tt=u.length,rt=o;for(o===u&&(u=ir(u)),v&&(rt=$n(o,nr(v)));++X<tt;)for(var dt=0,Wt=u[X],Ft=v?v(Wt):Wt;(dt=R(rt,Ft,dt,_))>-1;)rt!==o&&ra.call(rt,dt,1),ra.call(o,dt,1);return o}function Xi(o,u){for(var v=o?u.length:0,_=v-1;v--;){var R=u[v];if(v==_||R!==X){var X=R;l(R)?ra.call(o,R,1):xl(o,R)}}return o}function wl(o,u){return o+aa(cu()*(u-o+1))}function xh(o,u,v,_){for(var R=-1,X=zn(ys((u-o)/(v||1)),0),tt=wt(X);X--;)tt[_?X:++R]=o,o+=v;return tt}function _u(o,u){var v="";if(!o||u<1||u>Kt)return v;do u%2&&(v+=o),u=aa(u/2),u&&(o+=o);while(u);return v}function qe(o,u){return ve(Gt(o,u,Sr),o+"")}function Yc(o){return pu(Rl(o))}function jc(o,u){var v=Rl(o);return Kn(v,Co(u,0,v.length))}function qa(o,u,v,_){if(!ii(o))return o;u=jo(u,o);for(var R=-1,X=u.length,tt=X-1,rt=o;rt!=null&&++R<X;){var dt=Yn(u[R]),Wt=v;if(dt==="__proto__"||dt==="constructor"||dt==="prototype")return o;if(R!=tt){var Ft=rt[dt];Wt=_?_(Ft,dt,rt):r,Wt===r&&(Wt=ii(Ft)?Ft:l(u[R+1])?[]:{})}$a(rt,dt,Wt),rt=rt[dt]}return o}var Xc=xs?function(o,u){return xs.set(o,u),o}:Sr,Ch=Ra?function(o,u){return Ra(o,"toString",{configurable:!0,enumerable:!1,value:Bh(u),writable:!0})}:Sr;function kh(o){return Kn(Rl(o))}function _i(o,u,v){var _=-1,R=o.length;u<0&&(u=-u>R?0:R+u),v=v>R?R:v,v<0&&(v+=R),R=u>v?0:v-u>>>0,u>>>=0;for(var X=wt(R);++_<R;)X[_]=o[_+u];return X}function Ds(o,u){var v;return Wr(o,function(_,R,X){return v=u(_,R,X),!v}),!!v}function ma(o,u,v){var _=0,R=o==null?_:o.length;if(typeof u=="number"&&u===u&&R<=kt){for(;_<R;){var X=_+R>>>1,tt=o[X];tt!==null&&!Br(tt)&&(v?tt<=u:tt<u)?_=X+1:R=X}return R}return va(o,u,Sr,v)}function va(o,u,v,_){var R=0,X=o==null?0:o.length;if(X===0)return 0;u=v(u);for(var tt=u!==u,rt=u===null,dt=Br(u),Wt=u===r;R<X;){var Ft=aa((R+X)/2),Xt=v(o[Ft]),ae=Xt!==r,xe=Xt===null,Re=Xt===Xt,Qe=Br(Xt);if(tt)var Pe=_||Re;else Wt?Pe=Re&&(_||ae):rt?Pe=Re&&ae&&(_||!xe):dt?Pe=Re&&ae&&!xe&&(_||!Qe):xe||Qe?Pe=!1:Pe=_?Xt<=u:Xt<u;Pe?R=Ft+1:X=Ft}return ci(X,yt)}function io(o,u){for(var v=-1,_=o.length,R=0,X=[];++v<_;){var tt=o[v],rt=u?u(tt):tt;if(!v||!Eo(rt,dt)){var dt=rt;X[R++]=tt===0?0:tt}}return X}function Gc(o){return typeof o=="number"?o:Br(o)?oe:+o}function dr(o){if(typeof o=="string")return o;if(Ye(o))return $n(o,dr)+"";if(Br(o))return xc?xc.call(o):"";var u=o+"";return u=="0"&&1/o==-vt?"-0":u}function pr(o,u,v){var _=-1,R=el,X=o.length,tt=!0,rt=[],dt=rt;if(v)tt=!1,R=Gl;else if(X>=d){var Wt=u?null:Ah(o);if(Wt)return fr(Wt);tt=!1,R=mo,dt=new Io}else dt=u?[]:rt;t:for(;++_<X;){var Ft=o[_],Xt=u?u(Ft):Ft;if(Ft=v||Ft!==0?Ft:0,tt&&Xt===Xt){for(var ae=dt.length;ae--;)if(dt[ae]===Xt)continue t;u&&dt.push(Xt),rt.push(Ft)}else R(dt,Xt,v)||(dt!==rt&&dt.push(Xt),rt.push(Ft))}return rt}function xl(o,u){return u=jo(u,o),o=Jt(o,u),o==null||delete o[Yn(lo(u))]}function Su(o,u,v,_){return qa(o,u,v(Ho(o,u)),_)}function As(o,u,v,_){for(var R=o.length,X=_?R:-1;(_?X--:++X<R)&&u(o[X],X,o););return v?_i(o,_?0:X,_?X+1:R):_i(o,_?X+1:0,_?R:X)}function Ls(o,u){var v=o;return v instanceof Le&&(v=v.value()),ql(u,function(_,R){return R.func.apply(R.thisArg,go([_],R.args))},v)}function Yo(o,u,v){var _=o.length;if(_<2)return _?pr(o[0]):[];for(var R=-1,X=wt(_);++R<_;)for(var tt=o[R],rt=-1;++rt<_;)rt!=R&&(X[R]=_s(X[R]||tt,o[rt],u,v));return pr(Ei(X,1),u,v)}function Cl(o,u,v){for(var _=-1,R=o.length,X=u.length,tt={};++_<R;){var rt=_<X?u[_]:r;v(tt,o[_],rt)}return tt}function Os(o){return Di(o)?o:[]}function Ms(o){return typeof o=="function"?o:Sr}function jo(o,u){return Ye(o)?o:h(o,u)?[o]:Pn(An(o))}var Rs=qe;function ko(o,u,v){var _=o.length;return v=v===r?_:v,!u&&v>=_?o:_i(o,u,v)}var qc=au||function(o){return Cn.clearTimeout(o)};function Tu(o,u){if(u)return o.slice();var v=o.length,_=ru?ru(v):new o.constructor(v);return o.copy(_),_}function Ka(o){var u=new o.constructor(o.byteLength);return new ll(u).set(new ll(o)),u}function Eh(o,u){var v=u?Ka(o.buffer):o.buffer;return new o.constructor(v,o.byteOffset,o.byteLength)}function _h(o){var u=new o.constructor(o.source,tn.exec(o));return u.lastIndex=o.lastIndex,u}function Ps(o){return Cs?Dn(Cs.call(o)):{}}function Du(o,u){var v=u?Ka(o.buffer):o.buffer;return new o.constructor(v,o.byteOffset,o.length)}function Au(o,u){if(o!==u){var v=o!==r,_=o===null,R=o===o,X=Br(o),tt=u!==r,rt=u===null,dt=u===u,Wt=Br(u);if(!rt&&!Wt&&!X&&o>u||X&&tt&&dt&&!rt&&!Wt||_&&tt&&dt||!v&&dt||!R)return 1;if(!_&&!X&&!Wt&&o<u||Wt&&v&&R&&!_&&!X||rt&&v&&R||!tt&&R||!dt)return-1}return 0}function Sh(o,u,v){for(var _=-1,R=o.criteria,X=u.criteria,tt=R.length,rt=v.length;++_<tt;){var dt=Au(R[_],X[_]);if(dt){if(_>=rt)return dt;var Wt=v[_];return dt*(Wt=="desc"?-1:1)}}return o.index-u.index}function kl(o,u,v,_){for(var R=-1,X=o.length,tt=v.length,rt=-1,dt=u.length,Wt=zn(X-tt,0),Ft=wt(dt+Wt),Xt=!_;++rt<dt;)Ft[rt]=u[rt];for(;++R<tt;)(Xt||R<X)&&(Ft[v[R]]=o[R]);for(;Wt--;)Ft[rt++]=o[R++];return Ft}function Lu(o,u,v,_){for(var R=-1,X=o.length,tt=-1,rt=v.length,dt=-1,Wt=u.length,Ft=zn(X-rt,0),Xt=wt(Ft+Wt),ae=!_;++R<Ft;)Xt[R]=o[R];for(var xe=R;++dt<Wt;)Xt[xe+dt]=u[dt];for(;++tt<rt;)(ae||R<X)&&(Xt[xe+v[tt]]=o[R++]);return Xt}function ir(o,u){var v=-1,_=o.length;for(u||(u=wt(_));++v<_;)u[v]=o[v];return u}function Hr(o,u,v,_){var R=!v;v||(v={});for(var X=-1,tt=u.length;++X<tt;){var rt=u[X],dt=_?_(v[rt],o[rt],rt,v,o):r;dt===r&&(dt=o[rt]),R?xo(v,rt,dt):$a(v,rt,dt)}return v}function Kc(o,u){return Hr(o,Go(o),u)}function Th(o,u){return Hr(o,nf(o),u)}function Ua(o,u){return function(v,_){var R=Ye(v)?Jf:Fo,X=u?u():{};return R(v,o,Ae(_,2),X)}}function ro(o){return qe(function(u,v){var _=-1,R=v.length,X=R>1?v[R-1]:r,tt=R>2?v[2]:r;for(X=o.length>3&&typeof X=="function"?(R--,X):r,tt&&s(v[0],v[1],tt)&&(X=R<3?r:X,R=1),u=Dn(u);++_<R;){var rt=v[_];rt&&o(u,rt,_,X)}return u})}function Va(o,u){return function(v,_){if(v==null)return v;if(!Er(v))return o(v,_);for(var R=v.length,X=u?R:-1,tt=Dn(v);(u?X--:++X<R)&&_(tt[X],X,tt)!==!1;);return v}}function Uc(o){return function(u,v,_){for(var R=-1,X=Dn(u),tt=_(u),rt=tt.length;rt--;){var dt=tt[o?rt:++R];if(v(X[dt],dt,X)===!1)break}return u}}function Vc(o,u,v){var _=u&N,R=Ns(o);function X(){var tt=this&&this!==Cn&&this instanceof X?R:o;return tt.apply(_?v:this,arguments)}return X}function Zc(o){return function(u){u=An(u);var v=La(u)?Or(u):r,_=v?v[0]:u.charAt(0),R=v?ko(v,1).join(""):u.slice(1);return _[o]()+R}}function Za(o){return function(u){return ql(gp(pp(u).replace(wi,"")),o,"")}}function Ns(o){return function(){var u=arguments;switch(u.length){case 0:return new o;case 1:return new o(u[0]);case 2:return new o(u[0],u[1]);case 3:return new o(u[0],u[1],u[2]);case 4:return new o(u[0],u[1],u[2],u[3]);case 5:return new o(u[0],u[1],u[2],u[3],u[4]);case 6:return new o(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new o(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var v=Na(o.prototype),_=o.apply(v,u);return ii(_)?_:v}}function Dh(o,u,v){var _=Ns(o);function R(){for(var X=arguments.length,tt=wt(X),rt=X,dt=Qa(R);rt--;)tt[rt]=arguments[rt];var Wt=X<3&&tt[0]!==dt&&tt[X-1]!==dt?[]:cr(tt,dt);if(X-=Wt.length,X<v)return Is(o,u,El,R.placeholder,r,tt,Wt,r,r,v-X);var Ft=this&&this!==Cn&&this instanceof R?_:o;return ur(Ft,this,tt)}return R}function Ou(o){return function(u,v,_){var R=Dn(u);if(!Er(u)){var X=Ae(v,3);u=Ki(u),v=function(rt){return X(R[rt],rt,R)}}var tt=o(u,v,_);return tt>-1?R[X?u[tt]:tt]:r}}function Jc(o){return oo(function(u){var v=u.length,_=v,R=kn.prototype.thru;for(o&&u.reverse();_--;){var X=u[_];if(typeof X!="function")throw new wr(p);if(R&&!tt&&Fs(X)=="wrapper")var tt=new kn([],!0)}for(_=tt?_:v;++_<v;){X=u[_];var rt=Fs(X),dt=rt=="wrapper"?Ws(X):r;dt&&k(dt[0])&&dt[1]==(gt|K|U|mt)&&!dt[4].length&&dt[9]==1?tt=tt[Fs(dt[0])].apply(tt,dt[3]):tt=X.length==1&&k(X)?tt[rt]():tt.thru(X)}return function(){var Wt=arguments,Ft=Wt[0];if(tt&&Wt.length==1&&Ye(Ft))return tt.plant(Ft).value();for(var Xt=0,ae=v?u[Xt].apply(this,Wt):Ft;++Xt<v;)ae=u[Xt].call(this,ae);return ae}})}function El(o,u,v,_,R,X,tt,rt,dt,Wt){var Ft=u&gt,Xt=u&N,ae=u&Y,xe=u&(K|J),Re=u&pt,Qe=ae?r:Ns(o);function Pe(){for(var ln=arguments.length,vn=wt(ln),Yr=ln;Yr--;)vn[Yr]=arguments[Yr];if(xe)var gr=Qa(Pe),jr=tu(vn,gr);if(_&&(vn=kl(vn,_,R,xe)),X&&(vn=Lu(vn,X,tt,xe)),ln-=jr,xe&&ln<Wt){var Ai=cr(vn,gr);return Is(o,u,El,Pe.placeholder,v,vn,Ai,rt,dt,Wt-ln)}var _o=Xt?v:this,xa=ae?_o[o]:o;return ln=vn.length,rt?vn=ee(vn,rt):Re&&ln>1&&vn.reverse(),Ft&&dt<ln&&(vn.length=dt),this&&this!==Cn&&this instanceof Pe&&(xa=Qe||Ns(xa)),xa.apply(_o,vn)}return Pe}function Mu(o,u){return function(v,_){return Rc(v,o,u(_),{})}}function Ja(o,u){return function(v,_){var R;if(v===r&&_===r)return u;if(v!==r&&(R=v),_!==r){if(R===r)return _;typeof v=="string"||typeof _=="string"?(v=dr(v),_=dr(_)):(v=Gc(v),_=Gc(_)),R=o(v,_)}return R}}function _l(o){return oo(function(u){return u=$n(u,nr(Ae())),qe(function(v){var _=this;return o(u,function(R){return ur(R,_,v)})})})}function Sl(o,u){u=u===r?" ":dr(u);var v=u.length;if(v<2)return v?_u(u,o):u;var _=_u(u,ys(o/Oa(u)));return La(u)?ko(Or(_),0,o).join(""):_.slice(0,o)}function Qc(o,u,v,_){var R=u&N,X=Ns(o);function tt(){for(var rt=-1,dt=arguments.length,Wt=-1,Ft=_.length,Xt=wt(Ft+dt),ae=this&&this!==Cn&&this instanceof tt?X:o;++Wt<Ft;)Xt[Wt]=_[Wt];for(;dt--;)Xt[Wt++]=arguments[++rt];return ur(ae,R?v:this,Xt)}return tt}function ba(o){return function(u,v,_){return _&&typeof _!="number"&&s(u,v,_)&&(v=_=r),u=wa(u),v===r?(v=u,u=0):v=wa(v),_=_===r?u<v?1:-1:wa(_),xh(u,v,_,o)}}function $s(o){return function(u,v){return typeof u=="string"&&typeof v=="string"||(u=uo(u),v=uo(v)),o(u,v)}}function Is(o,u,v,_,R,X,tt,rt,dt,Wt){var Ft=u&K,Xt=Ft?tt:r,ae=Ft?r:tt,xe=Ft?X:r,Re=Ft?r:X;u|=Ft?U:nt,u&=~(Ft?nt:U),u&H||(u&=-4);var Qe=[o,u,R,xe,Xt,Re,ae,rt,dt,Wt],Pe=v.apply(r,Qe);return k(o)&&re(Pe,Qe),Pe.placeholder=_,Fe(Pe,o,u)}function Ru(o){var u=ui[o];return function(v,_){if(v=uo(v),_=_==null?0:ci(Ke(_),292),_&&yc(v)){var R=(An(v)+"e").split("e"),X=u(R[0]+"e"+(+R[1]+_));return R=(An(X)+"e").split("e"),+(R[0]+"e"+(+R[1]-_))}return u(v)}}var Ah=xr&&1/fr(new xr([,-0]))[1]==vt?function(o){return new xr(o)}:Xh;function tf(o){return function(u){var v=Si(u);return v==me?rl(u):v==Ee?hc(u):nh(u,o(u))}}function mn(o,u,v,_,R,X,tt,rt){var dt=u&Y;if(!dt&&typeof o!="function")throw new wr(p);var Wt=_?_.length:0;if(Wt||(u&=-97,_=R=r),tt=tt===r?tt:zn(Ke(tt),0),rt=rt===r?rt:Ke(rt),Wt-=R?R.length:0,u&nt){var Ft=_,Xt=R;_=R=r}var ae=dt?r:Ws(o),xe=[o,u,v,_,R,Ft,Xt,X,tt,rt];if(ae&&ot(xe,ae),o=xe[0],u=xe[1],v=xe[2],_=xe[3],R=xe[4],rt=xe[9]=xe[9]===r?dt?0:o.length:zn(xe[9]-Wt,0),!rt&&u&(K|J)&&(u&=-25),!u||u==N)var Re=Vc(o,u,v);else u==K||u==J?Re=Dh(o,u,rt):(u==U||u==(N|U))&&!R.length?Re=Qc(o,u,v,_):Re=El.apply(r,xe);var Qe=ae?Xc:re;return Fe(Qe(Re,xe),o,u)}function ef(o,u,v,_){return o===r||Eo(o,Mr[v])&&!xn.call(_,v)?u:o}function Tl(o,u,v,_,R,X){return ii(o)&&ii(u)&&(X.set(u,o),Fr(o,u,r,Tl,X),X.delete(u)),o}function zs(o){return Iu(o)?r:o}function kr(o,u,v,_,R,X){var tt=v&A,rt=o.length,dt=u.length;if(rt!=dt&&!(tt&&dt>rt))return!1;var Wt=X.get(o),Ft=X.get(u);if(Wt&&Ft)return Wt==u&&Ft==o;var Xt=-1,ae=!0,xe=v&I?new Io:r;for(X.set(o,u),X.set(u,o);++Xt<rt;){var Re=o[Xt],Qe=u[Xt];if(_)var Pe=tt?_(Qe,Re,Xt,u,o,X):_(Re,Qe,Xt,o,u,X);if(Pe!==r){if(Pe)continue;ae=!1;break}if(xe){if(!Ta(u,function(ln,vn){if(!mo(xe,vn)&&(Re===ln||R(Re,ln,v,_,X)))return xe.push(vn)})){ae=!1;break}}else if(!(Re===Qe||R(Re,Qe,v,_,X))){ae=!1;break}}return X.delete(o),X.delete(u),ae}function Dl(o,u,v,_,R,X,tt){switch(v){case Wi:if(o.byteLength!=u.byteLength||o.byteOffset!=u.byteOffset)return!1;o=o.buffer,u=u.buffer;case Xn:return!(o.byteLength!=u.byteLength||!X(new ll(o),new ll(u)));case st:case At:case we:return Eo(+o,+u);case zt:return o.name==u.name&&o.message==u.message;case le:case ft:return o==u+"";case me:var rt=rl;case Ee:var dt=_&A;if(rt||(rt=fr),o.size!=u.size&&!dt)return!1;var Wt=tt.get(o);if(Wt)return Wt==u;_|=I,tt.set(o,u);var Ft=kr(rt(o),rt(u),_,R,X,tt);return tt.delete(o),Ft;case Bt:if(Cs)return Cs.call(o)==Cs.call(u)}return!1}function Pu(o,u,v,_,R,X){var tt=v&A,rt=Al(o),dt=rt.length,Wt=Al(u),Ft=Wt.length;if(dt!=Ft&&!tt)return!1;for(var Xt=dt;Xt--;){var ae=rt[Xt];if(!(tt?ae in u:xn.call(u,ae)))return!1}var xe=X.get(o),Re=X.get(u);if(xe&&Re)return xe==u&&Re==o;var Qe=!0;X.set(o,u),X.set(u,o);for(var Pe=tt;++Xt<dt;){ae=rt[Xt];var ln=o[ae],vn=u[ae];if(_)var Yr=tt?_(vn,ln,ae,u,o,X):_(ln,vn,ae,o,u,X);if(!(Yr===r?ln===vn||R(ln,vn,v,_,X):Yr)){Qe=!1;break}Pe||(Pe=ae=="constructor")}if(Qe&&!Pe){var gr=o.constructor,jr=u.constructor;gr!=jr&&"constructor"in o&&"constructor"in u&&!(typeof gr=="function"&&gr instanceof gr&&typeof jr=="function"&&jr instanceof jr)&&(Qe=!1)}return X.delete(o),X.delete(u),Qe}function oo(o){return ve(Gt(o,r,Uo),o+"")}function Al(o){return Ri(o,Ki,Go)}function Ll(o){return Ri(o,_r,nf)}var Ws=xs?function(o){return xs.get(o)}:Xh;function Fs(o){for(var u=o.name+"",v=la[u],_=xn.call(la,u)?v.length:0;_--;){var R=v[_],X=R.func;if(X==null||X==o)return R.name}return u}function Qa(o){var u=xn.call(B,"placeholder")?B:o;return u.placeholder}function Ae(){var o=B.iteratee||Yh;return o=o===Yh?ja:o,arguments.length?o(arguments[0],arguments[1]):o}function Hs(o,u){var v=o.__data__;return y(u)?v[typeof u=="string"?"string":"hash"]:v.map}function wn(o){for(var u=Ki(o),v=u.length;v--;){var _=u[v],R=o[_];u[v]=[_,R,G(R)]}return u}function Xo(o,u){var v=eu(o,u);return da(v)?v:r}function Lh(o){var u=xn.call(o,$o),v=o[$o];try{o[$o]=r;var _=!0}catch{}var R=to.call(o);return _&&(u?o[$o]=v:delete o[$o]),R}var Go=su?function(o){return o==null?[]:(o=Dn(o),Mo(su(o),function(u){return ul.call(o,u)}))}:Gh,nf=su?function(o){for(var u=[];o;)go(u,Go(o)),o=No(o);return u}:Gh,Si=Pi;(hl&&Si(new hl(new ArrayBuffer(1)))!=Wi||Nr&&Si(new Nr)!=me||sa&&Si(sa.resolve())!=Ie||xr&&Si(new xr)!=Ee||yo&&Si(new yo)!=Se)&&(Si=function(o){var u=Pi(o),v=u==ke?o.constructor:r,_=v?ti(v):"";if(_)switch(_){case wc:return Wi;case lh:return me;case ua:return Ie;case ca:return Ee;case uh:return Se}return u});function Oh(o,u,v){for(var _=-1,R=v.length;++_<R;){var X=v[_],tt=X.size;switch(X.type){case"drop":o+=tt;break;case"dropRight":u-=tt;break;case"take":u=ci(u,o+tt);break;case"takeRight":o=zn(o,u-tt);break}}return{start:o,end:u}}function qn(o){var u=o.match(En);return u?u[1].split(Te):[]}function rf(o,u,v){u=jo(u,o);for(var _=-1,R=u.length,X=!1;++_<R;){var tt=Yn(u[_]);if(!(X=o!=null&&v(o,tt)))break;o=o[tt]}return X||++_!=R?X:(R=o==null?0:o.length,!!R&&ff(R)&&l(tt,R)&&(Ye(o)||Bs(o)))}function Mh(o){var u=o.length,v=new o.constructor(u);return u&&typeof o[0]=="string"&&xn.call(o,"index")&&(v.index=o.index,v.input=o.input),v}function of(o){return typeof o.constructor=="function"&&!L(o)?Na(No(o)):{}}function Ol(o,u,v){var _=o.constructor;switch(u){case Xn:return Ka(o);case st:case At:return new _(+o);case Wi:return Eh(o,v);case Un:case en:case ai:case Tn:case Li:case Ln:case he:case ar:case Me:return Du(o,v);case me:return new _;case we:case ft:return new _(o);case le:return _h(o);case Ee:return new _;case Bt:return Ps(o)}}function t(o,u){var v=u.length;if(!v)return o;var _=v-1;return u[_]=(v>1?"& ":"")+u[_],u=u.join(v>2?", ":" "),o.replace(si,`{
/* [wrapped with `+u+`] */
`)}function n(o){return Ye(o)||Bs(o)||!!(bc&&o&&o[bc])}function l(o,u){var v=typeof o;return u=u??Kt,!!u&&(v=="number"||v!="symbol"&&Lr.test(o))&&o>-1&&o%1==0&&o<u}function s(o,u,v){if(!ii(v))return!1;var _=typeof u;return(_=="number"?Er(v)&&l(u,v.length):_=="string"&&u in v)?Eo(v[u],o):!1}function h(o,u){if(Ye(o))return!1;var v=typeof o;return v=="number"||v=="symbol"||v=="boolean"||o==null||Br(o)?!0:se.test(o)||!Ce.test(o)||u!=null&&o in Dn(u)}function y(o){var u=typeof o;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?o!=="__proto__":o===null}function k(o){var u=Fs(o),v=B[u];if(typeof v!="function"||!(u in Le.prototype))return!1;if(o===v)return!0;var _=Ws(v);return!!_&&o===_[0]}function T(o){return!!sl&&sl in o}var D=bo?ya:qh;function L(o){var u=o&&o.constructor,v=typeof u=="function"&&u.prototype||Mr;return o===v}function G(o){return o===o&&!ii(o)}function Z(o,u){return function(v){return v==null?!1:v[o]===u&&(u!==r||o in Dn(v))}}function lt(o){var u=uf(o,function(_){return v.size===C&&v.clear(),_}),v=u.cache;return u}function ot(o,u){var v=o[1],_=u[1],R=v|_,X=R<(N|Y|gt),tt=_==gt&&v==K||_==gt&&v==mt&&o[7].length<=u[8]||_==(gt|mt)&&u[7].length<=u[8]&&v==K;if(!(X||tt))return o;_&N&&(o[2]=u[2],R|=v&N?0:H);var rt=u[3];if(rt){var dt=o[3];o[3]=dt?kl(dt,rt,u[4]):rt,o[4]=dt?cr(o[3],x):u[4]}return rt=u[5],rt&&(dt=o[5],o[5]=dt?Lu(dt,rt,u[6]):rt,o[6]=dt?cr(o[5],x):u[6]),rt=u[7],rt&&(o[7]=rt),_&gt&&(o[8]=o[8]==null?u[8]:ci(o[8],u[8])),o[9]==null&&(o[9]=u[9]),o[0]=u[0],o[1]=R,o}function St(o){var u=[];if(o!=null)for(var v in Dn(o))u.push(v);return u}function Nt(o){return to.call(o)}function Gt(o,u,v){return u=zn(u===r?o.length-1:u,0),function(){for(var _=arguments,R=-1,X=zn(_.length-u,0),tt=wt(X);++R<X;)tt[R]=_[u+R];R=-1;for(var rt=wt(u+1);++R<u;)rt[R]=_[R];return rt[u]=v(tt),ur(o,this,rt)}}function Jt(o,u){return u.length<2?o:Ho(o,_i(u,0,-1))}function ee(o,u){for(var v=o.length,_=ci(u.length,v),R=ir(o);_--;){var X=u[_];o[_]=l(X,v)?R[X]:r}return o}function Vt(o,u){if(!(u==="constructor"&&typeof o[u]=="function")&&u!="__proto__")return o[u]}var re=Sn(Xc),be=cl||function(o,u){return Cn.setTimeout(o,u)},ve=Sn(Ch);function Fe(o,u,v){var _=u+"";return ve(o,t(_,ei(qn(_),v)))}function Sn(o){var u=0,v=0;return function(){var _=sh(),R=it-(_-v);if(v=_,R>0){if(++u>=It)return arguments[0]}else u=0;return o.apply(r,arguments)}}function Kn(o,u){var v=-1,_=o.length,R=_-1;for(u=u===r?_:u;++v<u;){var X=wl(v,R),tt=o[X];o[X]=o[v],o[v]=tt}return o.length=u,o}var Pn=lt(function(o){var u=[];return o.charCodeAt(0)===46&&u.push(""),o.replace(We,function(v,_,R,X){u.push(R?X.replace(Nn,"$1"):_||v)}),u});function Yn(o){if(typeof o=="string"||Br(o))return o;var u=o+"";return u=="0"&&1/o==-vt?"-0":u}function ti(o){if(o!=null){try{return Ma.call(o)}catch{}try{return o+""}catch{}}return""}function ei(o,u){return yr(Ut,function(v){var _="_."+v[0];u&v[1]&&!el(o,_)&&o.push(_)}),o.sort()}function Gi(o){if(o instanceof Le)return o.clone();var u=new kn(o.__wrapped__,o.__chain__);return u.__actions__=ir(o.__actions__),u.__index__=o.__index__,u.__values__=o.__values__,u}function Ni(o,u,v){(v?s(o,u,v):u===r)?u=1:u=zn(Ke(u),0);var _=o==null?0:o.length;if(!_||u<1)return[];for(var R=0,X=0,tt=wt(ys(_/u));R<_;)tt[X++]=_i(o,R,R+=u);return tt}function fi(o){for(var u=-1,v=o==null?0:o.length,_=0,R=[];++u<v;){var X=o[u];X&&(R[_++]=X)}return R}function ni(){var o=arguments.length;if(!o)return[];for(var u=wt(o-1),v=arguments[0],_=o;_--;)u[_-1]=arguments[_];return go(Ye(v)?ir(v):[v],Ei(u,1))}var jn=qe(function(o,u){return Di(o)?_s(o,Ei(u,1,Di,!0)):[]}),Ji=qe(function(o,u){var v=lo(u);return Di(v)&&(v=r),Di(o)?_s(o,Ei(u,1,Di,!0),Ae(v,2)):[]}),ts=qe(function(o,u){var v=lo(u);return Di(v)&&(v=r),Di(o)?_s(o,Ei(u,1,Di,!0),r,v):[]});function qo(o,u,v){var _=o==null?0:o.length;return _?(u=v||u===r?1:Ke(u),_i(o,u<0?0:u,_)):[]}function Yi(o,u,v){var _=o==null?0:o.length;return _?(u=v||u===r?1:Ke(u),u=_-u,_i(o,0,u<0?0:u)):[]}function ao(o,u){return o&&o.length?As(o,Ae(u,3),!0,!0):[]}function Ti(o,u){return o&&o.length?As(o,Ae(u,3),!0):[]}function Nu(o,u,v,_){var R=o==null?0:o.length;return R?(v&&typeof v!="number"&&s(o,u,v)&&(v=0,_=R),Lc(o,u,v,_)):[]}function so(o,u,v){var _=o==null?0:o.length;if(!_)return-1;var R=v==null?0:Ke(v);return R<0&&(R=zn(_+R,0)),Ro(o,Ae(u,3),R)}function Ko(o,u,v){var _=o==null?0:o.length;if(!_)return-1;var R=_-1;return v!==r&&(R=Ke(v),R=v<0?zn(_+R,0):ci(R,_-1)),Ro(o,Ae(u,3),R,!0)}function Uo(o){var u=o==null?0:o.length;return u?Ei(o,1):[]}function qi(o){var u=o==null?0:o.length;return u?Ei(o,vt):[]}function es(o,u){var v=o==null?0:o.length;return v?(u=u===r?1:Ke(u),Ei(o,u)):[]}function $u(o){for(var u=-1,v=o==null?0:o.length,_={};++u<v;){var R=o[u];_[R[0]]=R[1]}return _}function Bd(o){return o&&o.length?o[0]:r}function av(o,u,v){var _=o==null?0:o.length;if(!_)return-1;var R=v==null?0:Ke(v);return R<0&&(R=zn(_+R,0)),In(o,u,R)}function sv(o){var u=o==null?0:o.length;return u?_i(o,0,-1):[]}var lv=qe(function(o){var u=$n(o,Os);return u.length&&u[0]===o[0]?Ha(u):[]}),uv=qe(function(o){var u=lo(o),v=$n(o,Os);return u===lo(v)?u=r:v.pop(),v.length&&v[0]===o[0]?Ha(v,Ae(u,2)):[]}),cv=qe(function(o){var u=lo(o),v=$n(o,Os);return u=typeof u=="function"?u:r,u&&v.pop(),v.length&&v[0]===o[0]?Ha(v,r,u):[]});function fv(o,u){return o==null?"":lu.call(o,u)}function lo(o){var u=o==null?0:o.length;return u?o[u-1]:r}function hv(o,u,v){var _=o==null?0:o.length;if(!_)return-1;var R=_;return v!==r&&(R=Ke(v),R=R<0?zn(_+R,0):ci(R,_-1)),u===u?rh(o,u,R):Ro(o,Kl,R,!0)}function dv(o,u){return o&&o.length?Ga(o,Ke(u)):r}var pv=qe(Yd);function Yd(o,u){return o&&o.length&&u&&u.length?Eu(o,u):o}function gv(o,u,v){return o&&o.length&&u&&u.length?Eu(o,u,Ae(v,2)):o}function mv(o,u,v){return o&&o.length&&u&&u.length?Eu(o,u,r,v):o}var vv=oo(function(o,u){var v=o==null?0:o.length,_=za(o,u);return Xi(o,$n(u,function(R){return l(R,v)?+R:R}).sort(Au)),_});function bv(o,u){var v=[];if(!(o&&o.length))return v;var _=-1,R=[],X=o.length;for(u=Ae(u,3);++_<X;){var tt=o[_];u(tt,_,o)&&(v.push(tt),R.push(_))}return Xi(o,R),v}function Rh(o){return o==null?o:ws.call(o)}function yv(o,u,v){var _=o==null?0:o.length;return _?(v&&typeof v!="number"&&s(o,u,v)?(u=0,v=_):(u=u==null?0:Ke(u),v=v===r?_:Ke(v)),_i(o,u,v)):[]}function wv(o,u){return ma(o,u)}function xv(o,u,v){return va(o,u,Ae(v,2))}function Cv(o,u){var v=o==null?0:o.length;if(v){var _=ma(o,u);if(_<v&&Eo(o[_],u))return _}return-1}function kv(o,u){return ma(o,u,!0)}function Ev(o,u,v){return va(o,u,Ae(v,2),!0)}function _v(o,u){var v=o==null?0:o.length;if(v){var _=ma(o,u,!0)-1;if(Eo(o[_],u))return _}return-1}function Sv(o){return o&&o.length?io(o):[]}function Tv(o,u){return o&&o.length?io(o,Ae(u,2)):[]}function Dv(o){var u=o==null?0:o.length;return u?_i(o,1,u):[]}function Av(o,u,v){return o&&o.length?(u=v||u===r?1:Ke(u),_i(o,0,u<0?0:u)):[]}function Lv(o,u,v){var _=o==null?0:o.length;return _?(u=v||u===r?1:Ke(u),u=_-u,_i(o,u<0?0:u,_)):[]}function Ov(o,u){return o&&o.length?As(o,Ae(u,3),!1,!0):[]}function Mv(o,u){return o&&o.length?As(o,Ae(u,3)):[]}var Rv=qe(function(o){return pr(Ei(o,1,Di,!0))}),Pv=qe(function(o){var u=lo(o);return Di(u)&&(u=r),pr(Ei(o,1,Di,!0),Ae(u,2))}),Nv=qe(function(o){var u=lo(o);return u=typeof u=="function"?u:r,pr(Ei(o,1,Di,!0),r,u)});function $v(o){return o&&o.length?pr(o):[]}function Iv(o,u){return o&&o.length?pr(o,Ae(u,2)):[]}function zv(o,u){return u=typeof u=="function"?u:r,o&&o.length?pr(o,r,u):[]}function Ph(o){if(!(o&&o.length))return[];var u=0;return o=Mo(o,function(v){if(Di(v))return u=zn(v.length,u),!0}),Zl(u,function(v){return $n(o,Ul(v))})}function jd(o,u){if(!(o&&o.length))return[];var v=Ph(o);return u==null?v:$n(v,function(_){return ur(u,r,_)})}var Wv=qe(function(o,u){return Di(o)?_s(o,u):[]}),Fv=qe(function(o){return Yo(Mo(o,Di))}),Hv=qe(function(o){var u=lo(o);return Di(u)&&(u=r),Yo(Mo(o,Di),Ae(u,2))}),Bv=qe(function(o){var u=lo(o);return u=typeof u=="function"?u:r,Yo(Mo(o,Di),r,u)}),Yv=qe(Ph);function jv(o,u){return Cl(o||[],u||[],$a)}function Xv(o,u){return Cl(o||[],u||[],qa)}var Gv=qe(function(o){var u=o.length,v=u>1?o[u-1]:r;return v=typeof v=="function"?(o.pop(),v):r,jd(o,v)});function Xd(o){var u=B(o);return u.__chain__=!0,u}function qv(o,u){return u(o),o}function af(o,u){return u(o)}var Kv=oo(function(o){var u=o.length,v=u?o[0]:0,_=this.__wrapped__,R=function(X){return za(X,o)};return u>1||this.__actions__.length||!(_ instanceof Le)||!l(v)?this.thru(R):(_=_.slice(v,+v+(u?1:0)),_.__actions__.push({func:af,args:[R],thisArg:r}),new kn(_,this.__chain__).thru(function(X){return u&&!X.length&&X.push(r),X}))});function Uv(){return Xd(this)}function Vv(){return new kn(this.value(),this.__chain__)}function Zv(){this.__values__===r&&(this.__values__=op(this.value()));var o=this.__index__>=this.__values__.length,u=o?r:this.__values__[this.__index__++];return{done:o,value:u}}function Jv(){return this}function Qv(o){for(var u,v=this;v instanceof Bi;){var _=Gi(v);_.__index__=0,_.__values__=r,u?R.__wrapped__=_:u=_;var R=_;v=v.__wrapped__}return R.__wrapped__=o,u}function tb(){var o=this.__wrapped__;if(o instanceof Le){var u=o;return this.__actions__.length&&(u=new Le(this)),u=u.reverse(),u.__actions__.push({func:af,args:[Rh],thisArg:r}),new kn(u,this.__chain__)}return this.thru(Rh)}function eb(){return Ls(this.__wrapped__,this.__actions__)}var nb=Ua(function(o,u,v){xn.call(o,v)?++o[v]:xo(o,v,1)});function ib(o,u,v){var _=Ye(o)?Xl:yh;return v&&s(o,u,v)&&(u=r),_(o,Ae(u,3))}function rb(o,u){var v=Ye(o)?Mo:ha;return v(o,Ae(u,3))}var ob=Ou(so),ab=Ou(Ko);function sb(o,u){return Ei(sf(o,u),1)}function lb(o,u){return Ei(sf(o,u),vt)}function ub(o,u,v){return v=v===r?1:Ke(v),Ei(sf(o,u),v)}function Gd(o,u){var v=Ye(o)?yr:Wr;return v(o,Ae(u,3))}function qd(o,u){var v=Ye(o)?ac:bu;return v(o,Ae(u,3))}var cb=Ua(function(o,u,v){xn.call(o,v)?o[v].push(u):xo(o,v,[u])});function fb(o,u,v,_){o=Er(o)?o:Rl(o),v=v&&!_?Ke(v):0;var R=o.length;return v<0&&(v=zn(R+v,0)),hf(o)?v<=R&&o.indexOf(u,v)>-1:!!R&&In(o,u,v)>-1}var hb=qe(function(o,u,v){var _=-1,R=typeof u=="function",X=Er(o)?wt(o.length):[];return Wr(o,function(tt){X[++_]=R?ur(u,tt,v):Ba(tt,u,v)}),X}),db=Ua(function(o,u,v){xo(o,v,u)});function sf(o,u){var v=Ye(o)?$n:Cu;return v(o,Ae(u,3))}function pb(o,u,v,_){return o==null?[]:(Ye(u)||(u=u==null?[]:[u]),v=_?r:v,Ye(v)||(v=v==null?[]:[v]),Fc(o,u,v))}var gb=Ua(function(o,u,v){o[v?0:1].push(u)},function(){return[[],[]]});function mb(o,u,v){var _=Ye(o)?ql:uc,R=arguments.length<3;return _(o,Ae(u,4),v,R,Wr)}function vb(o,u,v){var _=Ye(o)?sc:uc,R=arguments.length<3;return _(o,Ae(u,4),v,R,bu)}function bb(o,u){var v=Ye(o)?Mo:ha;return v(o,cf(Ae(u,3)))}function yb(o){var u=Ye(o)?pu:Yc;return u(o)}function wb(o,u,v){(v?s(o,u,v):u===r)?u=1:u=Ke(u);var _=Ye(o)?vh:jc;return _(o,u)}function xb(o){var u=Ye(o)?gu:kh;return u(o)}function Cb(o){if(o==null)return 0;if(Er(o))return hf(o)?Oa(o):o.length;var u=Si(o);return u==me||u==Ee?o.size:pa(o).length}function kb(o,u,v){var _=Ye(o)?Ta:Ds;return v&&s(o,u,v)&&(u=r),_(o,Ae(u,3))}var Eb=qe(function(o,u){if(o==null)return[];var v=u.length;return v>1&&s(o,u[0],u[1])?u=[]:v>2&&s(u[0],u[1],u[2])&&(u=[u[0]]),Fc(o,Ei(u,1),[])}),lf=Pa||function(){return Cn.Date.now()};function _b(o,u){if(typeof u!="function")throw new wr(p);return o=Ke(o),function(){if(--o<1)return u.apply(this,arguments)}}function Kd(o,u,v){return u=v?r:u,u=o&&u==null?o.length:u,mn(o,gt,r,r,r,r,u)}function Ud(o,u){var v;if(typeof u!="function")throw new wr(p);return o=Ke(o),function(){return--o>0&&(v=u.apply(this,arguments)),o<=1&&(u=r),v}}var Nh=qe(function(o,u,v){var _=N;if(v.length){var R=cr(v,Qa(Nh));_|=U}return mn(o,_,u,v,R)}),Vd=qe(function(o,u,v){var _=N|Y;if(v.length){var R=cr(v,Qa(Vd));_|=U}return mn(u,_,o,v,R)});function Zd(o,u,v){u=v?r:u;var _=mn(o,K,r,r,r,r,r,u);return _.placeholder=Zd.placeholder,_}function Jd(o,u,v){u=v?r:u;var _=mn(o,J,r,r,r,r,r,u);return _.placeholder=Jd.placeholder,_}function Qd(o,u,v){var _,R,X,tt,rt,dt,Wt=0,Ft=!1,Xt=!1,ae=!0;if(typeof o!="function")throw new wr(p);u=uo(u)||0,ii(v)&&(Ft=!!v.leading,Xt="maxWait"in v,X=Xt?zn(uo(v.maxWait)||0,u):X,ae="trailing"in v?!!v.trailing:ae);function xe(Ai){var _o=_,xa=R;return _=R=r,Wt=Ai,tt=o.apply(xa,_o),tt}function Re(Ai){return Wt=Ai,rt=be(ln,u),Ft?xe(Ai):tt}function Qe(Ai){var _o=Ai-dt,xa=Ai-Wt,bp=u-_o;return Xt?ci(bp,X-xa):bp}function Pe(Ai){var _o=Ai-dt,xa=Ai-Wt;return dt===r||_o>=u||_o<0||Xt&&xa>=X}function ln(){var Ai=lf();if(Pe(Ai))return vn(Ai);rt=be(ln,Qe(Ai))}function vn(Ai){return rt=r,ae&&_?xe(Ai):(_=R=r,tt)}function Yr(){rt!==r&&qc(rt),Wt=0,_=dt=R=rt=r}function gr(){return rt===r?tt:vn(lf())}function jr(){var Ai=lf(),_o=Pe(Ai);if(_=arguments,R=this,dt=Ai,_o){if(rt===r)return Re(dt);if(Xt)return qc(rt),rt=be(ln,u),xe(dt)}return rt===r&&(rt=be(ln,u)),tt}return jr.cancel=Yr,jr.flush=gr,jr}var Sb=qe(function(o,u){return Ac(o,1,u)}),Tb=qe(function(o,u,v){return Ac(o,uo(u)||0,v)});function Db(o){return mn(o,pt)}function uf(o,u){if(typeof o!="function"||u!=null&&typeof u!="function")throw new wr(p);var v=function(){var _=arguments,R=u?u.apply(this,_):_[0],X=v.cache;if(X.has(R))return X.get(R);var tt=o.apply(this,_);return v.cache=X.set(R,tt)||X,tt};return v.cache=new(uf.Cache||Ir),v}uf.Cache=Ir;function cf(o){if(typeof o!="function")throw new wr(p);return function(){var u=arguments;switch(u.length){case 0:return!o.call(this);case 1:return!o.call(this,u[0]);case 2:return!o.call(this,u[0],u[1]);case 3:return!o.call(this,u[0],u[1],u[2])}return!o.apply(this,u)}}function Ab(o){return Ud(2,o)}var Lb=Rs(function(o,u){u=u.length==1&&Ye(u[0])?$n(u[0],nr(Ae())):$n(Ei(u,1),nr(Ae()));var v=u.length;return qe(function(_){for(var R=-1,X=ci(_.length,v);++R<X;)_[R]=u[R].call(this,_[R]);return ur(o,this,_)})}),$h=qe(function(o,u){var v=cr(u,Qa($h));return mn(o,U,r,u,v)}),tp=qe(function(o,u){var v=cr(u,Qa(tp));return mn(o,nt,r,u,v)}),Ob=oo(function(o,u){return mn(o,mt,r,r,r,u)});function Mb(o,u){if(typeof o!="function")throw new wr(p);return u=u===r?u:Ke(u),qe(o,u)}function Rb(o,u){if(typeof o!="function")throw new wr(p);return u=u==null?0:zn(Ke(u),0),qe(function(v){var _=v[u],R=ko(v,0,u);return _&&go(R,_),ur(o,this,R)})}function Pb(o,u,v){var _=!0,R=!0;if(typeof o!="function")throw new wr(p);return ii(v)&&(_="leading"in v?!!v.leading:_,R="trailing"in v?!!v.trailing:R),Qd(o,u,{leading:_,maxWait:u,trailing:R})}function Nb(o){return Kd(o,1)}function $b(o,u){return $h(Ms(u),o)}function Ib(){if(!arguments.length)return[];var o=arguments[0];return Ye(o)?o:[o]}function zb(o){return hr(o,F)}function Wb(o,u){return u=typeof u=="function"?u:r,hr(o,F,u)}function Fb(o){return hr(o,S|F)}function Hb(o,u){return u=typeof u=="function"?u:r,hr(o,S|F,u)}function Bb(o,u){return u==null||vu(o,u,Ki(u))}function Eo(o,u){return o===u||o!==o&&u!==u}var Yb=$s(yl),jb=$s(function(o,u){return o>=u}),Bs=wu((function(){return arguments})())?wu:function(o){return hi(o)&&xn.call(o,"callee")&&!ul.call(o,"callee")},Ye=wt.isArray,Xb=Qs?nr(Qs):Ya;function Er(o){return o!=null&&ff(o.length)&&!ya(o)}function Di(o){return hi(o)&&Er(o)}function Gb(o){return o===!0||o===!1||hi(o)&&Pi(o)==st}var ns=ah||qh,qb=Zr?nr(Zr):Pc;function Kb(o){return hi(o)&&o.nodeType===1&&!Iu(o)}function Ub(o){if(o==null)return!0;if(Er(o)&&(Ye(o)||typeof o=="string"||typeof o.splice=="function"||ns(o)||Ml(o)||Bs(o)))return!o.length;var u=Si(o);if(u==me||u==Ee)return!o.size;if(L(o))return!pa(o).length;for(var v in o)if(xn.call(o,v))return!1;return!0}function Vb(o,u){return Bo(o,u)}function Zb(o,u,v){v=typeof v=="function"?v:r;var _=v?v(o,u):r;return _===r?Bo(o,u,r,v):!!_}function Ih(o){if(!hi(o))return!1;var u=Pi(o);return u==zt||u==Ht||typeof o.message=="string"&&typeof o.name=="string"&&!Iu(o)}function Jb(o){return typeof o=="number"&&yc(o)}function ya(o){if(!ii(o))return!1;var u=Pi(o);return u==ce||u==Oe||u==et||u==rn}function ep(o){return typeof o=="number"&&o==Ke(o)}function ff(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=Kt}function ii(o){var u=typeof o;return o!=null&&(u=="object"||u=="function")}function hi(o){return o!=null&&typeof o=="object"}var np=gs?nr(gs):Ss;function Qb(o,u){return o===u||xu(o,u,wn(u))}function ty(o,u,v){return v=typeof v=="function"?v:r,xu(o,u,wn(u),v)}function ey(o){return ip(o)&&o!=+o}function ny(o){if(D(o))throw new $e(f);return da(o)}function iy(o){return o===null}function ry(o){return o==null}function ip(o){return typeof o=="number"||hi(o)&&Pi(o)==we}function Iu(o){if(!hi(o)||Pi(o)!=ke)return!1;var u=No(o);if(u===null)return!0;var v=xn.call(u,"constructor")&&u.constructor;return typeof v=="function"&&v instanceof v&&Ma.call(v)==ia}var zh=tl?nr(tl):$c;function oy(o){return ep(o)&&o>=-Kt&&o<=Kt}var rp=ta?nr(ta):Ic;function hf(o){return typeof o=="string"||!Ye(o)&&hi(o)&&Pi(o)==ft}function Br(o){return typeof o=="symbol"||hi(o)&&Pi(o)==Bt}var Ml=oc?nr(oc):zc;function ay(o){return o===r}function sy(o){return hi(o)&&Si(o)==Se}function ly(o){return hi(o)&&Pi(o)==Fn}var uy=$s(ga),cy=$s(function(o,u){return o<=u});function op(o){if(!o)return[];if(Er(o))return hf(o)?Or(o):ir(o);if(oa&&o[oa])return ih(o[oa]());var u=Si(o),v=u==me?rl:u==Ee?fr:Rl;return v(o)}function wa(o){if(!o)return o===0?o:0;if(o=uo(o),o===vt||o===-vt){var u=o<0?-1:1;return u*ie}return o===o?o:0}function Ke(o){var u=wa(o),v=u%1;return u===u?v?u-v:u:0}function ap(o){return o?Co(Ke(o),0,Ct):0}function uo(o){if(typeof o=="number")return o;if(Br(o))return oe;if(ii(o)){var u=typeof o.valueOf=="function"?o.valueOf():o;o=ii(u)?u+"":u}if(typeof o!="string")return o===0?o:+o;o=Jl(o);var v=Mi.test(o);return v||Ar.test(o)?Qo(o.slice(2),v?2:8):vi.test(o)?oe:+o}function sp(o){return Hr(o,_r(o))}function fy(o){return o?Co(Ke(o),-Kt,Kt):o===0?o:0}function An(o){return o==null?"":dr(o)}var hy=ro(function(o,u){if(L(u)||Er(u)){Hr(u,Ki(u),o);return}for(var v in u)xn.call(u,v)&&$a(o,v,u[v])}),lp=ro(function(o,u){Hr(u,_r(u),o)}),df=ro(function(o,u,v,_){Hr(u,_r(u),o,_)}),dy=ro(function(o,u,v,_){Hr(u,Ki(u),o,_)}),py=oo(za);function gy(o,u){var v=Na(o);return u==null?v:mu(v,u)}var my=qe(function(o,u){o=Dn(o);var v=-1,_=u.length,R=_>2?u[2]:r;for(R&&s(u[0],u[1],R)&&(_=1);++v<_;)for(var X=u[v],tt=_r(X),rt=-1,dt=tt.length;++rt<dt;){var Wt=tt[rt],Ft=o[Wt];(Ft===r||Eo(Ft,Mr[Wt])&&!xn.call(o,Wt))&&(o[Wt]=X[Wt])}return o}),vy=qe(function(o){return o.push(r,Tl),ur(up,r,o)});function by(o,u){return lc(o,Ae(u,3),Cr)}function yy(o,u){return lc(o,Ae(u,3),vl)}function wy(o,u){return o==null?o:Wa(o,Ae(u,3),_r)}function xy(o,u){return o==null?o:yu(o,Ae(u,3),_r)}function Cy(o,u){return o&&Cr(o,Ae(u,3))}function ky(o,u){return o&&vl(o,Ae(u,3))}function Ey(o){return o==null?[]:bl(o,Ki(o))}function _y(o){return o==null?[]:bl(o,_r(o))}function Wh(o,u,v){var _=o==null?r:Ho(o,u);return _===r?v:_}function Sy(o,u){return o!=null&&rf(o,u,Oc)}function Fh(o,u){return o!=null&&rf(o,u,Mc)}var Ty=Mu(function(o,u,v){u!=null&&typeof u.toString!="function"&&(u=to.call(u)),o[u]=v},Bh(Sr)),Dy=Mu(function(o,u,v){u!=null&&typeof u.toString!="function"&&(u=to.call(u)),xn.call(o,u)?o[u].push(v):o[u]=[v]},Ae),Ay=qe(Ba);function Ki(o){return Er(o)?gl(o):pa(o)}function _r(o){return Er(o)?gl(o,!0):Ts(o)}function Ly(o,u){var v={};return u=Ae(u,3),Cr(o,function(_,R,X){xo(v,u(_,R,X),_)}),v}function Oy(o,u){var v={};return u=Ae(u,3),Cr(o,function(_,R,X){xo(v,R,u(_,R,X))}),v}var My=ro(function(o,u,v){Fr(o,u,v)}),up=ro(function(o,u,v,_){Fr(o,u,v,_)}),Ry=oo(function(o,u){var v={};if(o==null)return v;var _=!1;u=$n(u,function(X){return X=jo(X,o),_||(_=X.length>1),X}),Hr(o,Ll(o),v),_&&(v=hr(v,S|O|F,zs));for(var R=u.length;R--;)xl(v,u[R]);return v});function Py(o,u){return cp(o,cf(Ae(u)))}var Ny=oo(function(o,u){return o==null?{}:Hc(o,u)});function cp(o,u){if(o==null)return{};var v=$n(Ll(o),function(_){return[_]});return u=Ae(u),Bc(o,v,function(_,R){return u(_,R[0])})}function $y(o,u,v){u=jo(u,o);var _=-1,R=u.length;for(R||(R=1,o=r);++_<R;){var X=o==null?r:o[Yn(u[_])];X===r&&(_=R,X=v),o=ya(X)?X.call(o):X}return o}function Iy(o,u,v){return o==null?o:qa(o,u,v)}function zy(o,u,v,_){return _=typeof _=="function"?_:r,o==null?o:qa(o,u,v,_)}var fp=tf(Ki),hp=tf(_r);function Wy(o,u,v){var _=Ye(o),R=_||ns(o)||Ml(o);if(u=Ae(u,4),v==null){var X=o&&o.constructor;R?v=_?new X:[]:ii(o)?v=ya(X)?Na(No(o)):{}:v={}}return(R?yr:Cr)(o,function(tt,rt,dt){return u(v,tt,rt,dt)}),v}function Fy(o,u){return o==null?!0:xl(o,u)}function Hy(o,u,v){return o==null?o:Su(o,u,Ms(v))}function By(o,u,v,_){return _=typeof _=="function"?_:r,o==null?o:Su(o,u,Ms(v),_)}function Rl(o){return o==null?[]:Ql(o,Ki(o))}function Yy(o){return o==null?[]:Ql(o,_r(o))}function jy(o,u,v){return v===r&&(v=u,u=r),v!==r&&(v=uo(v),v=v===v?v:0),u!==r&&(u=uo(u),u=u===u?u:0),Co(uo(o),u,v)}function Xy(o,u,v){return u=wa(u),v===r?(v=u,u=0):v=wa(v),o=uo(o),Fa(o,u,v)}function Gy(o,u,v){if(v&&typeof v!="boolean"&&s(o,u,v)&&(u=v=r),v===r&&(typeof u=="boolean"?(v=u,u=r):typeof o=="boolean"&&(v=o,o=r)),o===r&&u===r?(o=0,u=1):(o=wa(o),u===r?(u=o,o=0):u=wa(u)),o>u){var _=o;o=u,u=_}if(v||o%1||u%1){var R=cu();return ci(o+R*(u-o+Sa("1e-"+((R+"").length-1))),u)}return wl(o,u)}var qy=Za(function(o,u,v){return u=u.toLowerCase(),o+(v?dp(u):u)});function dp(o){return Hh(An(o).toLowerCase())}function pp(o){return o=An(o),o&&o.replace(sr,cc).replace(te,"")}function Ky(o,u,v){o=An(o),u=dr(u);var _=o.length;v=v===r?_:Co(Ke(v),0,_);var R=v;return v-=u.length,v>=0&&o.slice(v,R)==u}function Uy(o){return o=An(o),o&&Be.test(o)?o.replace(dn,Qr):o}function Vy(o){return o=An(o),o&&_e.test(o)?o.replace(ue,"\\$&"):o}var Zy=Za(function(o,u,v){return o+(v?"-":"")+u.toLowerCase()}),Jy=Za(function(o,u,v){return o+(v?" ":"")+u.toLowerCase()}),Qy=Zc("toLowerCase");function tw(o,u,v){o=An(o),u=Ke(u);var _=u?Oa(o):0;if(!u||_>=u)return o;var R=(u-_)/2;return Sl(aa(R),v)+o+Sl(ys(R),v)}function ew(o,u,v){o=An(o),u=Ke(u);var _=u?Oa(o):0;return u&&_<u?o+Sl(u-_,v):o}function nw(o,u,v){o=An(o),u=Ke(u);var _=u?Oa(o):0;return u&&_<u?Sl(u-_,v)+o:o}function iw(o,u,v){return v||u==null?u=0:u&&(u=+u),fl(An(o).replace(on,""),u||0)}function rw(o,u,v){return(v?s(o,u,v):u===r)?u=1:u=Ke(u),_u(An(o),u)}function ow(){var o=arguments,u=An(o[0]);return o.length<3?u:u.replace(o[1],o[2])}var aw=Za(function(o,u,v){return o+(v?"_":"")+u.toLowerCase()});function sw(o,u,v){return v&&typeof v!="number"&&s(o,u,v)&&(u=v=r),v=v===r?Ct:v>>>0,v?(o=An(o),o&&(typeof u=="string"||u!=null&&!zh(u))&&(u=dr(u),!u&&La(o))?ko(Or(o),0,v):o.split(u,v)):[]}var lw=Za(function(o,u,v){return o+(v?" ":"")+Hh(u)});function uw(o,u,v){return o=An(o),v=v==null?0:Co(Ke(v),0,o.length),u=dr(u),o.slice(v,v+u.length)==u}function cw(o,u,v){var _=B.templateSettings;v&&s(o,u,v)&&(u=r),o=An(o),u=df({},u,_,ef);var R=df({},u.imports,_.imports,ef),X=Ki(R),tt=Ql(R,X),rt,dt,Wt=0,Ft=u.interpolate||yi,Xt="__p += '",ae=bs((u.escape||yi).source+"|"+Ft.source+"|"+(Ft===Yt?bn:yi).source+"|"+(u.evaluate||yi).source+"|$","g"),xe="//# sourceURL="+(xn.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ho+"]")+`
`;o.replace(ae,function(Pe,ln,vn,Yr,gr,jr){return vn||(vn=Yr),Xt+=o.slice(Wt,jr).replace(Kr,ea),ln&&(rt=!0,Xt+=`' +
__e(`+ln+`) +
'`),gr&&(dt=!0,Xt+=`';
`+gr+`;
__p += '`),vn&&(Xt+=`' +
((__t = (`+vn+`)) == null ? '' : __t) +
'`),Wt=jr+Pe.length,Pe}),Xt+=`';
`;var Re=xn.call(u,"variable")&&u.variable;if(!Re)Xt=`with (obj) {
`+Xt+`
}
`;else if(an.test(Re))throw new $e(g);Xt=(dt?Xt.replace(Oi,""):Xt).replace(ge,"$1").replace(Hn,"$1;"),Xt="function("+(Re||"obj")+`) {
`+(Re?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(rt?", __e = _.escape":"")+(dt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Xt+`return __p
}`;var Qe=mp(function(){return gn(X,xe+"return "+Xt).apply(r,tt)});if(Qe.source=Xt,Ih(Qe))throw Qe;return Qe}function fw(o){return An(o).toLowerCase()}function hw(o){return An(o).toUpperCase()}function dw(o,u,v){if(o=An(o),o&&(v||u===r))return Jl(o);if(!o||!(u=dr(u)))return o;var _=Or(o),R=Or(u),X=Jr(_,R),tt=ms(_,R)+1;return ko(_,X,tt).join("")}function pw(o,u,v){if(o=An(o),o&&(v||u===r))return o.slice(0,nu(o)+1);if(!o||!(u=dr(u)))return o;var _=Or(o),R=ms(_,Or(u))+1;return ko(_,0,R).join("")}function gw(o,u,v){if(o=An(o),o&&(v||u===r))return o.replace(on,"");if(!o||!(u=dr(u)))return o;var _=Or(o),R=Jr(_,Or(u));return ko(_,R).join("")}function mw(o,u){var v=ct,_=ht;if(ii(u)){var R="separator"in u?u.separator:R;v="length"in u?Ke(u.length):v,_="omission"in u?dr(u.omission):_}o=An(o);var X=o.length;if(La(o)){var tt=Or(o);X=tt.length}if(v>=X)return o;var rt=v-Oa(_);if(rt<1)return _;var dt=tt?ko(tt,0,rt).join(""):o.slice(0,rt);if(R===r)return dt+_;if(tt&&(rt+=dt.length-rt),zh(R)){if(o.slice(rt).search(R)){var Wt,Ft=dt;for(R.global||(R=bs(R.source,An(tn.exec(R))+"g")),R.lastIndex=0;Wt=R.exec(Ft);)var Xt=Wt.index;dt=dt.slice(0,Xt===r?rt:Xt)}}else if(o.indexOf(dr(R),rt)!=rt){var ae=dt.lastIndexOf(R);ae>-1&&(dt=dt.slice(0,ae))}return dt+_}function vw(o){return o=An(o),o&&ze.test(o)?o.replace(Ue,pc):o}var bw=Za(function(o,u,v){return o+(v?" ":"")+u.toUpperCase()}),Hh=Zc("toUpperCase");function gp(o,u,v){return o=An(o),u=v?r:u,u===r?fc(o)?mc(o):th(o):o.match(u)||[]}var mp=qe(function(o,u){try{return ur(o,r,u)}catch(v){return Ih(v)?v:new $e(v)}}),yw=oo(function(o,u){return yr(u,function(v){v=Yn(v),xo(o,v,Nh(o[v],o))}),o});function ww(o){var u=o==null?0:o.length,v=Ae();return o=u?$n(o,function(_){if(typeof _[1]!="function")throw new wr(p);return[v(_[0]),_[1]]}):[],qe(function(_){for(var R=-1;++R<u;){var X=o[R];if(ur(X[0],this,_))return ur(X[1],this,_)}})}function xw(o){return bh(hr(o,S))}function Bh(o){return function(){return o}}function Cw(o,u){return o==null||o!==o?u:o}var kw=Jc(),Ew=Jc(!0);function Sr(o){return o}function Yh(o){return ja(typeof o=="function"?o:hr(o,S))}function _w(o){return Wc(hr(o,S))}function Sw(o,u){return ku(o,hr(u,S))}var Tw=qe(function(o,u){return function(v){return Ba(v,o,u)}}),Dw=qe(function(o,u){return function(v){return Ba(o,v,u)}});function jh(o,u,v){var _=Ki(u),R=bl(u,_);v==null&&!(ii(u)&&(R.length||!_.length))&&(v=u,u=o,o=this,R=bl(u,Ki(u)));var X=!(ii(v)&&"chain"in v)||!!v.chain,tt=ya(o);return yr(R,function(rt){var dt=u[rt];o[rt]=dt,tt&&(o.prototype[rt]=function(){var Wt=this.__chain__;if(X||Wt){var Ft=o(this.__wrapped__),Xt=Ft.__actions__=ir(this.__actions__);return Xt.push({func:dt,args:arguments,thisArg:o}),Ft.__chain__=Wt,Ft}return dt.apply(o,go([this.value()],arguments))})}),o}function Aw(){return Cn._===this&&(Cn._=Zi),this}function Xh(){}function Lw(o){return o=Ke(o),qe(function(u){return Ga(u,o)})}var Ow=_l($n),Mw=_l(Xl),Rw=_l(Ta);function vp(o){return h(o)?Ul(Yn(o)):wh(o)}function Pw(o){return function(u){return o==null?r:Ho(o,u)}}var Nw=ba(),$w=ba(!0);function Gh(){return[]}function qh(){return!1}function Iw(){return{}}function zw(){return""}function Ww(){return!0}function Fw(o,u){if(o=Ke(o),o<1||o>Kt)return[];var v=Ct,_=ci(o,Ct);u=Ae(u),o-=Ct;for(var R=Zl(_,u);++v<o;)u(v);return R}function Hw(o){return Ye(o)?$n(o,Yn):Br(o)?[o]:ir(Pn(An(o)))}function Bw(o){var u=++vc;return An(o)+u}var Yw=Ja(function(o,u){return o+u},0),jw=Ru("ceil"),Xw=Ja(function(o,u){return o/u},1),Gw=Ru("floor");function qw(o){return o&&o.length?ml(o,Sr,yl):r}function Kw(o,u){return o&&o.length?ml(o,Ae(u,2),yl):r}function Uw(o){return Aa(o,Sr)}function Vw(o,u){return Aa(o,Ae(u,2))}function Zw(o){return o&&o.length?ml(o,Sr,ga):r}function Jw(o,u){return o&&o.length?ml(o,Ae(u,2),ga):r}var Qw=Ja(function(o,u){return o*u},1),t0=Ru("round"),e0=Ja(function(o,u){return o-u},0);function n0(o){return o&&o.length?il(o,Sr):0}function i0(o,u){return o&&o.length?il(o,Ae(u,2)):0}return B.after=_b,B.ary=Kd,B.assign=hy,B.assignIn=lp,B.assignInWith=df,B.assignWith=dy,B.at=py,B.before=Ud,B.bind=Nh,B.bindAll=yw,B.bindKey=Vd,B.castArray=Ib,B.chain=Xd,B.chunk=Ni,B.compact=fi,B.concat=ni,B.cond=ww,B.conforms=xw,B.constant=Bh,B.countBy=nb,B.create=gy,B.curry=Zd,B.curryRight=Jd,B.debounce=Qd,B.defaults=my,B.defaultsDeep=vy,B.defer=Sb,B.delay=Tb,B.difference=jn,B.differenceBy=Ji,B.differenceWith=ts,B.drop=qo,B.dropRight=Yi,B.dropRightWhile=ao,B.dropWhile=Ti,B.fill=Nu,B.filter=rb,B.flatMap=sb,B.flatMapDeep=lb,B.flatMapDepth=ub,B.flatten=Uo,B.flattenDeep=qi,B.flattenDepth=es,B.flip=Db,B.flow=kw,B.flowRight=Ew,B.fromPairs=$u,B.functions=Ey,B.functionsIn=_y,B.groupBy=cb,B.initial=sv,B.intersection=lv,B.intersectionBy=uv,B.intersectionWith=cv,B.invert=Ty,B.invertBy=Dy,B.invokeMap=hb,B.iteratee=Yh,B.keyBy=db,B.keys=Ki,B.keysIn=_r,B.map=sf,B.mapKeys=Ly,B.mapValues=Oy,B.matches=_w,B.matchesProperty=Sw,B.memoize=uf,B.merge=My,B.mergeWith=up,B.method=Tw,B.methodOf=Dw,B.mixin=jh,B.negate=cf,B.nthArg=Lw,B.omit=Ry,B.omitBy=Py,B.once=Ab,B.orderBy=pb,B.over=Ow,B.overArgs=Lb,B.overEvery=Mw,B.overSome=Rw,B.partial=$h,B.partialRight=tp,B.partition=gb,B.pick=Ny,B.pickBy=cp,B.property=vp,B.propertyOf=Pw,B.pull=pv,B.pullAll=Yd,B.pullAllBy=gv,B.pullAllWith=mv,B.pullAt=vv,B.range=Nw,B.rangeRight=$w,B.rearg=Ob,B.reject=bb,B.remove=bv,B.rest=Mb,B.reverse=Rh,B.sampleSize=wb,B.set=Iy,B.setWith=zy,B.shuffle=xb,B.slice=yv,B.sortBy=Eb,B.sortedUniq=Sv,B.sortedUniqBy=Tv,B.split=sw,B.spread=Rb,B.tail=Dv,B.take=Av,B.takeRight=Lv,B.takeRightWhile=Ov,B.takeWhile=Mv,B.tap=qv,B.throttle=Pb,B.thru=af,B.toArray=op,B.toPairs=fp,B.toPairsIn=hp,B.toPath=Hw,B.toPlainObject=sp,B.transform=Wy,B.unary=Nb,B.union=Rv,B.unionBy=Pv,B.unionWith=Nv,B.uniq=$v,B.uniqBy=Iv,B.uniqWith=zv,B.unset=Fy,B.unzip=Ph,B.unzipWith=jd,B.update=Hy,B.updateWith=By,B.values=Rl,B.valuesIn=Yy,B.without=Wv,B.words=gp,B.wrap=$b,B.xor=Fv,B.xorBy=Hv,B.xorWith=Bv,B.zip=Yv,B.zipObject=jv,B.zipObjectDeep=Xv,B.zipWith=Gv,B.entries=fp,B.entriesIn=hp,B.extend=lp,B.extendWith=df,jh(B,B),B.add=Yw,B.attempt=mp,B.camelCase=qy,B.capitalize=dp,B.ceil=jw,B.clamp=jy,B.clone=zb,B.cloneDeep=Fb,B.cloneDeepWith=Hb,B.cloneWith=Wb,B.conformsTo=Bb,B.deburr=pp,B.defaultTo=Cw,B.divide=Xw,B.endsWith=Ky,B.eq=Eo,B.escape=Uy,B.escapeRegExp=Vy,B.every=ib,B.find=ob,B.findIndex=so,B.findKey=by,B.findLast=ab,B.findLastIndex=Ko,B.findLastKey=yy,B.floor=Gw,B.forEach=Gd,B.forEachRight=qd,B.forIn=wy,B.forInRight=xy,B.forOwn=Cy,B.forOwnRight=ky,B.get=Wh,B.gt=Yb,B.gte=jb,B.has=Sy,B.hasIn=Fh,B.head=Bd,B.identity=Sr,B.includes=fb,B.indexOf=av,B.inRange=Xy,B.invoke=Ay,B.isArguments=Bs,B.isArray=Ye,B.isArrayBuffer=Xb,B.isArrayLike=Er,B.isArrayLikeObject=Di,B.isBoolean=Gb,B.isBuffer=ns,B.isDate=qb,B.isElement=Kb,B.isEmpty=Ub,B.isEqual=Vb,B.isEqualWith=Zb,B.isError=Ih,B.isFinite=Jb,B.isFunction=ya,B.isInteger=ep,B.isLength=ff,B.isMap=np,B.isMatch=Qb,B.isMatchWith=ty,B.isNaN=ey,B.isNative=ny,B.isNil=ry,B.isNull=iy,B.isNumber=ip,B.isObject=ii,B.isObjectLike=hi,B.isPlainObject=Iu,B.isRegExp=zh,B.isSafeInteger=oy,B.isSet=rp,B.isString=hf,B.isSymbol=Br,B.isTypedArray=Ml,B.isUndefined=ay,B.isWeakMap=sy,B.isWeakSet=ly,B.join=fv,B.kebabCase=Zy,B.last=lo,B.lastIndexOf=hv,B.lowerCase=Jy,B.lowerFirst=Qy,B.lt=uy,B.lte=cy,B.max=qw,B.maxBy=Kw,B.mean=Uw,B.meanBy=Vw,B.min=Zw,B.minBy=Jw,B.stubArray=Gh,B.stubFalse=qh,B.stubObject=Iw,B.stubString=zw,B.stubTrue=Ww,B.multiply=Qw,B.nth=dv,B.noConflict=Aw,B.noop=Xh,B.now=lf,B.pad=tw,B.padEnd=ew,B.padStart=nw,B.parseInt=iw,B.random=Gy,B.reduce=mb,B.reduceRight=vb,B.repeat=rw,B.replace=ow,B.result=$y,B.round=t0,B.runInContext=ut,B.sample=yb,B.size=Cb,B.snakeCase=aw,B.some=kb,B.sortedIndex=wv,B.sortedIndexBy=xv,B.sortedIndexOf=Cv,B.sortedLastIndex=kv,B.sortedLastIndexBy=Ev,B.sortedLastIndexOf=_v,B.startCase=lw,B.startsWith=uw,B.subtract=e0,B.sum=n0,B.sumBy=i0,B.template=cw,B.times=Fw,B.toFinite=wa,B.toInteger=Ke,B.toLength=ap,B.toLower=fw,B.toNumber=uo,B.toSafeInteger=fy,B.toString=An,B.toUpper=hw,B.trim=dw,B.trimEnd=pw,B.trimStart=gw,B.truncate=mw,B.unescape=vw,B.uniqueId=Bw,B.upperCase=bw,B.upperFirst=Hh,B.each=Gd,B.eachRight=qd,B.first=Bd,jh(B,(function(){var o={};return Cr(B,function(u,v){xn.call(B.prototype,v)||(o[v]=u)}),o})(),{chain:!1}),B.VERSION=c,yr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){B[o].placeholder=B}),yr(["drop","take"],function(o,u){Le.prototype[o]=function(v){v=v===r?1:zn(Ke(v),0);var _=this.__filtered__&&!u?new Le(this):this.clone();return _.__filtered__?_.__takeCount__=ci(v,_.__takeCount__):_.__views__.push({size:ci(v,Ct),type:o+(_.__dir__<0?"Right":"")}),_},Le.prototype[o+"Right"]=function(v){return this.reverse()[o](v).reverse()}}),yr(["filter","map","takeWhile"],function(o,u){var v=u+1,_=v==Tt||v==xt;Le.prototype[o]=function(R){var X=this.clone();return X.__iteratees__.push({iteratee:Ae(R,3),type:v}),X.__filtered__=X.__filtered__||_,X}}),yr(["head","last"],function(o,u){var v="take"+(u?"Right":"");Le.prototype[o]=function(){return this[v](1).value()[0]}}),yr(["initial","tail"],function(o,u){var v="drop"+(u?"":"Right");Le.prototype[o]=function(){return this.__filtered__?new Le(this):this[v](1)}}),Le.prototype.compact=function(){return this.filter(Sr)},Le.prototype.find=function(o){return this.filter(o).head()},Le.prototype.findLast=function(o){return this.reverse().find(o)},Le.prototype.invokeMap=qe(function(o,u){return typeof o=="function"?new Le(this):this.map(function(v){return Ba(v,o,u)})}),Le.prototype.reject=function(o){return this.filter(cf(Ae(o)))},Le.prototype.slice=function(o,u){o=Ke(o);var v=this;return v.__filtered__&&(o>0||u<0)?new Le(v):(o<0?v=v.takeRight(-o):o&&(v=v.drop(o)),u!==r&&(u=Ke(u),v=u<0?v.dropRight(-u):v.take(u-o)),v)},Le.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},Le.prototype.toArray=function(){return this.take(Ct)},Cr(Le.prototype,function(o,u){var v=/^(?:filter|find|map|reject)|While$/.test(u),_=/^(?:head|last)$/.test(u),R=B[_?"take"+(u=="last"?"Right":""):u],X=_||/^find/.test(u);R&&(B.prototype[u]=function(){var tt=this.__wrapped__,rt=_?[1]:arguments,dt=tt instanceof Le,Wt=rt[0],Ft=dt||Ye(tt),Xt=function(ln){var vn=R.apply(B,go([ln],rt));return _&&ae?vn[0]:vn};Ft&&v&&typeof Wt=="function"&&Wt.length!=1&&(dt=Ft=!1);var ae=this.__chain__,xe=!!this.__actions__.length,Re=X&&!ae,Qe=dt&&!xe;if(!X&&Ft){tt=Qe?tt:new Le(this);var Pe=o.apply(tt,rt);return Pe.__actions__.push({func:af,args:[Xt],thisArg:r}),new kn(Pe,ae)}return Re&&Qe?o.apply(this,rt):(Pe=this.thru(Xt),Re?_?Pe.value()[0]:Pe.value():Pe)})}),yr(["pop","push","shift","sort","splice","unshift"],function(o){var u=al[o],v=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",_=/^(?:pop|shift)$/.test(o);B.prototype[o]=function(){var R=arguments;if(_&&!this.__chain__){var X=this.value();return u.apply(Ye(X)?X:[],R)}return this[v](function(tt){return u.apply(Ye(tt)?tt:[],R)})}}),Cr(Le.prototype,function(o,u){var v=B[u];if(v){var _=v.name+"";xn.call(la,_)||(la[_]=[]),la[_].push({name:u,func:v})}}),la[El(r,Y).name]=[{name:"wrapper",func:r}],Le.prototype.clone=ki,Le.prototype.reverse=ks,Le.prototype.value=ch,B.prototype.at=Kv,B.prototype.chain=Uv,B.prototype.commit=Vv,B.prototype.next=Zv,B.prototype.plant=Qv,B.prototype.reverse=tb,B.prototype.toJSON=B.prototype.valueOf=B.prototype.value=eb,B.prototype.first=B.prototype.head,oa&&(B.prototype[oa]=Jv),B}),vo=iu();po?((po.exports=vo)._=vo,ps._=vo):Cn._=vo}).call(Cx)})(Gu,Gu.exports)),Gu.exports}var Fm=kx();const Hm={list:[],trans:null,selectedDrawer:null},Ex={drawersGetById:a=>e=>a.list.find(r=>r.id===e),getDrawerFilters:a=>a.selectedDrawer?a.selectedDrawer.filters:null},_x={drawersAddInstance({commit:a},e){a(nm,{drawer:e})},drawersRemoveInstance({commit:a},e){a(im,{drawerToRemove:e})},drawersInitData({commit:a},{drawer:e,entity:r,ids:c,filters:d,maxLength:f,minLength:p,entityName:g}){if(a(cm,{drawer:e,entity:r,ids:c,filters:d}),!c||c.length===0||!r)a(hm,{drawer:e,maxLength:f,minLength:p});else{const b=c.map(C=>C&&C.document?C.document:C);Rm(r,b,d).then(C=>{if(C&&g===Tm){const x={...C,items:c.map(function(S,O){return{document:C.items[O],hotspot:S.hotspot,imageCropAlignment:S.imageCropAlignment}})};a(hd,{drawer:e,result:x,maxLength:f,minLength:p});return}a(hd,{drawer:e,result:C,maxLength:f,minLength:p})}).catch(C=>{a(fm,{drawer:e,error:C})})}},drawersAddItem({commit:a,state:e},{drawer:r,item:c,newIndex:d}){let f=e.selectedDrawer;r&&(f=r),f.acceptMore&&a(rm,{drawer:f,item:c,newIndex:d})},drawersMoveItem(){},drawersRemoveItem({commit:a},{drawer:e,item:r}){a(om,{drawer:e,item:r})},drawersExplorerButtonClick({commit:a,dispatch:e},r){a(am,{drawer:r}),Hm.selectedDrawer.isActive?e("explorerOpen",{entity:r.entity}):e("explorerClose")},drawersDropzoneButtonClick({dispatch:a},e){e.isDropzoneEnable?a("drawersDisableDropzone",{drawer:e}):a("drawersEnableDropzone",{drawer:e})},drawersEnableDropzone({commit:a},{drawer:e}){a(lm,{drawer:e})},drawersDisableDropzone({commit:a},{drawer:e}){a(um,{drawer:e})}},Sx={[nm](a,{drawer:e}){a.list.push({entity:null,id:e._uid,isActive:!1,items:[],errorMessage:null,isLoading:!1,filters:{nodeTypes:null,nodeTypeField:null,providerClass:null},isDropzoneEnable:!1,minLength:0,maxLength:999999,acceptMore:!0})},[im](a,{drawerToRemove:e}){a.list=Fm.remove(a.list,r=>r._uid===e._uid)},[am](a,{drawer:e}){a.list.forEach(r=>{r!==e&&(r.isActive=!1)}),e.acceptMore=e.items.length<e.maxLength,e.isActive=!e.isActive,a.selectedDrawer=e},[rm](a,{drawer:e,item:r}){e.items.push(r),e.acceptMore=e.items.length<e.maxLength},[sm](a,{drawer:e,newList:r}){e.items=r,e.acceptMore=e.items.length<e.maxLength},[om](a,{drawer:e,item:r}){let c=e.items.indexOf(r);c>=0&&e.items.splice(c,1),e.acceptMore=e.items.length<e.maxLength},[Ed](a){a=Lp(a)},[hd](a,{drawer:e,result:r,maxLength:c,minLength:d}){e.isLoading=!1,e.items=r.items,e.trans=r.trans,e.maxLength=c,e.minLength=d,e.acceptMore=r.items.length<c},[cm](a,{drawer:e,entity:r,filters:c}){e.isLoading=!0,e.entity=r,e.filters=c,e.currentListingView=pd.getListingView(r)},[fm](a,{drawer:e,error:r}){e.isLoading=!1,e.errorMessage=r.message},[hm](a,{drawer:e,maxLength:r,minLength:c}){e.isLoading=!1,e.acceptMore=!0,e.maxLength=r,e.minLength=c},[cs](a){a=Lp(a)},[lm](a,{drawer:e}){a.list.forEach(r=>{r.isDropzoneEnable=!1}),e.isDropzoneEnable=!0},[um](a,{drawer:e}){e.isDropzoneEnable=!1}};function Lp(a){return a.list.forEach(e=>{e.isActive=!1,e.isDropzoneEnable=!1}),a.selectedDrawer=null,a}const Tx={state:Hm,getters:Ex,actions:_x,mutations:Sx},Dx={isOpen:!1,isLoading:!1,items:[],entity:null,icons:{normal:"uk-icon-circle-o",active:"uk-icon-circle"},selectedItem:null},Ax={...Dx},Lx={getFilterExplorerSelectedItem:a=>a.selectedItem},Ox={filterExplorerOpen({commit:a,dispatch:e,getters:r}){const c=r.getExplorerEntity;a(Kg,{entity:c}),e("explorerResetSearchTerms"),e("filterExplorerMakeSearch")},filterExplorerUpdate({commit:a,dispatch:e},{item:r}){a(_d,{item:r}),e("explorerMakeSearch")},filterExplorerClose({commit:a}){a(Ug)},filterExplorerReset({commit:a}){a(Jg)},filterExplorerToggle({dispatch:a,state:e}){e.isOpen?a("filterExplorerClose"):a("filterExplorerOpen")},filterExplorerMakeSearch({commit:a,state:e}){a(Vg);const r=e.entity;return Nm.getFilters({entity:r}).then(c=>{c?a(Zg,{result:c}):a(ud)}).catch(c=>{a(ud,{error:c})})}},Mx={[_d](a,{item:e}){a.selectedItem=e},[Vg](a){a.isLoading=!0},[Zg](a,{result:e}){a.items=e.items,a.isLoading=!1},[Kg](a,{entity:e}){switch(a.isOpen=!0,a.entity=e,e){case Wl:a.icons.normal="uk-icon-folder",a.icons.active="uk-icon-folder-open";break;case nc:a.icons.normal="uk-icon-tag",a.icons.active="uk-icon-tag";break;case Fl:a.icons.normal="uk-icon-tag",a.icons.active="uk-icon-tag";break}},[Ug](a){a.isOpen=!1},[Jg](a){a.selectedItem=null,a.items=[]},[ud](a){a.isLoading=!1,a.error="Request failed"},[cs](a){a.isLoading=!1,a.isOpen=!1,a.selectedItem=null}},Rx={state:Ax,getters:Lx,actions:Ox,mutations:Mx},Px={isReady:!1,isTagExisting:!1,isLoading:!1,searchTerms:"",error:""},Nx={tagsSearchExisting:a=>()=>a.isTagExisting},$x={tagCreatorReady({commit:a}){a(mm)},tagsCreate({commit:a,dispatch:e},{tagName:r}){a(dm,{tagName:r}),Lm({tagName:r}).then(c=>{a(pm,c),e("drawersAddItem",{item:c}),e("explorerResetSearchTerms")}).catch(c=>{a(gm,c)})}},Ix={[mm](a){a.isReady=!0},[zf](a,{searchTerms:e}){a.searchTerms=e},[kd](a,{result:e}){if(a.isTagExisting=!1,a.isReady&&a.searchTerms!=="")for(let r of e.items)r.name&&a.searchTerms&&r.name.toLowerCase()===a.searchTerms.toLowerCase()&&(a.isTagExisting=!0)},[dm](a){a.isLoading=!0},[pm](a){a.isLoading=!1},[gm](a,e){a.isLoading=!1,a.error=e.message}},zx={state:Px,getters:Nx,actions:$x,mutations:Ix},Wx={document:null,isVisible:!1,isLoading:!1},Fx={documentPreviewGetDocument:a=>a.document},Hx={documentPreviewInit({commit:a},{document:e}){a(vm,{document:e})},documentPreviewDestroy({commit:a}){a(bm)},documentPreviewClose({commit:a}){a(wm)},documentPreviewOpen({commit:a},{document:e}){a(ym,{document:e})}},Bx={[vm](a,{document:e}){e&&(a.document=e)},[bm](a){a.isVisible=!1,a.document=null},[Qg](a){a.document&&!a.isVisible?a.isVisible=!0:(a.isVisible=!1,a.document=null)},[cs](a){a.isVisible=!1,a.document=null},[ym](a,{document:e}){e&&(a.document=e,a.isVisible=!0)},[wm](a){a.isVisible=!1,a.document=null}},Yx={state:Wx,getters:Fx,actions:Hx,mutations:Bx};function jx(a){let e=atob(a.split(",")[1]),r=[];for(let d=0;d<e.length;d++)r.push(e.charCodeAt(d));const c=a.split(",")[0].split(":")[1].split(";")[0];return new Blob([new Uint8Array(r)],{type:c})}const Xx={isLoading:!0,originalUrl:"",editor:null},Gx={blanchetteEditorInit({commit:a,dispatch:e},{url:r,editor:c}){e("blanchetteEditorIsLoading"),a(xm,{url:r,editor:c})},blanchetteEditorIsLoading({commit:a}){a(dd)},blanchetteEditorLoaded({commit:a}){a(_f)},blanchetteEditorSave({commit:a,state:e},{url:r,filename:c}){const d=jx(r),f=e.editor.getElementsByTagName("form")[0];let p=new FormData(f);return p.append("form[editDocument]",d,c),a(dd),k0(p).then(async g=>{const b=await g.json();if(a(_f),b&&b.path)window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:b.message,status:"success"}})),a(km,{path:b.path});else throw new Error("No path found")}).catch(async g=>{a(Cm,{error:await g.response.json()}),a(_f)})}},qx={[xm](a,{url:e,editor:r}){a.originalUrl=e,a.editor=r},[dd](a){a.isLoading=!0},[Cm](a,{error:e}){a.error=e.message},[_f](a){a.isLoading=!1},[km](a,{path:e}){a.originalUrl=e}},Kx={state:Xx,actions:Gx,mutations:qx};qs.use(Wg);const gf=new Wg.Store({modules:{explorer:xx,filterExplorer:Rx,drawers:Tx,tags:zx,documentPreview:Yx,blanchetteEditor:Kx},state:{translations:window.RozierConfig.messages,connected:!0,healthChecked:!0},mutations:{[tm](a){a.connected=!0},[cd](a){a.connected=!1},[em](a){a.healthChecked=!0},[fd](a){a.healthChecked=!1}},actions:{escape({commit:a}){a(cs)}}});class Ux{constructor(e){this.store=e,this.init()}init(){this.bindEscape(),this.bindSpace()}bindEscape(){window.addEventListener("keyup",e=>{(e.key==="Escape"||e.keyCode===27)&&this.store.commit(cs)})}bindSpace(){window.addEventListener("keyup",e=>{if(!(!e.key==="Space"||!this.store.getters.documentPreviewGetDocument))return e.preventDefault(),this.store.commit(Qg,{event:e}),!1})}}class Vx{constructor(e){this.store=e,this.intervalDuration=1e4,this.check()}check(){this.interval&&window.clearInterval(this.interval),this.interval=window.setInterval(async()=>{try{const e=await fetch(window.RozierConfig.routes.ping,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!e.ok)e.status===401||e.status===403?this.store.commit(cd):this.store.commit(fd);else{if(new URL(e.url).pathname!==window.RozierConfig.routes.ping){this.store.commit(cd);return}(e.status===200||e.status===202)&&(this.store.commit(tm),this.store.commit(em),this.check())}}catch{this.store.commit(fd)}},this.intervalDuration)}}const Zx={name:"rz-button",props:["isActive","callback"]};var Jx=function(){var e=this,r=e._self._c;return r("button",{staticClass:"uk-button uk-button-small",class:{"uk-active":e.isActive},attrs:{type:"button"},on:{click:function(c){return c.preventDefault(),e.callback.apply(null,arguments)}}},[e._t("default")],2)},Qx=[],tC=Ui(Zx,Jx,Qx,!1,null,null);const eC=tC.exports;var Tf={exports:{}};/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Df(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Df=function(e){return typeof e}:Df=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(a)}function nC(a,e,r){return e in a?Object.defineProperty(a,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[e]=r,a}function fo(){return fo=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])}return a},fo.apply(this,arguments)}function ls(a){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},c=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(r).filter(function(d){return Object.getOwnPropertyDescriptor(r,d).enumerable}))),c.forEach(function(d){nC(a,d,r[d])})}return a}function iC(a,e){if(a==null)return{};var r={},c=Object.keys(a),d,f;for(f=0;f<c.length;f++)d=c[f],!(e.indexOf(d)>=0)&&(r[d]=a[d]);return r}function rC(a,e){if(a==null)return{};var r=iC(a,e),c,d;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(e.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(r[c]=a[c])}return r}function oC(a){return aC(a)||sC(a)||lC()}function aC(a){if(Array.isArray(a)){for(var e=0,r=new Array(a.length);e<a.length;e++)r[e]=a[e];return r}}function sC(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}function lC(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var uC="1.10.2";function Ca(a){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(a)}var ka=Ca(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ic=Ca(/Edge/i),Op=Ca(/firefox/i),gd=Ca(/safari/i)&&!Ca(/chrome/i)&&!Ca(/android/i),Bm=Ca(/iP(ad|od|hone)/i),cC=Ca(/chrome/i)&&Ca(/android/i),Ym={capture:!1,passive:!1};function hn(a,e,r){a.addEventListener(e,r,!ka&&Ym)}function nn(a,e,r){a.removeEventListener(e,r,!ka&&Ym)}function Wf(a,e){if(e){if(e[0]===">"&&(e=e.substring(1)),a)try{if(a.matches)return a.matches(e);if(a.msMatchesSelector)return a.msMatchesSelector(e);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(e)}catch{return!1}return!1}}function fC(a){return a.host&&a!==document&&a.host.nodeType?a.host:a.parentNode}function Do(a,e,r,c){if(a){r=r||document;do{if(e!=null&&(e[0]===">"?a.parentNode===r&&Wf(a,e):Wf(a,e))||c&&a===r)return a;if(a===r)break}while(a=fC(a))}return null}var Mp=/\s+/g;function oi(a,e,r){if(a&&e)if(a.classList)a.classList[r?"add":"remove"](e);else{var c=(" "+a.className+" ").replace(Mp," ").replace(" "+e+" "," ");a.className=(c+(r?" "+e:"")).replace(Mp," ")}}function ye(a,e,r){var c=a&&a.style;if(c){if(r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(a,""):a.currentStyle&&(r=a.currentStyle),e===void 0?r:r[e];!(e in c)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),c[e]=r+(typeof r=="string"?"":"px")}}function Gs(a,e){var r="";if(typeof a=="string")r=a;else do{var c=ye(a,"transform");c&&c!=="none"&&(r=c+" "+r)}while(!e&&(a=a.parentNode));var d=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return d&&new d(r)}function jm(a,e,r){if(a){var c=a.getElementsByTagName(e),d=0,f=c.length;if(r)for(;d<f;d++)r(c[d],d);return c}return[]}function Zo(){var a=document.scrollingElement;return a||document.documentElement}function gi(a,e,r,c,d){if(!(!a.getBoundingClientRect&&a!==window)){var f,p,g,b,C,x,S;if(a!==window&&a!==Zo()?(f=a.getBoundingClientRect(),p=f.top,g=f.left,b=f.bottom,C=f.right,x=f.height,S=f.width):(p=0,g=0,b=window.innerHeight,C=window.innerWidth,x=window.innerHeight,S=window.innerWidth),(e||r)&&a!==window&&(d=d||a.parentNode,!ka))do if(d&&d.getBoundingClientRect&&(ye(d,"transform")!=="none"||r&&ye(d,"position")!=="static")){var O=d.getBoundingClientRect();p-=O.top+parseInt(ye(d,"border-top-width")),g-=O.left+parseInt(ye(d,"border-left-width")),b=p+f.height,C=g+f.width;break}while(d=d.parentNode);if(c&&a!==window){var F=Gs(d||a),A=F&&F.a,I=F&&F.d;F&&(p/=I,g/=A,S/=A,x/=I,b=p+x,C=g+S)}return{top:p,left:g,bottom:b,right:C,width:S,height:x}}}function Rp(a,e,r){for(var c=as(a,!0),d=gi(a)[e];c;){var f=gi(c)[r],p=void 0;if(p=d>=f,!p)return c;if(c===Zo())break;c=as(c,!1)}return!1}function Ff(a,e,r){for(var c=0,d=0,f=a.children;d<f.length;){if(f[d].style.display!=="none"&&f[d]!==Ne.ghost&&f[d]!==Ne.dragged&&Do(f[d],r.draggable,a,!1)){if(c===e)return f[d];c++}d++}return null}function Td(a,e){for(var r=a.lastElementChild;r&&(r===Ne.ghost||ye(r,"display")==="none"||e&&!Wf(r,e));)r=r.previousElementSibling;return r||null}function pi(a,e){var r=0;if(!a||!a.parentNode)return-1;for(;a=a.previousElementSibling;)a.nodeName.toUpperCase()!=="TEMPLATE"&&a!==Ne.clone&&(!e||Wf(a,e))&&r++;return r}function Pp(a){var e=0,r=0,c=Zo();if(a)do{var d=Gs(a),f=d.a,p=d.d;e+=a.scrollLeft*f,r+=a.scrollTop*p}while(a!==c&&(a=a.parentNode));return[e,r]}function hC(a,e){for(var r in a)if(a.hasOwnProperty(r)){for(var c in e)if(e.hasOwnProperty(c)&&e[c]===a[r][c])return Number(r)}return-1}function as(a,e){if(!a||!a.getBoundingClientRect)return Zo();var r=a,c=!1;do if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var d=ye(r);if(r.clientWidth<r.scrollWidth&&(d.overflowX=="auto"||d.overflowX=="scroll")||r.clientHeight<r.scrollHeight&&(d.overflowY=="auto"||d.overflowY=="scroll")){if(!r.getBoundingClientRect||r===document.body)return Zo();if(c||e)return r;c=!0}}while(r=r.parentNode);return Zo()}function dC(a,e){if(a&&e)for(var r in e)e.hasOwnProperty(r)&&(a[r]=e[r]);return a}function Uh(a,e){return Math.round(a.top)===Math.round(e.top)&&Math.round(a.left)===Math.round(e.left)&&Math.round(a.height)===Math.round(e.height)&&Math.round(a.width)===Math.round(e.width)}var Zu;function Xm(a,e){return function(){if(!Zu){var r=arguments,c=this;r.length===1?a.call(c,r[0]):a.apply(c,r),Zu=setTimeout(function(){Zu=void 0},e)}}}function pC(){clearTimeout(Zu),Zu=void 0}function Gm(a,e,r){a.scrollLeft+=e,a.scrollTop+=r}function Dd(a){var e=window.Polymer,r=window.jQuery||window.Zepto;return e&&e.dom?e.dom(a).cloneNode(!0):r?r(a).clone(!0)[0]:a.cloneNode(!0)}function Np(a,e){ye(a,"position","absolute"),ye(a,"top",e.top),ye(a,"left",e.left),ye(a,"width",e.width),ye(a,"height",e.height)}function Vh(a){ye(a,"position",""),ye(a,"top",""),ye(a,"left",""),ye(a,"width",""),ye(a,"height","")}var or="Sortable"+new Date().getTime();function gC(){var a=[],e;return{captureAnimationState:function(){if(a=[],!!this.options.animation){var c=[].slice.call(this.el.children);c.forEach(function(d){if(!(ye(d,"display")==="none"||d===Ne.ghost)){a.push({target:d,rect:gi(d)});var f=ls({},a[a.length-1].rect);if(d.thisAnimationDuration){var p=Gs(d,!0);p&&(f.top-=p.f,f.left-=p.e)}d.fromRect=f}})}},addAnimationState:function(c){a.push(c)},removeAnimationState:function(c){a.splice(hC(a,{target:c}),1)},animateAll:function(c){var d=this;if(!this.options.animation){clearTimeout(e),typeof c=="function"&&c();return}var f=!1,p=0;a.forEach(function(g){var b=0,C=g.target,x=C.fromRect,S=gi(C),O=C.prevFromRect,F=C.prevToRect,A=g.rect,I=Gs(C,!0);I&&(S.top-=I.f,S.left-=I.e),C.toRect=S,C.thisAnimationDuration&&Uh(O,S)&&!Uh(x,S)&&(A.top-S.top)/(A.left-S.left)===(x.top-S.top)/(x.left-S.left)&&(b=vC(A,O,F,d.options)),Uh(S,x)||(C.prevFromRect=x,C.prevToRect=S,b||(b=d.options.animation),d.animate(C,A,S,b)),b&&(f=!0,p=Math.max(p,b),clearTimeout(C.animationResetTimer),C.animationResetTimer=setTimeout(function(){C.animationTime=0,C.prevFromRect=null,C.fromRect=null,C.prevToRect=null,C.thisAnimationDuration=null},b),C.thisAnimationDuration=b)}),clearTimeout(e),f?e=setTimeout(function(){typeof c=="function"&&c()},p):typeof c=="function"&&c(),a=[]},animate:function(c,d,f,p){if(p){ye(c,"transition",""),ye(c,"transform","");var g=Gs(this.el),b=g&&g.a,C=g&&g.d,x=(d.left-f.left)/(b||1),S=(d.top-f.top)/(C||1);c.animatingX=!!x,c.animatingY=!!S,ye(c,"transform","translate3d("+x+"px,"+S+"px,0)"),mC(c),ye(c,"transition","transform "+p+"ms"+(this.options.easing?" "+this.options.easing:"")),ye(c,"transform","translate3d(0,0,0)"),typeof c.animated=="number"&&clearTimeout(c.animated),c.animated=setTimeout(function(){ye(c,"transition",""),ye(c,"transform",""),c.animated=!1,c.animatingX=!1,c.animatingY=!1},p)}}}}function mC(a){return a.offsetWidth}function vC(a,e,r,c){return Math.sqrt(Math.pow(e.top-a.top,2)+Math.pow(e.left-a.left,2))/Math.sqrt(Math.pow(e.top-r.top,2)+Math.pow(e.left-r.left,2))*c.animation}var zu=[],Zh={initializeByDefault:!0},rc={mount:function(e){for(var r in Zh)Zh.hasOwnProperty(r)&&!(r in e)&&(e[r]=Zh[r]);zu.push(e)},pluginEvent:function(e,r,c){var d=this;this.eventCanceled=!1,c.cancel=function(){d.eventCanceled=!0};var f=e+"Global";zu.forEach(function(p){r[p.pluginName]&&(r[p.pluginName][f]&&r[p.pluginName][f](ls({sortable:r},c)),r.options[p.pluginName]&&r[p.pluginName][e]&&r[p.pluginName][e](ls({sortable:r},c)))})},initializePlugins:function(e,r,c,d){zu.forEach(function(g){var b=g.pluginName;if(!(!e.options[b]&&!g.initializeByDefault)){var C=new g(e,r,e.options);C.sortable=e,C.options=e.options,e[b]=C,fo(c,C.defaults)}});for(var f in e.options)if(e.options.hasOwnProperty(f)){var p=this.modifyOption(e,f,e.options[f]);typeof p<"u"&&(e.options[f]=p)}},getEventProperties:function(e,r){var c={};return zu.forEach(function(d){typeof d.eventProperties=="function"&&fo(c,d.eventProperties.call(r[d.pluginName],e))}),c},modifyOption:function(e,r,c){var d;return zu.forEach(function(f){e[f.pluginName]&&f.optionListeners&&typeof f.optionListeners[r]=="function"&&(d=f.optionListeners[r].call(e[f.pluginName],c))}),d}};function qu(a){var e=a.sortable,r=a.rootEl,c=a.name,d=a.targetEl,f=a.cloneEl,p=a.toEl,g=a.fromEl,b=a.oldIndex,C=a.newIndex,x=a.oldDraggableIndex,S=a.newDraggableIndex,O=a.originalEvent,F=a.putSortable,A=a.extraEventProperties;if(e=e||r&&r[or],!!e){var I,N=e.options,Y="on"+c.charAt(0).toUpperCase()+c.substr(1);window.CustomEvent&&!ka&&!ic?I=new CustomEvent(c,{bubbles:!0,cancelable:!0}):(I=document.createEvent("Event"),I.initEvent(c,!0,!0)),I.to=p||r,I.from=g||r,I.item=d||r,I.clone=f,I.oldIndex=b,I.newIndex=C,I.oldDraggableIndex=x,I.newDraggableIndex=S,I.originalEvent=O,I.pullMode=F?F.lastPutMode:void 0;var H=ls({},A,rc.getEventProperties(c,e));for(var K in H)I[K]=H[K];r&&r.dispatchEvent(I),N[Y]&&N[Y].call(e,I)}}var Tr=function(e,r){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=c.evt,f=rC(c,["evt"]);rc.pluginEvent.bind(Ne)(e,r,ls({dragEl:ne,parentEl:$i,ghostEl:je,rootEl:ri,nextEl:Xs,lastDownEl:Af,cloneEl:di,cloneHidden:os,dragStarted:Ku,putSortable:Qi,activeSortable:Ne.active,originalEvent:d,oldIndex:Il,oldDraggableIndex:Ju,newIndex:qr,newDraggableIndex:is,hideGhostForTarget:Vm,unhideGhostForTarget:Zm,cloneNowHidden:function(){os=!0},cloneNowShown:function(){os=!1},dispatchSortableEvent:function(g){mr({sortable:r,name:g,originalEvent:d})}},f))};function mr(a){qu(ls({putSortable:Qi,cloneEl:di,targetEl:ne,rootEl:ri,oldIndex:Il,oldDraggableIndex:Ju,newIndex:qr,newDraggableIndex:is},a))}var ne,$i,je,ri,Xs,Af,di,os,Il,qr,Ju,is,mf,Qi,$l=!1,Hf=!1,Bf=[],Ys,So,Jh,Qh,$p,Ip,Ku,Pl,Qu,tc=!1,vf=!1,Lf,rr,td=[],md=!1,Yf=[],Vf=typeof document<"u",bf=Bm,zp=ic||ka?"cssFloat":"float",bC=Vf&&!cC&&!Bm&&"draggable"in document.createElement("div"),qm=(function(){if(Vf){if(ka)return!1;var a=document.createElement("x");return a.style.cssText="pointer-events:auto",a.style.pointerEvents==="auto"}})(),Km=function(e,r){var c=ye(e),d=parseInt(c.width)-parseInt(c.paddingLeft)-parseInt(c.paddingRight)-parseInt(c.borderLeftWidth)-parseInt(c.borderRightWidth),f=Ff(e,0,r),p=Ff(e,1,r),g=f&&ye(f),b=p&&ye(p),C=g&&parseInt(g.marginLeft)+parseInt(g.marginRight)+gi(f).width,x=b&&parseInt(b.marginLeft)+parseInt(b.marginRight)+gi(p).width;if(c.display==="flex")return c.flexDirection==="column"||c.flexDirection==="column-reverse"?"vertical":"horizontal";if(c.display==="grid")return c.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(f&&g.float&&g.float!=="none"){var S=g.float==="left"?"left":"right";return p&&(b.clear==="both"||b.clear===S)?"vertical":"horizontal"}return f&&(g.display==="block"||g.display==="flex"||g.display==="table"||g.display==="grid"||C>=d&&c[zp]==="none"||p&&c[zp]==="none"&&C+x>d)?"vertical":"horizontal"},yC=function(e,r,c){var d=c?e.left:e.top,f=c?e.right:e.bottom,p=c?e.width:e.height,g=c?r.left:r.top,b=c?r.right:r.bottom,C=c?r.width:r.height;return d===g||f===b||d+p/2===g+C/2},wC=function(e,r){var c;return Bf.some(function(d){if(!Td(d)){var f=gi(d),p=d[or].options.emptyInsertThreshold,g=e>=f.left-p&&e<=f.right+p,b=r>=f.top-p&&r<=f.bottom+p;if(p&&g&&b)return c=d}}),c},Um=function(e){function r(f,p){return function(g,b,C,x){var S=g.options.group.name&&b.options.group.name&&g.options.group.name===b.options.group.name;if(f==null&&(p||S))return!0;if(f==null||f===!1)return!1;if(p&&f==="clone")return f;if(typeof f=="function")return r(f(g,b,C,x),p)(g,b,C,x);var O=(p?g:b).options.group.name;return f===!0||typeof f=="string"&&f===O||f.join&&f.indexOf(O)>-1}}var c={},d=e.group;(!d||Df(d)!="object")&&(d={name:d}),c.name=d.name,c.checkPull=r(d.pull,!0),c.checkPut=r(d.put),c.revertClone=d.revertClone,e.group=c},Vm=function(){!qm&&je&&ye(je,"display","none")},Zm=function(){!qm&&je&&ye(je,"display","")};Vf&&document.addEventListener("click",function(a){if(Hf)return a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),Hf=!1,!1},!0);var js=function(e){if(ne){e=e.touches?e.touches[0]:e;var r=wC(e.clientX,e.clientY);if(r){var c={};for(var d in e)e.hasOwnProperty(d)&&(c[d]=e[d]);c.target=c.rootEl=r,c.preventDefault=void 0,c.stopPropagation=void 0,r[or]._onDragOver(c)}}},xC=function(e){ne&&ne.parentNode[or]._isOutsideThisEl(e.target)};function Ne(a,e){if(!(a&&a.nodeType&&a.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(a));this.el=a,this.options=e=fo({},e),a[or]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(a.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Km(a,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(p,g){p.setData("Text",g.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Ne.supportPointer!==!1&&"PointerEvent"in window,emptyInsertThreshold:5};rc.initializePlugins(this,a,r);for(var c in r)!(c in e)&&(e[c]=r[c]);Um(e);for(var d in this)d.charAt(0)==="_"&&typeof this[d]=="function"&&(this[d]=this[d].bind(this));this.nativeDraggable=e.forceFallback?!1:bC,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?hn(a,"pointerdown",this._onTapStart):(hn(a,"mousedown",this._onTapStart),hn(a,"touchstart",this._onTapStart)),this.nativeDraggable&&(hn(a,"dragover",this),hn(a,"dragenter",this)),Bf.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),fo(this,gC())}Ne.prototype={constructor:Ne,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Pl=null)},_getDirection:function(e,r){return typeof this.options.direction=="function"?this.options.direction.call(this,e,r,ne):this.options.direction},_onTapStart:function(e){if(e.cancelable){var r=this,c=this.el,d=this.options,f=d.preventOnFilter,p=e.type,g=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,b=(g||e).target,C=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||b,x=d.filter;if(DC(c),!ne&&!(/mousedown|pointerdown/.test(p)&&e.button!==0||d.disabled)&&!C.isContentEditable&&(b=Do(b,d.draggable,c,!1),!(b&&b.animated)&&Af!==b)){if(Il=pi(b),Ju=pi(b,d.draggable),typeof x=="function"){if(x.call(this,e,b,this)){mr({sortable:r,rootEl:C,name:"filter",targetEl:b,toEl:c,fromEl:c}),Tr("filter",r,{evt:e}),f&&e.cancelable&&e.preventDefault();return}}else if(x&&(x=x.split(",").some(function(S){if(S=Do(C,S.trim(),c,!1),S)return mr({sortable:r,rootEl:S,name:"filter",targetEl:b,fromEl:c,toEl:c}),Tr("filter",r,{evt:e}),!0}),x)){f&&e.cancelable&&e.preventDefault();return}d.handle&&!Do(C,d.handle,c,!1)||this._prepareDragStart(e,g,b)}}},_prepareDragStart:function(e,r,c){var d=this,f=d.el,p=d.options,g=f.ownerDocument,b;if(c&&!ne&&c.parentNode===f){var C=gi(c);if(ri=f,ne=c,$i=ne.parentNode,Xs=ne.nextSibling,Af=c,mf=p.group,Ne.dragged=ne,Ys={target:ne,clientX:(r||e).clientX,clientY:(r||e).clientY},$p=Ys.clientX-C.left,Ip=Ys.clientY-C.top,this._lastX=(r||e).clientX,this._lastY=(r||e).clientY,ne.style["will-change"]="all",b=function(){if(Tr("delayEnded",d,{evt:e}),Ne.eventCanceled){d._onDrop();return}d._disableDelayedDragEvents(),!Op&&d.nativeDraggable&&(ne.draggable=!0),d._triggerDragStart(e,r),mr({sortable:d,name:"choose",originalEvent:e}),oi(ne,p.chosenClass,!0)},p.ignore.split(",").forEach(function(x){jm(ne,x.trim(),nd)}),hn(g,"dragover",js),hn(g,"mousemove",js),hn(g,"touchmove",js),hn(g,"mouseup",d._onDrop),hn(g,"touchend",d._onDrop),hn(g,"touchcancel",d._onDrop),Op&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ne.draggable=!0),Tr("delayStart",this,{evt:e}),p.delay&&(!p.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(ic||ka))){if(Ne.eventCanceled){this._onDrop();return}hn(g,"mouseup",d._disableDelayedDrag),hn(g,"touchend",d._disableDelayedDrag),hn(g,"touchcancel",d._disableDelayedDrag),hn(g,"mousemove",d._delayedDragTouchMoveHandler),hn(g,"touchmove",d._delayedDragTouchMoveHandler),p.supportPointer&&hn(g,"pointermove",d._delayedDragTouchMoveHandler),d._dragStartTimer=setTimeout(b,p.delay)}else b()}},_delayedDragTouchMoveHandler:function(e){var r=e.touches?e.touches[0]:e;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ne&&nd(ne),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;nn(e,"mouseup",this._disableDelayedDrag),nn(e,"touchend",this._disableDelayedDrag),nn(e,"touchcancel",this._disableDelayedDrag),nn(e,"mousemove",this._delayedDragTouchMoveHandler),nn(e,"touchmove",this._delayedDragTouchMoveHandler),nn(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,r){r=r||e.pointerType=="touch"&&e,!this.nativeDraggable||r?this.options.supportPointer?hn(document,"pointermove",this._onTouchMove):r?hn(document,"touchmove",this._onTouchMove):hn(document,"mousemove",this._onTouchMove):(hn(ne,"dragend",this),hn(ri,"dragstart",this._onDragStart));try{document.selection?Of(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,r){if($l=!1,ri&&ne){Tr("dragStarted",this,{evt:r}),this.nativeDraggable&&hn(document,"dragover",xC);var c=this.options;!e&&oi(ne,c.dragClass,!1),oi(ne,c.ghostClass,!0),Ne.active=this,e&&this._appendGhost(),mr({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if(So){this._lastX=So.clientX,this._lastY=So.clientY,Vm();for(var e=document.elementFromPoint(So.clientX,So.clientY),r=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(So.clientX,So.clientY),e!==r);)r=e;if(ne.parentNode[or]._isOutsideThisEl(e),r)do{if(r[or]){var c=void 0;if(c=r[or]._onDragOver({clientX:So.clientX,clientY:So.clientY,target:e,rootEl:r}),c&&!this.options.dragoverBubble)break}e=r}while(r=r.parentNode);Zm()}},_onTouchMove:function(e){if(Ys){var r=this.options,c=r.fallbackTolerance,d=r.fallbackOffset,f=e.touches?e.touches[0]:e,p=je&&Gs(je,!0),g=je&&p&&p.a,b=je&&p&&p.d,C=bf&&rr&&Pp(rr),x=(f.clientX-Ys.clientX+d.x)/(g||1)+(C?C[0]-td[0]:0)/(g||1),S=(f.clientY-Ys.clientY+d.y)/(b||1)+(C?C[1]-td[1]:0)/(b||1);if(!Ne.active&&!$l){if(c&&Math.max(Math.abs(f.clientX-this._lastX),Math.abs(f.clientY-this._lastY))<c)return;this._onDragStart(e,!0)}if(je){p?(p.e+=x-(Jh||0),p.f+=S-(Qh||0)):p={a:1,b:0,c:0,d:1,e:x,f:S};var O="matrix(".concat(p.a,",").concat(p.b,",").concat(p.c,",").concat(p.d,",").concat(p.e,",").concat(p.f,")");ye(je,"webkitTransform",O),ye(je,"mozTransform",O),ye(je,"msTransform",O),ye(je,"transform",O),Jh=x,Qh=S,So=f}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!je){var e=this.options.fallbackOnBody?document.body:ri,r=gi(ne,!0,bf,!0,e),c=this.options;if(bf){for(rr=e;ye(rr,"position")==="static"&&ye(rr,"transform")==="none"&&rr!==document;)rr=rr.parentNode;rr!==document.body&&rr!==document.documentElement?(rr===document&&(rr=Zo()),r.top+=rr.scrollTop,r.left+=rr.scrollLeft):rr=Zo(),td=Pp(rr)}je=ne.cloneNode(!0),oi(je,c.ghostClass,!1),oi(je,c.fallbackClass,!0),oi(je,c.dragClass,!0),ye(je,"transition",""),ye(je,"transform",""),ye(je,"box-sizing","border-box"),ye(je,"margin",0),ye(je,"top",r.top),ye(je,"left",r.left),ye(je,"width",r.width),ye(je,"height",r.height),ye(je,"opacity","0.8"),ye(je,"position",bf?"absolute":"fixed"),ye(je,"zIndex","100000"),ye(je,"pointerEvents","none"),Ne.ghost=je,e.appendChild(je),ye(je,"transform-origin",$p/parseInt(je.style.width)*100+"% "+Ip/parseInt(je.style.height)*100+"%")}},_onDragStart:function(e,r){var c=this,d=e.dataTransfer,f=c.options;if(Tr("dragStart",this,{evt:e}),Ne.eventCanceled){this._onDrop();return}Tr("setupClone",this),Ne.eventCanceled||(di=Dd(ne),di.draggable=!1,di.style["will-change"]="",this._hideClone(),oi(di,this.options.chosenClass,!1),Ne.clone=di),c.cloneId=Of(function(){Tr("clone",c),!Ne.eventCanceled&&(c.options.removeCloneOnHide||ri.insertBefore(di,ne),c._hideClone(),mr({sortable:c,name:"clone"}))}),!r&&oi(ne,f.dragClass,!0),r?(Hf=!0,c._loopId=setInterval(c._emulateDragOver,50)):(nn(document,"mouseup",c._onDrop),nn(document,"touchend",c._onDrop),nn(document,"touchcancel",c._onDrop),d&&(d.effectAllowed="move",f.setData&&f.setData.call(c,d,ne)),hn(document,"drop",c),ye(ne,"transform","translateZ(0)")),$l=!0,c._dragStartId=Of(c._dragStarted.bind(c,r,e)),hn(document,"selectstart",c),Ku=!0,gd&&ye(document.body,"user-select","none")},_onDragOver:function(e){var r=this.el,c=e.target,d,f,p,g=this.options,b=g.group,C=Ne.active,x=mf===b,S=g.sort,O=Qi||C,F,A=this,I=!1;if(md)return;function N(vt,Kt){Tr(vt,A,ls({evt:e,isOwner:x,axis:F?"vertical":"horizontal",revert:p,dragRect:d,targetRect:f,canSort:S,fromSortable:O,target:c,completed:H,onMove:function(oe,Ct){return ed(ri,r,ne,d,oe,gi(oe),e,Ct)},changed:K},Kt))}function Y(){N("dragOverAnimationCapture"),A.captureAnimationState(),A!==O&&O.captureAnimationState()}function H(vt){return N("dragOverCompleted",{insertion:vt}),vt&&(x?C._hideClone():C._showClone(A),A!==O&&(oi(ne,Qi?Qi.options.ghostClass:C.options.ghostClass,!1),oi(ne,g.ghostClass,!0)),Qi!==A&&A!==Ne.active?Qi=A:A===Ne.active&&Qi&&(Qi=null),O===A&&(A._ignoreWhileAnimating=c),A.animateAll(function(){N("dragOverAnimationComplete"),A._ignoreWhileAnimating=null}),A!==O&&(O.animateAll(),O._ignoreWhileAnimating=null)),(c===ne&&!ne.animated||c===r&&!c.animated)&&(Pl=null),!g.dragoverBubble&&!e.rootEl&&c!==document&&(ne.parentNode[or]._isOutsideThisEl(e.target),!vt&&js(e)),!g.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),I=!0}function K(){qr=pi(ne),is=pi(ne,g.draggable),mr({sortable:A,name:"change",toEl:r,newIndex:qr,newDraggableIndex:is,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),c=Do(c,g.draggable,r,!0),N("dragOver"),Ne.eventCanceled)return I;if(ne.contains(e.target)||c.animated&&c.animatingX&&c.animatingY||A._ignoreWhileAnimating===c)return H(!1);if(Hf=!1,C&&!g.disabled&&(x?S||(p=!ri.contains(ne)):Qi===this||(this.lastPutMode=mf.checkPull(this,C,ne,e))&&b.checkPut(this,C,ne,e))){if(F=this._getDirection(e,c)==="vertical",d=gi(ne),N("dragOverValid"),Ne.eventCanceled)return I;if(p)return $i=ri,Y(),this._hideClone(),N("revert"),Ne.eventCanceled||(Xs?ri.insertBefore(ne,Xs):ri.appendChild(ne)),H(!0);var J=Td(r,g.draggable);if(!J||EC(e,F,this)&&!J.animated){if(J===ne)return H(!1);if(J&&r===e.target&&(c=J),c&&(f=gi(c)),ed(ri,r,ne,d,c,f,e,!!c)!==!1)return Y(),r.appendChild(ne),$i=r,K(),H(!0)}else if(c.parentNode===r){f=gi(c);var U=0,nt,gt=ne.parentNode!==r,mt=!yC(ne.animated&&ne.toRect||d,c.animated&&c.toRect||f,F),pt=F?"top":"left",ct=Rp(c,"top","top")||Rp(ne,"top","top"),ht=ct?ct.scrollTop:void 0;Pl!==c&&(nt=f[pt],tc=!1,vf=!mt&&g.invertSwap||gt),U=_C(e,c,f,F,mt?1:g.swapThreshold,g.invertedSwapThreshold==null?g.swapThreshold:g.invertedSwapThreshold,vf,Pl===c);var It;if(U!==0){var it=pi(ne);do it-=U,It=$i.children[it];while(It&&(ye(It,"display")==="none"||It===je))}if(U===0||It===c)return H(!1);Pl=c,Qu=U;var Tt=c.nextElementSibling,M=!1;M=U===1;var xt=ed(ri,r,ne,d,c,f,e,M);if(xt!==!1)return(xt===1||xt===-1)&&(M=xt===1),md=!0,setTimeout(kC,30),Y(),M&&!Tt?r.appendChild(ne):c.parentNode.insertBefore(ne,M?Tt:c),ct&&Gm(ct,0,ht-ct.scrollTop),$i=ne.parentNode,nt!==void 0&&!vf&&(Lf=Math.abs(nt-gi(c)[pt])),K(),H(!0)}if(r.contains(ne))return H(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){nn(document,"mousemove",this._onTouchMove),nn(document,"touchmove",this._onTouchMove),nn(document,"pointermove",this._onTouchMove),nn(document,"dragover",js),nn(document,"mousemove",js),nn(document,"touchmove",js)},_offUpEvents:function(){var e=this.el.ownerDocument;nn(e,"mouseup",this._onDrop),nn(e,"touchend",this._onDrop),nn(e,"pointerup",this._onDrop),nn(e,"touchcancel",this._onDrop),nn(document,"selectstart",this)},_onDrop:function(e){var r=this.el,c=this.options;if(qr=pi(ne),is=pi(ne,c.draggable),Tr("drop",this,{evt:e}),$i=ne&&ne.parentNode,qr=pi(ne),is=pi(ne,c.draggable),Ne.eventCanceled){this._nulling();return}$l=!1,vf=!1,tc=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),vd(this.cloneId),vd(this._dragStartId),this.nativeDraggable&&(nn(document,"drop",this),nn(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),gd&&ye(document.body,"user-select",""),ye(ne,"transform",""),e&&(Ku&&(e.cancelable&&e.preventDefault(),!c.dropBubble&&e.stopPropagation()),je&&je.parentNode&&je.parentNode.removeChild(je),(ri===$i||Qi&&Qi.lastPutMode!=="clone")&&di&&di.parentNode&&di.parentNode.removeChild(di),ne&&(this.nativeDraggable&&nn(ne,"dragend",this),nd(ne),ne.style["will-change"]="",Ku&&!$l&&oi(ne,Qi?Qi.options.ghostClass:this.options.ghostClass,!1),oi(ne,this.options.chosenClass,!1),mr({sortable:this,name:"unchoose",toEl:$i,newIndex:null,newDraggableIndex:null,originalEvent:e}),ri!==$i?(qr>=0&&(mr({rootEl:$i,name:"add",toEl:$i,fromEl:ri,originalEvent:e}),mr({sortable:this,name:"remove",toEl:$i,originalEvent:e}),mr({rootEl:$i,name:"sort",toEl:$i,fromEl:ri,originalEvent:e}),mr({sortable:this,name:"sort",toEl:$i,originalEvent:e})),Qi&&Qi.save()):qr!==Il&&qr>=0&&(mr({sortable:this,name:"update",toEl:$i,originalEvent:e}),mr({sortable:this,name:"sort",toEl:$i,originalEvent:e})),Ne.active&&((qr==null||qr===-1)&&(qr=Il,is=Ju),mr({sortable:this,name:"end",toEl:$i,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Tr("nulling",this),ri=ne=$i=je=Xs=di=Af=os=Ys=So=Ku=qr=is=Il=Ju=Pl=Qu=Qi=mf=Ne.dragged=Ne.ghost=Ne.clone=Ne.active=null,Yf.forEach(function(e){e.checked=!0}),Yf.length=Jh=Qh=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ne&&(this._onDragOver(e),CC(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],r,c=this.el.children,d=0,f=c.length,p=this.options;d<f;d++)r=c[d],Do(r,p.draggable,this.el,!1)&&e.push(r.getAttribute(p.dataIdAttr)||TC(r));return e},sort:function(e){var r={},c=this.el;this.toArray().forEach(function(d,f){var p=c.children[f];Do(p,this.options.draggable,c,!1)&&(r[d]=p)},this),e.forEach(function(d){r[d]&&(c.removeChild(r[d]),c.appendChild(r[d]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,r){return Do(e,r||this.options.draggable,this.el,!1)},option:function(e,r){var c=this.options;if(r===void 0)return c[e];var d=rc.modifyOption(this,e,r);typeof d<"u"?c[e]=d:c[e]=r,e==="group"&&Um(c)},destroy:function(){Tr("destroy",this);var e=this.el;e[or]=null,nn(e,"mousedown",this._onTapStart),nn(e,"touchstart",this._onTapStart),nn(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(nn(e,"dragover",this),nn(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Bf.splice(Bf.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!os){if(Tr("hideClone",this),Ne.eventCanceled)return;ye(di,"display","none"),this.options.removeCloneOnHide&&di.parentNode&&di.parentNode.removeChild(di),os=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(os){if(Tr("showClone",this),Ne.eventCanceled)return;ri.contains(ne)&&!this.options.group.revertClone?ri.insertBefore(di,ne):Xs?ri.insertBefore(di,Xs):ri.appendChild(di),this.options.group.revertClone&&this.animate(ne,di),ye(di,"display",""),os=!1}}};function CC(a){a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.cancelable&&a.preventDefault()}function ed(a,e,r,c,d,f,p,g){var b,C=a[or],x=C.options.onMove,S;return window.CustomEvent&&!ka&&!ic?b=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent("move",!0,!0)),b.to=e,b.from=a,b.dragged=r,b.draggedRect=c,b.related=d||e,b.relatedRect=f||gi(e),b.willInsertAfter=g,b.originalEvent=p,a.dispatchEvent(b),x&&(S=x.call(C,b,p)),S}function nd(a){a.draggable=!1}function kC(){md=!1}function EC(a,e,r){var c=gi(Td(r.el,r.options.draggable)),d=10;return e?a.clientX>c.right+d||a.clientX<=c.right&&a.clientY>c.bottom&&a.clientX>=c.left:a.clientX>c.right&&a.clientY>c.top||a.clientX<=c.right&&a.clientY>c.bottom+d}function _C(a,e,r,c,d,f,p,g){var b=c?a.clientY:a.clientX,C=c?r.height:r.width,x=c?r.top:r.left,S=c?r.bottom:r.right,O=!1;if(!p){if(g&&Lf<C*d){if(!tc&&(Qu===1?b>x+C*f/2:b<S-C*f/2)&&(tc=!0),tc)O=!0;else if(Qu===1?b<x+Lf:b>S-Lf)return-Qu}else if(b>x+C*(1-d)/2&&b<S-C*(1-d)/2)return SC(e)}return O=O||p,O&&(b<x+C*f/2||b>S-C*f/2)?b>x+C/2?1:-1:0}function SC(a){return pi(ne)<pi(a)?1:-1}function TC(a){for(var e=a.tagName+a.className+a.src+a.href+a.textContent,r=e.length,c=0;r--;)c+=e.charCodeAt(r);return c.toString(36)}function DC(a){Yf.length=0;for(var e=a.getElementsByTagName("input"),r=e.length;r--;){var c=e[r];c.checked&&Yf.push(c)}}function Of(a){return setTimeout(a,0)}function vd(a){return clearTimeout(a)}Vf&&hn(document,"touchmove",function(a){(Ne.active||$l)&&a.cancelable&&a.preventDefault()});Ne.utils={on:hn,off:nn,css:ye,find:jm,is:function(e,r){return!!Do(e,r,e,!1)},extend:dC,throttle:Xm,closest:Do,toggleClass:oi,clone:Dd,index:pi,nextTick:Of,cancelNextTick:vd,detectDirection:Km,getChild:Ff};Ne.get=function(a){return a[or]};Ne.mount=function(){for(var a=arguments.length,e=new Array(a),r=0;r<a;r++)e[r]=arguments[r];e[0].constructor===Array&&(e=e[0]),e.forEach(function(c){if(!c.prototype||!c.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(c));c.utils&&(Ne.utils=ls({},Ne.utils,c.utils)),rc.mount(c)})};Ne.create=function(a,e){return new Ne(a,e)};Ne.version=uC;var Ii=[],Uu,bd,yd=!1,id,rd,jf,Vu;function AC(){function a(){this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return a.prototype={dragStarted:function(r){var c=r.originalEvent;this.sortable.nativeDraggable?hn(document,"dragover",this._handleAutoScroll):this.options.supportPointer?hn(document,"pointermove",this._handleFallbackAutoScroll):c.touches?hn(document,"touchmove",this._handleFallbackAutoScroll):hn(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var c=r.originalEvent;!this.options.dragOverBubble&&!c.rootEl&&this._handleAutoScroll(c)},drop:function(){this.sortable.nativeDraggable?nn(document,"dragover",this._handleAutoScroll):(nn(document,"pointermove",this._handleFallbackAutoScroll),nn(document,"touchmove",this._handleFallbackAutoScroll),nn(document,"mousemove",this._handleFallbackAutoScroll)),Wp(),Mf(),pC()},nulling:function(){jf=bd=Uu=yd=Vu=id=rd=null,Ii.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,c){var d=this,f=(r.touches?r.touches[0]:r).clientX,p=(r.touches?r.touches[0]:r).clientY,g=document.elementFromPoint(f,p);if(jf=r,c||ic||ka||gd){od(r,this.options,g,c);var b=as(g,!0);yd&&(!Vu||f!==id||p!==rd)&&(Vu&&Wp(),Vu=setInterval(function(){var C=as(document.elementFromPoint(f,p),!0);C!==b&&(b=C,Mf()),od(r,d.options,C,c)},10),id=f,rd=p)}else{if(!this.options.bubbleScroll||as(g,!0)===Zo()){Mf();return}od(r,this.options,as(g,!1),!1)}}},fo(a,{pluginName:"scroll",initializeByDefault:!0})}function Mf(){Ii.forEach(function(a){clearInterval(a.pid)}),Ii=[]}function Wp(){clearInterval(Vu)}var od=Xm(function(a,e,r,c){if(e.scroll){var d=(a.touches?a.touches[0]:a).clientX,f=(a.touches?a.touches[0]:a).clientY,p=e.scrollSensitivity,g=e.scrollSpeed,b=Zo(),C=!1,x;bd!==r&&(bd=r,Mf(),Uu=e.scroll,x=e.scrollFn,Uu===!0&&(Uu=as(r,!0)));var S=0,O=Uu;do{var F=O,A=gi(F),I=A.top,N=A.bottom,Y=A.left,H=A.right,K=A.width,J=A.height,U=void 0,nt=void 0,gt=F.scrollWidth,mt=F.scrollHeight,pt=ye(F),ct=F.scrollLeft,ht=F.scrollTop;F===b?(U=K<gt&&(pt.overflowX==="auto"||pt.overflowX==="scroll"||pt.overflowX==="visible"),nt=J<mt&&(pt.overflowY==="auto"||pt.overflowY==="scroll"||pt.overflowY==="visible")):(U=K<gt&&(pt.overflowX==="auto"||pt.overflowX==="scroll"),nt=J<mt&&(pt.overflowY==="auto"||pt.overflowY==="scroll"));var It=U&&(Math.abs(H-d)<=p&&ct+K<gt)-(Math.abs(Y-d)<=p&&!!ct),it=nt&&(Math.abs(N-f)<=p&&ht+J<mt)-(Math.abs(I-f)<=p&&!!ht);if(!Ii[S])for(var Tt=0;Tt<=S;Tt++)Ii[Tt]||(Ii[Tt]={});(Ii[S].vx!=It||Ii[S].vy!=it||Ii[S].el!==F)&&(Ii[S].el=F,Ii[S].vx=It,Ii[S].vy=it,clearInterval(Ii[S].pid),(It!=0||it!=0)&&(C=!0,Ii[S].pid=setInterval((function(){c&&this.layer===0&&Ne.active._onTouchMove(jf);var M=Ii[this.layer].vy?Ii[this.layer].vy*g:0,xt=Ii[this.layer].vx?Ii[this.layer].vx*g:0;typeof x=="function"&&x.call(Ne.dragged.parentNode[or],xt,M,a,jf,Ii[this.layer].el)!=="continue"||Gm(Ii[this.layer].el,xt,M)}).bind({layer:S}),24))),S++}while(e.bubbleScroll&&O!==b&&(O=as(O,!1)));yd=C}},30),Jm=function(e){var r=e.originalEvent,c=e.putSortable,d=e.dragEl,f=e.activeSortable,p=e.dispatchSortableEvent,g=e.hideGhostForTarget,b=e.unhideGhostForTarget;if(r){var C=c||f;g();var x=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,S=document.elementFromPoint(x.clientX,x.clientY);b(),C&&!C.el.contains(S)&&(p("spill"),this.onSpill({dragEl:d,putSortable:c}))}};function Ad(){}Ad.prototype={startIndex:null,dragStart:function(e){var r=e.oldDraggableIndex;this.startIndex=r},onSpill:function(e){var r=e.dragEl,c=e.putSortable;this.sortable.captureAnimationState(),c&&c.captureAnimationState();var d=Ff(this.sortable.el,this.startIndex,this.options);d?this.sortable.el.insertBefore(r,d):this.sortable.el.appendChild(r),this.sortable.animateAll(),c&&c.animateAll()},drop:Jm};fo(Ad,{pluginName:"revertOnSpill"});function Ld(){}Ld.prototype={onSpill:function(e){var r=e.dragEl,c=e.putSortable,d=c||this.sortable;d.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),d.animateAll()},drop:Jm};fo(Ld,{pluginName:"removeOnSpill"});var co;function LC(){function a(){this.defaults={swapClass:"sortable-swap-highlight"}}return a.prototype={dragStart:function(r){var c=r.dragEl;co=c},dragOverValid:function(r){var c=r.completed,d=r.target,f=r.onMove,p=r.activeSortable,g=r.changed,b=r.cancel;if(p.options.swap){var C=this.sortable.el,x=this.options;if(d&&d!==C){var S=co;f(d)!==!1?(oi(d,x.swapClass,!0),co=d):co=null,S&&S!==co&&oi(S,x.swapClass,!1)}g(),c(!0),b()}},drop:function(r){var c=r.activeSortable,d=r.putSortable,f=r.dragEl,p=d||this.sortable,g=this.options;co&&oi(co,g.swapClass,!1),co&&(g.swap||d&&d.options.swap)&&f!==co&&(p.captureAnimationState(),p!==c&&c.captureAnimationState(),OC(f,co),p.animateAll(),p!==c&&c.animateAll())},nulling:function(){co=null}},fo(a,{pluginName:"swap",eventProperties:function(){return{swapItem:co}}})}function OC(a,e){var r=a.parentNode,c=e.parentNode,d,f;!r||!c||r.isEqualNode(e)||c.isEqualNode(a)||(d=pi(a),f=pi(e),r.isEqualNode(c)&&d<f&&f++,r.insertBefore(e,r.children[d]),c.insertBefore(a,c.children[f]))}var He=[],Gr=[],Wu,To,Fu=!1,Xr=!1,Nl=!1,Wn,Hu,yf;function MC(){function a(e){for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));e.options.supportPointer?hn(document,"pointerup",this._deselectMultiDrag):(hn(document,"mouseup",this._deselectMultiDrag),hn(document,"touchend",this._deselectMultiDrag)),hn(document,"keydown",this._checkKeyDown),hn(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(d,f){var p="";He.length&&To===e?He.forEach(function(g,b){p+=(b?", ":"")+g.textContent}):p=f.textContent,d.setData("Text",p)}}}return a.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(r){var c=r.dragEl;Wn=c},delayEnded:function(){this.isMultiDrag=~He.indexOf(Wn)},setupClone:function(r){var c=r.sortable,d=r.cancel;if(this.isMultiDrag){for(var f=0;f<He.length;f++)Gr.push(Dd(He[f])),Gr[f].sortableIndex=He[f].sortableIndex,Gr[f].draggable=!1,Gr[f].style["will-change"]="",oi(Gr[f],this.options.selectedClass,!1),He[f]===Wn&&oi(Gr[f],this.options.chosenClass,!1);c._hideClone(),d()}},clone:function(r){var c=r.sortable,d=r.rootEl,f=r.dispatchSortableEvent,p=r.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||He.length&&To===c&&(Fp(!0,d),f("clone"),p()))},showClone:function(r){var c=r.cloneNowShown,d=r.rootEl,f=r.cancel;this.isMultiDrag&&(Fp(!1,d),Gr.forEach(function(p){ye(p,"display","")}),c(),yf=!1,f())},hideClone:function(r){var c=this;r.sortable;var d=r.cloneNowHidden,f=r.cancel;this.isMultiDrag&&(Gr.forEach(function(p){ye(p,"display","none"),c.options.removeCloneOnHide&&p.parentNode&&p.parentNode.removeChild(p)}),d(),yf=!0,f())},dragStartGlobal:function(r){r.sortable,!this.isMultiDrag&&To&&To.multiDrag._deselectMultiDrag(),He.forEach(function(c){c.sortableIndex=pi(c)}),He=He.sort(function(c,d){return c.sortableIndex-d.sortableIndex}),Nl=!0},dragStarted:function(r){var c=this,d=r.sortable;if(this.isMultiDrag){if(this.options.sort&&(d.captureAnimationState(),this.options.animation)){He.forEach(function(p){p!==Wn&&ye(p,"position","absolute")});var f=gi(Wn,!1,!0,!0);He.forEach(function(p){p!==Wn&&Np(p,f)}),Xr=!0,Fu=!0}d.animateAll(function(){Xr=!1,Fu=!1,c.options.animation&&He.forEach(function(p){Vh(p)}),c.options.sort&&wf()})}},dragOver:function(r){var c=r.target,d=r.completed,f=r.cancel;Xr&&~He.indexOf(c)&&(d(!1),f())},revert:function(r){var c=r.fromSortable,d=r.rootEl,f=r.sortable,p=r.dragRect;He.length>1&&(He.forEach(function(g){f.addAnimationState({target:g,rect:Xr?gi(g):p}),Vh(g),g.fromRect=p,c.removeAnimationState(g)}),Xr=!1,RC(!this.options.removeCloneOnHide,d))},dragOverCompleted:function(r){var c=r.sortable,d=r.isOwner,f=r.insertion,p=r.activeSortable,g=r.parentEl,b=r.putSortable,C=this.options;if(f){if(d&&p._hideClone(),Fu=!1,C.animation&&He.length>1&&(Xr||!d&&!p.options.sort&&!b)){var x=gi(Wn,!1,!0,!0);He.forEach(function(O){O!==Wn&&(Np(O,x),g.appendChild(O))}),Xr=!0}if(!d)if(Xr||wf(),He.length>1){var S=yf;p._showClone(c),p.options.animation&&!yf&&S&&Gr.forEach(function(O){p.addAnimationState({target:O,rect:Hu}),O.fromRect=Hu,O.thisAnimationDuration=null})}else p._showClone(c)}},dragOverAnimationCapture:function(r){var c=r.dragRect,d=r.isOwner,f=r.activeSortable;if(He.forEach(function(g){g.thisAnimationDuration=null}),f.options.animation&&!d&&f.multiDrag.isMultiDrag){Hu=fo({},c);var p=Gs(Wn,!0);Hu.top-=p.f,Hu.left-=p.e}},dragOverAnimationComplete:function(){Xr&&(Xr=!1,wf())},drop:function(r){var c=r.originalEvent,d=r.rootEl,f=r.parentEl,p=r.sortable,g=r.dispatchSortableEvent,b=r.oldIndex,C=r.putSortable,x=C||this.sortable;if(c){var S=this.options,O=f.children;if(!Nl)if(S.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),oi(Wn,S.selectedClass,!~He.indexOf(Wn)),~He.indexOf(Wn))He.splice(He.indexOf(Wn),1),Wu=null,qu({sortable:p,rootEl:d,name:"deselect",targetEl:Wn});else{if(He.push(Wn),qu({sortable:p,rootEl:d,name:"select",targetEl:Wn}),c.shiftKey&&Wu&&p.el.contains(Wu)){var F=pi(Wu),A=pi(Wn);if(~F&&~A&&F!==A){var I,N;for(A>F?(N=F,I=A):(N=A,I=F+1);N<I;N++)~He.indexOf(O[N])||(oi(O[N],S.selectedClass,!0),He.push(O[N]),qu({sortable:p,rootEl:d,name:"select",targetEl:O[N]}))}}else Wu=Wn;To=x}if(Nl&&this.isMultiDrag){if((f[or].options.sort||f!==d)&&He.length>1){var Y=gi(Wn),H=pi(Wn,":not(."+this.options.selectedClass+")");if(!Fu&&S.animation&&(Wn.thisAnimationDuration=null),x.captureAnimationState(),!Fu&&(S.animation&&(Wn.fromRect=Y,He.forEach(function(J){if(J.thisAnimationDuration=null,J!==Wn){var U=Xr?gi(J):Y;J.fromRect=U,x.addAnimationState({target:J,rect:U})}})),wf(),He.forEach(function(J){O[H]?f.insertBefore(J,O[H]):f.appendChild(J),H++}),b===pi(Wn))){var K=!1;He.forEach(function(J){if(J.sortableIndex!==pi(J)){K=!0;return}}),K&&g("update")}He.forEach(function(J){Vh(J)}),x.animateAll()}To=x}(d===f||C&&C.lastPutMode!=="clone")&&Gr.forEach(function(J){J.parentNode&&J.parentNode.removeChild(J)})}},nullingGlobal:function(){this.isMultiDrag=Nl=!1,Gr.length=0},destroyGlobal:function(){this._deselectMultiDrag(),nn(document,"pointerup",this._deselectMultiDrag),nn(document,"mouseup",this._deselectMultiDrag),nn(document,"touchend",this._deselectMultiDrag),nn(document,"keydown",this._checkKeyDown),nn(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(r){if(!(typeof Nl<"u"&&Nl)&&To===this.sortable&&!(r&&Do(r.target,this.options.draggable,this.sortable.el,!1))&&!(r&&r.button!==0))for(;He.length;){var c=He[0];oi(c,this.options.selectedClass,!1),He.shift(),qu({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:c})}},_checkKeyDown:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},fo(a,{pluginName:"multiDrag",utils:{select:function(r){var c=r.parentNode[or];!c||!c.options.multiDrag||~He.indexOf(r)||(To&&To!==c&&(To.multiDrag._deselectMultiDrag(),To=c),oi(r,c.options.selectedClass,!0),He.push(r))},deselect:function(r){var c=r.parentNode[or],d=He.indexOf(r);!c||!c.options.multiDrag||!~d||(oi(r,c.options.selectedClass,!1),He.splice(d,1))}},eventProperties:function(){var r=this,c=[],d=[];return He.forEach(function(f){c.push({multiDragElement:f,index:f.sortableIndex});var p;Xr&&f!==Wn?p=-1:Xr?p=pi(f,":not(."+r.options.selectedClass+")"):p=pi(f),d.push({multiDragElement:f,index:p})}),{items:oC(He),clones:[].concat(Gr),oldIndicies:c,newIndicies:d}},optionListeners:{multiDragKey:function(r){return r=r.toLowerCase(),r==="ctrl"?r="Control":r.length>1&&(r=r.charAt(0).toUpperCase()+r.substr(1)),r}}})}function RC(a,e){He.forEach(function(r,c){var d=e.children[r.sortableIndex+(a?Number(c):0)];d?e.insertBefore(r,d):e.appendChild(r)})}function Fp(a,e){Gr.forEach(function(r,c){var d=e.children[r.sortableIndex+(a?Number(c):0)];d?e.insertBefore(r,d):e.appendChild(r)})}function wf(){He.forEach(function(a){a!==Wn&&a.parentNode&&a.parentNode.removeChild(a)})}Ne.mount(new AC);Ne.mount(Ld,Ad);const PC=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:MC,Sortable:Ne,Swap:LC,default:Ne},Symbol.toStringTag,{value:"Module"})),NC=Fg(PC);var $C=Tf.exports,Hp;function IC(){return Hp||(Hp=1,(function(a,e){(function(c,d){a.exports=d(NC)})(typeof self<"u"?self:$C,function(r){return(function(c){var d={};function f(p){if(d[p])return d[p].exports;var g=d[p]={i:p,l:!1,exports:{}};return c[p].call(g.exports,g,g.exports,f),g.l=!0,g.exports}return f.m=c,f.c=d,f.d=function(p,g,b){f.o(p,g)||Object.defineProperty(p,g,{enumerable:!0,get:b})},f.r=function(p){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},f.t=function(p,g){if(g&1&&(p=f(p)),g&8||g&4&&typeof p=="object"&&p&&p.__esModule)return p;var b=Object.create(null);if(f.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:p}),g&2&&typeof p!="string")for(var C in p)f.d(b,C,(function(x){return p[x]}).bind(null,C));return b},f.n=function(p){var g=p&&p.__esModule?function(){return p.default}:function(){return p};return f.d(g,"a",g),g},f.o=function(p,g){return Object.prototype.hasOwnProperty.call(p,g)},f.p="",f(f.s="fb15")})({"01f9":(function(c,d,f){var p=f("2d00"),g=f("5ca1"),b=f("2aba"),C=f("32e9"),x=f("84f2"),S=f("41a0"),O=f("7f20"),F=f("38fd"),A=f("2b4c")("iterator"),I=!([].keys&&"next"in[].keys()),N="@@iterator",Y="keys",H="values",K=function(){return this};c.exports=function(J,U,nt,gt,mt,pt,ct){S(nt,U,gt);var ht=function(kt){if(!I&&kt in M)return M[kt];switch(kt){case Y:return function(){return new nt(this,kt)};case H:return function(){return new nt(this,kt)}}return function(){return new nt(this,kt)}},It=U+" Iterator",it=mt==H,Tt=!1,M=J.prototype,xt=M[A]||M[N]||mt&&M[mt],vt=xt||ht(mt),Kt=mt?it?ht("entries"):vt:void 0,ie=U=="Array"&&M.entries||xt,oe,Ct,yt;if(ie&&(yt=F(ie.call(new J)),yt!==Object.prototype&&yt.next&&(O(yt,It,!0),!p&&typeof yt[A]!="function"&&C(yt,A,K))),it&&xt&&xt.name!==H&&(Tt=!0,vt=function(){return xt.call(this)}),(!p||ct)&&(I||Tt||!M[A])&&C(M,A,vt),x[U]=vt,x[It]=K,mt)if(oe={values:it?vt:ht(H),keys:pt?vt:ht(Y),entries:Kt},ct)for(Ct in oe)Ct in M||b(M,Ct,oe[Ct]);else g(g.P+g.F*(I||Tt),U,oe);return oe}}),"02f4":(function(c,d,f){var p=f("4588"),g=f("be13");c.exports=function(b){return function(C,x){var S=String(g(C)),O=p(x),F=S.length,A,I;return O<0||O>=F?b?"":void 0:(A=S.charCodeAt(O),A<55296||A>56319||O+1===F||(I=S.charCodeAt(O+1))<56320||I>57343?b?S.charAt(O):A:b?S.slice(O,O+2):(A-55296<<10)+(I-56320)+65536)}}}),"0390":(function(c,d,f){var p=f("02f4")(!0);c.exports=function(g,b,C){return b+(C?p(g,b).length:1)}}),"0bfb":(function(c,d,f){var p=f("cb7c");c.exports=function(){var g=p(this),b="";return g.global&&(b+="g"),g.ignoreCase&&(b+="i"),g.multiline&&(b+="m"),g.unicode&&(b+="u"),g.sticky&&(b+="y"),b}}),"0d58":(function(c,d,f){var p=f("ce10"),g=f("e11e");c.exports=Object.keys||function(C){return p(C,g)}}),1495:(function(c,d,f){var p=f("86cc"),g=f("cb7c"),b=f("0d58");c.exports=f("9e1e")?Object.defineProperties:function(x,S){g(x);for(var O=b(S),F=O.length,A=0,I;F>A;)p.f(x,I=O[A++],S[I]);return x}}),"214f":(function(c,d,f){f("b0c5");var p=f("2aba"),g=f("32e9"),b=f("79e5"),C=f("be13"),x=f("2b4c"),S=f("520a"),O=x("species"),F=!b(function(){var I=/./;return I.exec=function(){var N=[];return N.groups={a:"7"},N},"".replace(I,"$<a>")!=="7"}),A=(function(){var I=/(?:)/,N=I.exec;I.exec=function(){return N.apply(this,arguments)};var Y="ab".split(I);return Y.length===2&&Y[0]==="a"&&Y[1]==="b"})();c.exports=function(I,N,Y){var H=x(I),K=!b(function(){var pt={};return pt[H]=function(){return 7},""[I](pt)!=7}),J=K?!b(function(){var pt=!1,ct=/a/;return ct.exec=function(){return pt=!0,null},I==="split"&&(ct.constructor={},ct.constructor[O]=function(){return ct}),ct[H](""),!pt}):void 0;if(!K||!J||I==="replace"&&!F||I==="split"&&!A){var U=/./[H],nt=Y(C,H,""[I],function(ct,ht,It,it,Tt){return ht.exec===S?K&&!Tt?{done:!0,value:U.call(ht,It,it)}:{done:!0,value:ct.call(It,ht,it)}:{done:!1}}),gt=nt[0],mt=nt[1];p(String.prototype,I,gt),g(RegExp.prototype,H,N==2?function(pt,ct){return mt.call(pt,this,ct)}:function(pt){return mt.call(pt,this)})}}}),"230e":(function(c,d,f){var p=f("d3f4"),g=f("7726").document,b=p(g)&&p(g.createElement);c.exports=function(C){return b?g.createElement(C):{}}}),"23c6":(function(c,d,f){var p=f("2d95"),g=f("2b4c")("toStringTag"),b=p((function(){return arguments})())=="Arguments",C=function(x,S){try{return x[S]}catch{}};c.exports=function(x){var S,O,F;return x===void 0?"Undefined":x===null?"Null":typeof(O=C(S=Object(x),g))=="string"?O:b?p(S):(F=p(S))=="Object"&&typeof S.callee=="function"?"Arguments":F}}),2621:(function(c,d){d.f=Object.getOwnPropertySymbols}),"2aba":(function(c,d,f){var p=f("7726"),g=f("32e9"),b=f("69a8"),C=f("ca5a")("src"),x=f("fa5b"),S="toString",O=(""+x).split(S);f("8378").inspectSource=function(F){return x.call(F)},(c.exports=function(F,A,I,N){var Y=typeof I=="function";Y&&(b(I,"name")||g(I,"name",A)),F[A]!==I&&(Y&&(b(I,C)||g(I,C,F[A]?""+F[A]:O.join(String(A)))),F===p?F[A]=I:N?F[A]?F[A]=I:g(F,A,I):(delete F[A],g(F,A,I)))})(Function.prototype,S,function(){return typeof this=="function"&&this[C]||x.call(this)})}),"2aeb":(function(c,d,f){var p=f("cb7c"),g=f("1495"),b=f("e11e"),C=f("613b")("IE_PROTO"),x=function(){},S="prototype",O=function(){var F=f("230e")("iframe"),A=b.length,I="<",N=">",Y;for(F.style.display="none",f("fab2").appendChild(F),F.src="javascript:",Y=F.contentWindow.document,Y.open(),Y.write(I+"script"+N+"document.F=Object"+I+"/script"+N),Y.close(),O=Y.F;A--;)delete O[S][b[A]];return O()};c.exports=Object.create||function(A,I){var N;return A!==null?(x[S]=p(A),N=new x,x[S]=null,N[C]=A):N=O(),I===void 0?N:g(N,I)}}),"2b4c":(function(c,d,f){var p=f("5537")("wks"),g=f("ca5a"),b=f("7726").Symbol,C=typeof b=="function",x=c.exports=function(S){return p[S]||(p[S]=C&&b[S]||(C?b:g)("Symbol."+S))};x.store=p}),"2d00":(function(c,d){c.exports=!1}),"2d95":(function(c,d){var f={}.toString;c.exports=function(p){return f.call(p).slice(8,-1)}}),"2fdb":(function(c,d,f){var p=f("5ca1"),g=f("d2c8"),b="includes";p(p.P+p.F*f("5147")(b),"String",{includes:function(x){return!!~g(this,x,b).indexOf(x,arguments.length>1?arguments[1]:void 0)}})}),"32e9":(function(c,d,f){var p=f("86cc"),g=f("4630");c.exports=f("9e1e")?function(b,C,x){return p.f(b,C,g(1,x))}:function(b,C,x){return b[C]=x,b}}),"38fd":(function(c,d,f){var p=f("69a8"),g=f("4bf8"),b=f("613b")("IE_PROTO"),C=Object.prototype;c.exports=Object.getPrototypeOf||function(x){return x=g(x),p(x,b)?x[b]:typeof x.constructor=="function"&&x instanceof x.constructor?x.constructor.prototype:x instanceof Object?C:null}}),"41a0":(function(c,d,f){var p=f("2aeb"),g=f("4630"),b=f("7f20"),C={};f("32e9")(C,f("2b4c")("iterator"),function(){return this}),c.exports=function(x,S,O){x.prototype=p(C,{next:g(1,O)}),b(x,S+" Iterator")}}),"456d":(function(c,d,f){var p=f("4bf8"),g=f("0d58");f("5eda")("keys",function(){return function(C){return g(p(C))}})}),4588:(function(c,d){var f=Math.ceil,p=Math.floor;c.exports=function(g){return isNaN(g=+g)?0:(g>0?p:f)(g)}}),4630:(function(c,d){c.exports=function(f,p){return{enumerable:!(f&1),configurable:!(f&2),writable:!(f&4),value:p}}}),"4bf8":(function(c,d,f){var p=f("be13");c.exports=function(g){return Object(p(g))}}),5147:(function(c,d,f){var p=f("2b4c")("match");c.exports=function(g){var b=/./;try{"/./"[g](b)}catch{try{return b[p]=!1,!"/./"[g](b)}catch{}}return!0}}),"520a":(function(c,d,f){var p=f("0bfb"),g=RegExp.prototype.exec,b=String.prototype.replace,C=g,x="lastIndex",S=(function(){var A=/a/,I=/b*/g;return g.call(A,"a"),g.call(I,"a"),A[x]!==0||I[x]!==0})(),O=/()??/.exec("")[1]!==void 0,F=S||O;F&&(C=function(I){var N=this,Y,H,K,J;return O&&(H=new RegExp("^"+N.source+"$(?!\\s)",p.call(N))),S&&(Y=N[x]),K=g.call(N,I),S&&K&&(N[x]=N.global?K.index+K[0].length:Y),O&&K&&K.length>1&&b.call(K[0],H,function(){for(J=1;J<arguments.length-2;J++)arguments[J]===void 0&&(K[J]=void 0)}),K}),c.exports=C}),"52a7":(function(c,d){d.f={}.propertyIsEnumerable}),5537:(function(c,d,f){var p=f("8378"),g=f("7726"),b="__core-js_shared__",C=g[b]||(g[b]={});(c.exports=function(x,S){return C[x]||(C[x]=S!==void 0?S:{})})("versions",[]).push({version:p.version,mode:f("2d00")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})}),"5ca1":(function(c,d,f){var p=f("7726"),g=f("8378"),b=f("32e9"),C=f("2aba"),x=f("9b43"),S="prototype",O=function(F,A,I){var N=F&O.F,Y=F&O.G,H=F&O.S,K=F&O.P,J=F&O.B,U=Y?p:H?p[A]||(p[A]={}):(p[A]||{})[S],nt=Y?g:g[A]||(g[A]={}),gt=nt[S]||(nt[S]={}),mt,pt,ct,ht;Y&&(I=A);for(mt in I)pt=!N&&U&&U[mt]!==void 0,ct=(pt?U:I)[mt],ht=J&&pt?x(ct,p):K&&typeof ct=="function"?x(Function.call,ct):ct,U&&C(U,mt,ct,F&O.U),nt[mt]!=ct&&b(nt,mt,ht),K&&gt[mt]!=ct&&(gt[mt]=ct)};p.core=g,O.F=1,O.G=2,O.S=4,O.P=8,O.B=16,O.W=32,O.U=64,O.R=128,c.exports=O}),"5eda":(function(c,d,f){var p=f("5ca1"),g=f("8378"),b=f("79e5");c.exports=function(C,x){var S=(g.Object||{})[C]||Object[C],O={};O[C]=x(S),p(p.S+p.F*b(function(){S(1)}),"Object",O)}}),"5f1b":(function(c,d,f){var p=f("23c6"),g=RegExp.prototype.exec;c.exports=function(b,C){var x=b.exec;if(typeof x=="function"){var S=x.call(b,C);if(typeof S!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return S}if(p(b)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return g.call(b,C)}}),"613b":(function(c,d,f){var p=f("5537")("keys"),g=f("ca5a");c.exports=function(b){return p[b]||(p[b]=g(b))}}),"626a":(function(c,d,f){var p=f("2d95");c.exports=Object("z").propertyIsEnumerable(0)?Object:function(g){return p(g)=="String"?g.split(""):Object(g)}}),6762:(function(c,d,f){var p=f("5ca1"),g=f("c366")(!0);p(p.P,"Array",{includes:function(C){return g(this,C,arguments.length>1?arguments[1]:void 0)}}),f("9c6c")("includes")}),6821:(function(c,d,f){var p=f("626a"),g=f("be13");c.exports=function(b){return p(g(b))}}),"69a8":(function(c,d){var f={}.hasOwnProperty;c.exports=function(p,g){return f.call(p,g)}}),"6a99":(function(c,d,f){var p=f("d3f4");c.exports=function(g,b){if(!p(g))return g;var C,x;if(b&&typeof(C=g.toString)=="function"&&!p(x=C.call(g))||typeof(C=g.valueOf)=="function"&&!p(x=C.call(g))||!b&&typeof(C=g.toString)=="function"&&!p(x=C.call(g)))return x;throw TypeError("Can't convert object to primitive value")}}),7333:(function(c,d,f){var p=f("0d58"),g=f("2621"),b=f("52a7"),C=f("4bf8"),x=f("626a"),S=Object.assign;c.exports=!S||f("79e5")(function(){var O={},F={},A=Symbol(),I="abcdefghijklmnopqrst";return O[A]=7,I.split("").forEach(function(N){F[N]=N}),S({},O)[A]!=7||Object.keys(S({},F)).join("")!=I})?function(F,A){for(var I=C(F),N=arguments.length,Y=1,H=g.f,K=b.f;N>Y;)for(var J=x(arguments[Y++]),U=H?p(J).concat(H(J)):p(J),nt=U.length,gt=0,mt;nt>gt;)K.call(J,mt=U[gt++])&&(I[mt]=J[mt]);return I}:S}),7726:(function(c,d){var f=c.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=f)}),"77f1":(function(c,d,f){var p=f("4588"),g=Math.max,b=Math.min;c.exports=function(C,x){return C=p(C),C<0?g(C+x,0):b(C,x)}}),"79e5":(function(c,d){c.exports=function(f){try{return!!f()}catch{return!0}}}),"7f20":(function(c,d,f){var p=f("86cc").f,g=f("69a8"),b=f("2b4c")("toStringTag");c.exports=function(C,x,S){C&&!g(C=S?C:C.prototype,b)&&p(C,b,{configurable:!0,value:x})}}),8378:(function(c,d){var f=c.exports={version:"2.6.5"};typeof __e=="number"&&(__e=f)}),"84f2":(function(c,d){c.exports={}}),"86cc":(function(c,d,f){var p=f("cb7c"),g=f("c69a"),b=f("6a99"),C=Object.defineProperty;d.f=f("9e1e")?Object.defineProperty:function(S,O,F){if(p(S),O=b(O,!0),p(F),g)try{return C(S,O,F)}catch{}if("get"in F||"set"in F)throw TypeError("Accessors not supported!");return"value"in F&&(S[O]=F.value),S}}),"9b43":(function(c,d,f){var p=f("d8e8");c.exports=function(g,b,C){if(p(g),b===void 0)return g;switch(C){case 1:return function(x){return g.call(b,x)};case 2:return function(x,S){return g.call(b,x,S)};case 3:return function(x,S,O){return g.call(b,x,S,O)}}return function(){return g.apply(b,arguments)}}}),"9c6c":(function(c,d,f){var p=f("2b4c")("unscopables"),g=Array.prototype;g[p]==null&&f("32e9")(g,p,{}),c.exports=function(b){g[p][b]=!0}}),"9def":(function(c,d,f){var p=f("4588"),g=Math.min;c.exports=function(b){return b>0?g(p(b),9007199254740991):0}}),"9e1e":(function(c,d,f){c.exports=!f("79e5")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})}),a352:(function(c,d){c.exports=r}),a481:(function(c,d,f){var p=f("cb7c"),g=f("4bf8"),b=f("9def"),C=f("4588"),x=f("0390"),S=f("5f1b"),O=Math.max,F=Math.min,A=Math.floor,I=/\$([$&`']|\d\d?|<[^>]*>)/g,N=/\$([$&`']|\d\d?)/g,Y=function(H){return H===void 0?H:String(H)};f("214f")("replace",2,function(H,K,J,U){return[function(mt,pt){var ct=H(this),ht=mt?.[K];return ht!==void 0?ht.call(mt,ct,pt):J.call(String(ct),mt,pt)},function(gt,mt){var pt=U(J,gt,this,mt);if(pt.done)return pt.value;var ct=p(gt),ht=String(this),It=typeof mt=="function";It||(mt=String(mt));var it=ct.global;if(it){var Tt=ct.unicode;ct.lastIndex=0}for(var M=[];;){var xt=S(ct,ht);if(xt===null||(M.push(xt),!it))break;var vt=String(xt[0]);vt===""&&(ct.lastIndex=x(ht,b(ct.lastIndex),Tt))}for(var Kt="",ie=0,oe=0;oe<M.length;oe++){xt=M[oe];for(var Ct=String(xt[0]),yt=O(F(C(xt.index),ht.length),0),kt=[],Ut=1;Ut<xt.length;Ut++)kt.push(Y(xt[Ut]));var Qt=xt.groups;if(It){var j=[Ct].concat(kt,yt,ht);Qt!==void 0&&j.push(Qt);var et=String(mt.apply(void 0,j))}else et=nt(Ct,ht,yt,kt,Qt,mt);yt>=ie&&(Kt+=ht.slice(ie,yt)+et,ie=yt+Ct.length)}return Kt+ht.slice(ie)}];function nt(gt,mt,pt,ct,ht,It){var it=pt+gt.length,Tt=ct.length,M=N;return ht!==void 0&&(ht=g(ht),M=I),J.call(It,M,function(xt,vt){var Kt;switch(vt.charAt(0)){case"$":return"$";case"&":return gt;case"`":return mt.slice(0,pt);case"'":return mt.slice(it);case"<":Kt=ht[vt.slice(1,-1)];break;default:var ie=+vt;if(ie===0)return xt;if(ie>Tt){var oe=A(ie/10);return oe===0?xt:oe<=Tt?ct[oe-1]===void 0?vt.charAt(1):ct[oe-1]+vt.charAt(1):xt}Kt=ct[ie-1]}return Kt===void 0?"":Kt})}})}),aae3:(function(c,d,f){var p=f("d3f4"),g=f("2d95"),b=f("2b4c")("match");c.exports=function(C){var x;return p(C)&&((x=C[b])!==void 0?!!x:g(C)=="RegExp")}}),ac6a:(function(c,d,f){for(var p=f("cadf"),g=f("0d58"),b=f("2aba"),C=f("7726"),x=f("32e9"),S=f("84f2"),O=f("2b4c"),F=O("iterator"),A=O("toStringTag"),I=S.Array,N={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Y=g(N),H=0;H<Y.length;H++){var K=Y[H],J=N[K],U=C[K],nt=U&&U.prototype,gt;if(nt&&(nt[F]||x(nt,F,I),nt[A]||x(nt,A,K),S[K]=I,J))for(gt in p)nt[gt]||b(nt,gt,p[gt],!0)}}),b0c5:(function(c,d,f){var p=f("520a");f("5ca1")({target:"RegExp",proto:!0,forced:p!==/./.exec},{exec:p})}),be13:(function(c,d){c.exports=function(f){if(f==null)throw TypeError("Can't call method on  "+f);return f}}),c366:(function(c,d,f){var p=f("6821"),g=f("9def"),b=f("77f1");c.exports=function(C){return function(x,S,O){var F=p(x),A=g(F.length),I=b(O,A),N;if(C&&S!=S){for(;A>I;)if(N=F[I++],N!=N)return!0}else for(;A>I;I++)if((C||I in F)&&F[I]===S)return C||I||0;return!C&&-1}}}),c649:(function(c,d,f){(function(p){f.d(d,"c",function(){return F}),f.d(d,"a",function(){return S}),f.d(d,"b",function(){return b}),f.d(d,"d",function(){return O}),f("a481");function g(){return typeof window<"u"?window.console:p.console}var b=g();function C(A){var I=Object.create(null);return function(Y){var H=I[Y];return H||(I[Y]=A(Y))}}var x=/-(\w)/g,S=C(function(A){return A.replace(x,function(I,N){return N?N.toUpperCase():""})});function O(A){A.parentElement!==null&&A.parentElement.removeChild(A)}function F(A,I,N){var Y=N===0?A.children[0]:A.children[N-1].nextSibling;A.insertBefore(I,Y)}}).call(this,f("c8ba"))}),c69a:(function(c,d,f){c.exports=!f("9e1e")&&!f("79e5")(function(){return Object.defineProperty(f("230e")("div"),"a",{get:function(){return 7}}).a!=7})}),c8ba:(function(c,d){var f;f=(function(){return this})();try{f=f||new Function("return this")()}catch{typeof window=="object"&&(f=window)}c.exports=f}),ca5a:(function(c,d){var f=0,p=Math.random();c.exports=function(g){return"Symbol(".concat(g===void 0?"":g,")_",(++f+p).toString(36))}}),cadf:(function(c,d,f){var p=f("9c6c"),g=f("d53b"),b=f("84f2"),C=f("6821");c.exports=f("01f9")(Array,"Array",function(x,S){this._t=C(x),this._i=0,this._k=S},function(){var x=this._t,S=this._k,O=this._i++;return!x||O>=x.length?(this._t=void 0,g(1)):S=="keys"?g(0,O):S=="values"?g(0,x[O]):g(0,[O,x[O]])},"values"),b.Arguments=b.Array,p("keys"),p("values"),p("entries")}),cb7c:(function(c,d,f){var p=f("d3f4");c.exports=function(g){if(!p(g))throw TypeError(g+" is not an object!");return g}}),ce10:(function(c,d,f){var p=f("69a8"),g=f("6821"),b=f("c366")(!1),C=f("613b")("IE_PROTO");c.exports=function(x,S){var O=g(x),F=0,A=[],I;for(I in O)I!=C&&p(O,I)&&A.push(I);for(;S.length>F;)p(O,I=S[F++])&&(~b(A,I)||A.push(I));return A}}),d2c8:(function(c,d,f){var p=f("aae3"),g=f("be13");c.exports=function(b,C,x){if(p(C))throw TypeError("String#"+x+" doesn't accept regex!");return String(g(b))}}),d3f4:(function(c,d){c.exports=function(f){return typeof f=="object"?f!==null:typeof f=="function"}}),d53b:(function(c,d){c.exports=function(f,p){return{value:p,done:!!f}}}),d8e8:(function(c,d){c.exports=function(f){if(typeof f!="function")throw TypeError(f+" is not a function!");return f}}),e11e:(function(c,d){c.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")}),f559:(function(c,d,f){var p=f("5ca1"),g=f("9def"),b=f("d2c8"),C="startsWith",x=""[C];p(p.P+p.F*f("5147")(C),"String",{startsWith:function(O){var F=b(this,O,C),A=g(Math.min(arguments.length>1?arguments[1]:void 0,F.length)),I=String(O);return x?x.call(F,I,A):F.slice(A,A+I.length)===I}})}),f6fd:(function(c,d){(function(f){var p="currentScript",g=f.getElementsByTagName("script");p in f||Object.defineProperty(f,p,{get:function(){try{throw new Error}catch(x){var b,C=(/.*at [^\(]*\((.*):.+:.+\)$/ig.exec(x.stack)||[!1])[1];for(b in g)if(g[b].src==C||g[b].readyState=="interactive")return g[b];return null}}})})(document)}),f751:(function(c,d,f){var p=f("5ca1");p(p.S+p.F,"Object",{assign:f("7333")})}),fa5b:(function(c,d,f){c.exports=f("5537")("native-function-to-string",Function.toString)}),fab2:(function(c,d,f){var p=f("7726").document;c.exports=p&&p.documentElement}),fb15:(function(c,d,f){if(f.r(d),typeof window<"u"){f("f6fd");var p;(p=window.document.currentScript)&&(p=p.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(f.p=p[1])}f("f751"),f("f559"),f("ac6a"),f("cadf"),f("456d");function g(Ct){if(Array.isArray(Ct))return Ct}function b(Ct,yt){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(Ct)))){var kt=[],Ut=!0,Qt=!1,j=void 0;try{for(var et=Ct[Symbol.iterator](),st;!(Ut=(st=et.next()).done)&&(kt.push(st.value),!(yt&&kt.length===yt));Ut=!0);}catch(At){Qt=!0,j=At}finally{try{!Ut&&et.return!=null&&et.return()}finally{if(Qt)throw j}}return kt}}function C(Ct,yt){(yt==null||yt>Ct.length)&&(yt=Ct.length);for(var kt=0,Ut=new Array(yt);kt<yt;kt++)Ut[kt]=Ct[kt];return Ut}function x(Ct,yt){if(Ct){if(typeof Ct=="string")return C(Ct,yt);var kt=Object.prototype.toString.call(Ct).slice(8,-1);if(kt==="Object"&&Ct.constructor&&(kt=Ct.constructor.name),kt==="Map"||kt==="Set")return Array.from(Ct);if(kt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(kt))return C(Ct,yt)}}function S(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(Ct,yt){return g(Ct)||b(Ct,yt)||x(Ct,yt)||S()}f("6762"),f("2fdb");function F(Ct){if(Array.isArray(Ct))return C(Ct)}function A(Ct){if(typeof Symbol<"u"&&Symbol.iterator in Object(Ct))return Array.from(Ct)}function I(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N(Ct){return F(Ct)||A(Ct)||x(Ct)||I()}var Y=f("a352"),H=f.n(Y),K=f("c649");function J(Ct,yt,kt){return kt===void 0||(Ct=Ct||{},Ct[yt]=kt),Ct}function U(Ct,yt){return Ct.map(function(kt){return kt.elm}).indexOf(yt)}function nt(Ct,yt,kt,Ut){if(!Ct)return[];var Qt=Ct.map(function(st){return st.elm}),j=yt.length-Ut,et=N(yt).map(function(st,At){return At>=j?Qt.length:Qt.indexOf(st)});return kt?et.filter(function(st){return st!==-1}):et}function gt(Ct,yt){var kt=this;this.$nextTick(function(){return kt.$emit(Ct.toLowerCase(),yt)})}function mt(Ct){var yt=this;return function(kt){yt.realList!==null&&yt["onDrag"+Ct](kt),gt.call(yt,Ct,kt)}}function pt(Ct){return["transition-group","TransitionGroup"].includes(Ct)}function ct(Ct){if(!Ct||Ct.length!==1)return!1;var yt=O(Ct,1),kt=yt[0].componentOptions;return kt?pt(kt.tag):!1}function ht(Ct,yt,kt){return Ct[kt]||(yt[kt]?yt[kt]():void 0)}function It(Ct,yt,kt){var Ut=0,Qt=0,j=ht(yt,kt,"header");j&&(Ut=j.length,Ct=Ct?[].concat(N(j),N(Ct)):N(j));var et=ht(yt,kt,"footer");return et&&(Qt=et.length,Ct=Ct?[].concat(N(Ct),N(et)):N(et)),{children:Ct,headerOffset:Ut,footerOffset:Qt}}function it(Ct,yt){var kt=null,Ut=function(Ht,zt){kt=J(kt,Ht,zt)},Qt=Object.keys(Ct).filter(function(At){return At==="id"||At.startsWith("data-")}).reduce(function(At,Ht){return At[Ht]=Ct[Ht],At},{});if(Ut("attrs",Qt),!yt)return kt;var j=yt.on,et=yt.props,st=yt.attrs;return Ut("on",j),Ut("props",et),Object.assign(kt.attrs,st),kt}var Tt=["Start","Add","Remove","Update","End"],M=["Choose","Unchoose","Sort","Filter","Clone"],xt=["Move"].concat(Tt,M).map(function(Ct){return"on"+Ct}),vt=null,Kt={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(yt){return yt}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},ie={name:"draggable",inheritAttrs:!1,props:Kt,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(yt){var kt=this.$slots.default;this.transitionMode=ct(kt);var Ut=It(kt,this.$slots,this.$scopedSlots),Qt=Ut.children,j=Ut.headerOffset,et=Ut.footerOffset;this.headerOffset=j,this.footerOffset=et;var st=it(this.$attrs,this.componentData);return yt(this.getTag(),st,Qt)},created:function(){this.list!==null&&this.value!==null&&K.b.error("Value and list props are mutually exclusive! Please set one or another."),this.element!=="div"&&K.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),this.options!==void 0&&K.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var yt=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var kt={};Tt.forEach(function(j){kt["on"+j]=mt.call(yt,j)}),M.forEach(function(j){kt["on"+j]=gt.bind(yt,j)});var Ut=Object.keys(this.$attrs).reduce(function(j,et){return j[Object(K.a)(et)]=yt.$attrs[et],j},{}),Qt=Object.assign({},this.options,Ut,kt,{onMove:function(et,st){return yt.onDragMove(et,st)}});!("draggable"in Qt)&&(Qt.draggable=">*"),this._sortable=new H.a(this.rootContainer,Qt),this.computeIndexes()},beforeDestroy:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(yt){this.updateOptions(yt)},deep:!0},$attrs:{handler:function(yt){this.updateOptions(yt)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var yt=this._vnode.fnOptions;return yt&&yt.functional},getTag:function(){return this.tag||this.element},updateOptions:function(yt){for(var kt in yt){var Ut=Object(K.a)(kt);xt.indexOf(Ut)===-1&&this._sortable.option(Ut,yt[kt])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var yt=this.$slots.default;return this.transitionMode?yt[0].child.$slots.default:yt},computeIndexes:function(){var yt=this;this.$nextTick(function(){yt.visibleIndexes=nt(yt.getChildrenNodes(),yt.rootContainer.children,yt.transitionMode,yt.footerOffset)})},getUnderlyingVm:function(yt){var kt=U(this.getChildrenNodes()||[],yt);if(kt===-1)return null;var Ut=this.realList[kt];return{index:kt,element:Ut}},getUnderlyingPotencialDraggableComponent:function(yt){var kt=yt.__vue__;return!kt||!kt.$options||!pt(kt.$options._componentTag)?!("realList"in kt)&&kt.$children.length===1&&"realList"in kt.$children[0]?kt.$children[0]:kt:kt.$parent},emitChanges:function(yt){var kt=this;this.$nextTick(function(){kt.$emit("change",yt)})},alterList:function(yt){if(this.list){yt(this.list);return}var kt=N(this.value);yt(kt),this.$emit("input",kt)},spliceList:function(){var yt=arguments,kt=function(Qt){return Qt.splice.apply(Qt,N(yt))};this.alterList(kt)},updatePosition:function(yt,kt){var Ut=function(j){return j.splice(kt,0,j.splice(yt,1)[0])};this.alterList(Ut)},getRelatedContextFromMoveEvent:function(yt){var kt=yt.to,Ut=yt.related,Qt=this.getUnderlyingPotencialDraggableComponent(kt);if(!Qt)return{component:Qt};var j=Qt.realList,et={list:j,component:Qt};if(kt!==Ut&&j&&Qt.getUnderlyingVm){var st=Qt.getUnderlyingVm(Ut);if(st)return Object.assign(st,et)}return et},getVmIndex:function(yt){var kt=this.visibleIndexes,Ut=kt.length;return yt>Ut-1?Ut:kt[yt]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(yt){if(!(!this.noTransitionOnDrag||!this.transitionMode)){var kt=this.getChildrenNodes();kt[yt].data=null;var Ut=this.getComponent();Ut.children=[],Ut.kept=void 0}},onDragStart:function(yt){this.context=this.getUnderlyingVm(yt.item),yt.item._underlying_vm_=this.clone(this.context.element),vt=yt.item},onDragAdd:function(yt){var kt=yt.item._underlying_vm_;if(kt!==void 0){Object(K.d)(yt.item);var Ut=this.getVmIndex(yt.newIndex);this.spliceList(Ut,0,kt),this.computeIndexes();var Qt={element:kt,newIndex:Ut};this.emitChanges({added:Qt})}},onDragRemove:function(yt){if(Object(K.c)(this.rootContainer,yt.item,yt.oldIndex),yt.pullMode==="clone"){Object(K.d)(yt.clone);return}var kt=this.context.index;this.spliceList(kt,1);var Ut={element:this.context.element,oldIndex:kt};this.resetTransitionData(kt),this.emitChanges({removed:Ut})},onDragUpdate:function(yt){Object(K.d)(yt.item),Object(K.c)(yt.from,yt.item,yt.oldIndex);var kt=this.context.index,Ut=this.getVmIndex(yt.newIndex);this.updatePosition(kt,Ut);var Qt={element:this.context.element,oldIndex:kt,newIndex:Ut};this.emitChanges({moved:Qt})},updateProperty:function(yt,kt){yt.hasOwnProperty(kt)&&(yt[kt]+=this.headerOffset)},computeFutureIndex:function(yt,kt){if(!yt.element)return 0;var Ut=N(kt.to.children).filter(function(st){return st.style.display!=="none"}),Qt=Ut.indexOf(kt.related),j=yt.component.getVmIndex(Qt),et=Ut.indexOf(vt)!==-1;return et||!kt.willInsertAfter?j:j+1},onDragMove:function(yt,kt){var Ut=this.move;if(!Ut||!this.realList)return!0;var Qt=this.getRelatedContextFromMoveEvent(yt),j=this.context,et=this.computeFutureIndex(Qt,yt);Object.assign(j,{futureIndex:et});var st=Object.assign({},yt,{relatedContext:Qt,draggedContext:j});return Ut(st,kt)},onDragEnd:function(){this.computeIndexes(),vt=null}}};typeof window<"u"&&"Vue"in window&&window.Vue.component("draggable",ie);var oe=ie;d.default=oe})}).default})})(Tf)),Tf.exports}var zC=IC();const Qm=Uf(zC);class WC{constructor(){this.element=null,this.inputElement=null,this.indicatorElement=null,this.lengthElement=null,this.errorClassName="",this.maxLength=0,this.minLength=0,this.markdownEditor=null,this.onInput=this.onInput.bind(this),this.onMarkdownEditorChange=this.onMarkdownEditorChange.bind(this),this.onLengthChange=this.onLengthChange.bind(this)}init(e,r={}){if(this.element=e,this.indicatorElement=e?.querySelector?.("[data-length-indicator]"),!this.indicatorElement)return;this.lengthElement=this.indicatorElement?.querySelector("[data-length-indicator-current]");const c=this.indicatorElement?.dataset.lengthIndicator;c&&(this.errorClassName=c),e.addEventListener("length-change",this.onLengthChange);const d=e.querySelector("[data-max-length], [data-min-length]");(d instanceof HTMLInputElement||d instanceof HTMLTextAreaElement)&&(this.inputElement=d,this.inputElement?.addEventListener("input",this.onInput));const f=e.querySelector("rz-markdown-editor");f&&(this.markdownEditor=f,this.markdownEditor.addEventListener("change",this.onMarkdownEditorChange));const p=typeof r.maxLength<"u"?r.maxLength:Number(d?.dataset.maxLength),g=typeof r.minLength<"u"?r.minLength:Number(d?.dataset.minLength);p&&(this.maxLength=p),g&&(this.minLength=g),this.inputElement?this.updateLength(this.inputElement.value.length):this.markdownEditor&&this.updateLength(this.markdownEditor.strippedValue.length)}dispose(){this.inputElement?.removeEventListener("input",this.onInput),this.inputElement=null,this.markdownEditor?.removeEventListener("change",this.onMarkdownEditorChange),this.markdownEditor=null,this.element?.removeEventListener("length-change",this.onLengthChange),this.element=null}updateLength(e){const r=this.maxLength!==0&&e>this.maxLength||this.minLength!==0&&e<this.minLength;this.errorClassName&&this.indicatorElement?.classList.toggle(this.errorClassName,r),this.lengthElement&&(this.lengthElement.textContent=String(e))}onInput(){this.updateLength(this.inputElement.value.length)}onMarkdownEditorChange(){this.updateLength(this.markdownEditor.strippedValue.length)}onLengthChange(e){if(!e.detail)return;const{length:r}=e.detail;typeof r=="number"&&this.updateLength(r)}}const FC={props:["entity"],data:()=>({drawerName:null,dropzoneLanguage:window.RozierConfig.messages.dropzone,groupName:null,isSortable:null,entityName:null,documentEditDialog:null,lengthIndicator:null}),mounted(){this.drawersAddInstance(this),this.lengthIndicator=new WC,qs.nextTick(()=>{this.drawerName=this.$refs.drawer.getAttribute("name"),this.entityName=this.$refs.drawer.getAttribute("data-entity-name"),this.lengthIndicator.init(this.$el);let a=this.ids,e=this.entity;a||(a=JSON.parse(this.$refs.drawer.getAttribute("data-initial-items"))),e||(e=this.$refs.drawer.getAttribute("data-accept-entity"));const r=this.$refs.drawer.getAttribute("data-is-sortable"),c=this.$refs.drawer.getAttribute("data-min-length"),d=this.$refs.drawer.getAttribute("data-max-length"),f=d?parseInt(d,10):0,p=c?parseInt(c,10):0;this.groupName=e,this.isSortable=r==="true";const g=this.$refs.drawer.getAttribute("data-nodetypes"),b=this.$refs.drawer.getAttribute("data-nodetypefield"),C=this.$refs.drawer.getAttribute("data-nodetypename"),x=this.$refs.drawer.getAttribute("data-provider-class"),S=this.$refs.drawer.getAttribute("data-locale"),O=JSON.parse(decodeURIComponent(this.$refs.drawer.getAttribute("data-provider-options"))),F={nodeTypes:g,nodeTypeField:b,providerClass:x,providerOptions:O,nodeTypeName:C,_locale:S};this.drawersInitData({drawer:this.drawer,entity:e,ids:a,filters:F,maxLength:f,minLength:p,entityName:this.entityName})})},beforeDestroy:function(){this.drawersRemoveInstance(this)},computed:{...Jo({isActive:function(){let a=this.$store.getters.drawersGetById(this._uid);return a?a.isActive:!1},trans:a=>a.drawers.trans,currentListingView:a=>a.explorer.currentListingView}),drawer(){return this.$store.getters.drawersGetById(this._uid)},trans:function(){return this.drawer.trans},items:{get(){return this.drawer?.items},set(a){this.$store.commit(sm,{drawer:this.drawer,newList:a})}}},watch:{items(){this.lengthIndicator?.updateLength(this.items?.length||0)}},methods:{...us(["drawersAddInstance","drawersRemoveInstance","drawersRemoveItem","drawersAddItem","drawersMoveItem","drawersInitData","drawersExplorerButtonClick","drawersDropzoneButtonClick"]),getOptions(){return{group:{name:this.groupName,put:this.drawer.acceptMore},sort:this.isSortable}},onExplorerButtonClick:function(){this.drawersExplorerButtonClick(this.drawer)},onDropzoneButtonClick:function(){this.drawersDropzoneButtonClick(this.drawer)},removeItem:function(a){this.drawersRemoveItem({drawer:this.drawer,item:a})},addItem:function(a,e=null){this.drawersAddItem({drawer:this.drawer,item:a,newIndex:e})},showSuccess:function(a){const{response:e}=a.detail;this.entityName===Tm?this.addItem({document:e.document,hotspot:null,imageCropAlignment:null}):this.addItem(e.document)},showError:function(a,e,r){console.error(a),console.error(e),console.error(r)},onEditItem(a){const e=document.createElement("document-edit-dialog");e.setAttribute("template-path",this.$el.getAttribute("data-document-alignment-template-path")),e.setAttribute("title",a.document.classname),e.setAttribute("edit-url",a.document.editItem+"?referer="+window.location.pathname),e.setAttribute("image-path",a.document.editImageUrl),e.setAttribute("image-width",a.document.editImageWidth),e.setAttribute("image-height",a.document.editImageHeight),e.setAttribute("input-base-name",`${this.drawerName}[${a.index}]`),e.setAttribute("open",""),a.document.originalHotspot&&e.setAttribute("original-hotspot",JSON.stringify(a.document.originalHotspot)),document.body.appendChild(e)}},components:{RzButton:eC,draggable:Qm}},HC=null,BC=null;var YC=Ui(FC,HC,BC,!1,null,null);const jC=YC.exports,XC={data:()=>({searchPlaceHolder:"",drawerId:"",drawerFilters:null}),computed:{...Jo({isLoadingMore:a=>a.explorer.isLoadingMore,isLoading:a=>a.explorer.isLoading,isOpen:a=>a.explorer.isOpen,items:a=>a.explorer.items,filters:a=>a.explorer.filters,moreItems:a=>a.explorer.trans.moreItems,translations:a=>a.translations,entity:a=>a.explorer.entity,isFilterExplorerOpen:a=>a.filterExplorer.isOpen,filterExplorerSelectedItems:a=>a.filterExplorer.selectedItem,currentListingView:a=>a.explorer.currentListingView,widgetView:a=>a.explorer.widgetView,isFilterEnable:a=>a.explorer.isFilterEnable,filterExplorerIcon:a=>a.explorer.filterExplorerIcon,entityClass:a=>"entity-"+a.explorer.entity}),searchTerms:{get(){return this.$store.getters.getExplorerSearchTerms},set:Fm.debounce(function(a){this.isOpen&&this.$store.dispatch("explorerUpdateSearch",{searchTerms:a})},450)},listClass(){const a="rz-explorer__list",e=[a];return(this.entity==="file"||this.entity==="document")&&e.push(`${a}--2-columns`),e}},mounted(){document.addEventListener("show-explorer",this.onShowExplorer)},unmounted(){document.removeEventListener("show-explorer",this.onShowExplorer)},methods:{...us(["filterExplorerToggle","explorerClose","explorerUpdateSearch","explorerLoadMore","drawersAddItem"]),manualUpdate(){this.explorerUpdateSearch({searchTerms:this.searchTerms})},addItem(a){document.dispatchEvent(new CustomEvent("add-drawer-item",{detail:{item:a,drawerId:this.drawerId}}))},onShowExplorer(a){a.detail?.acceptEntity&&(this.drawerId=a.detail.id||"",this.drawerFilters=a.detail.filters||null,this.$store.dispatch("explorerOpen",{entity:a.detail.acceptEntity,preFilters:this.drawerFilters}))}},components:{draggable:Qm}};var GC=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"slide-left"}},[e.isOpen?r("div",{staticClass:"rz-explorer",class:[{"filter-explorer-open":e.isFilterExplorerOpen,"explorer-open":e.isOpen},e.entityClass]},[r("div",{staticClass:"rz-explorer__inner"},[r("div",{staticClass:"rz-explorer__header"},[e.isFilterEnable?r("button",{staticClass:"rz-button",class:[{"rz-button--pill":e.filterExplorerSelectedItems}],attrs:{type:"button"},on:{click:function(c){return c.preventDefault(),e.filterExplorerToggle.apply(null,arguments)}}},[r("span",{staticClass:"rz-button__icon",class:e.filterExplorerIcon})]):e._e(),r("form",{staticClass:"rz-explorer__search",attrs:{action:"#",method:"POST"},on:{submit:function(c){c.preventDefault()}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerms,expression:"searchTerms"}],staticClass:"rz-input",attrs:{id:"search-input",type:"search",name:"searchTerms",autocomplete:"off",placeholder:e.searchPlaceHolder},domProps:{value:e.searchTerms},on:{keyup:function(c){return!c.type.indexOf("key")&&e._k(c.keyCode,"enter",13,c.key,"Enter")?null:(c.stopPropagation(),c.preventDefault(),e.manualUpdate.apply(null,arguments))},input:function(c){c.target.composing||(e.searchTerms=c.target.value)}}})]),r("button",{staticClass:"rz-button rz-button--primary",on:{click:function(c){return c.preventDefault(),e.explorerClose.apply(null,arguments)}}},[r("span",{staticClass:"rz-button__icon uk-icon-rz-close-explorer"})])]),e.isLoading?r("div",{staticClass:"spinner light"}):e._e(),r("transition",{attrs:{name:"fade"}},[e.isLoading?e._e():r("div",{staticClass:"uk-sortable rz-explorer__main"},[r("draggable",{attrs:{options:{group:{name:e.entity,put:!1}}},model:{value:e.items,callback:function(c){e.items=c},expression:"items"}},[r("transition-group",{staticClass:"sortable-inner",class:e.listClass,attrs:{tag:"ul"}},e._l(e.items,function(c,d){return r(e.currentListingView,{key:c.id,tag:"component",attrs:{"is-item-explorer":!0,"add-item":e.addItem,index:d,item:c}})}),1)],1)],1)]),r("transition",{attrs:{name:"fade"}},[e.filters&&e.filters.nextPage&&e.filters.nextPage>1?r("div",{staticClass:"rz-explorer__load-more rz-button rz-button--primary",on:{click:function(c){return c.preventDefault(),e.explorerLoadMore.apply(null,arguments)}}},[e.isLoadingMore?[r("transition",{attrs:{name:"fade"}},[r("div",{staticClass:"rz-spinner"})])]:[r("i",{staticClass:"rz-button__label rz-icon-ri--add-line"}),r("span",{staticClass:"rz-button__label"},[e._v(e._s(e.moreItems?e.translations[e.moreItems]:""))])]],2):e._e()]),e.filters&&e.items.length&&e.filters.itemCount?r("transition",{attrs:{name:"fade"}},[r("div",{staticClass:"rz-explorer__pagination"},[e._v(e._s(e.items.length)+" / "+e._s(e.filters.itemCount))])]):e._e(),r(e.widgetView,{tag:"component"})],1)]):e._e()])},qC=[],KC=Ui(XC,GC,qC,!1,null,null);const UC=KC.exports,VC={name:"filter-explorer-item",props:{item:{required:!0,type:Object},onItemClick:{required:!0,type:Function},currentItem:{required:!0},entity:{required:!0},icons:{required:!0,type:Object}},computed:{isCurrentItem:function(){return!this.currentItem||!this.currentItem.id?!1:this.currentItem.id===this.item.id}}};var ZC=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade-in"}},[e.item?r("li",{staticClass:"item"},[r("button",{staticClass:"filter-item-link",class:[e.isCurrentItem?"active":""],attrs:{type:"button"},on:{click:function(c){return c.preventDefault(),e.onItemClick(e.item)}}},[r("i",{staticClass:"icon",class:e.isCurrentItem?e.icons.active:e.icons.normal}),r("span",{staticClass:"text"},[e._v(e._s(e.item.name))])]),r("ul",{staticClass:"sub-filters"},e._l(e.item.children,function(c,d){return r("filter-explorer-item",{key:c.id,attrs:{icons:e.icons,"current-item":e.currentItem,entity:e.entity,"on-item-click":e.onItemClick,item:c}})}),1)]):e._e()])},JC=[],QC=Ui(VC,ZC,JC,!1,null,null);const tk=QC.exports,ek={data:()=>({currentListingView:null}),computed:{...Jo({isLoading:a=>a.filterExplorer.isLoading,isOpen:a=>a.filterExplorer.isOpen,items:a=>a.filterExplorer.items,entity:a=>a.explorer.entity,itemCount:a=>a.explorer.filters.itemCount,selectedItem:a=>a.filterExplorer.selectedItem,translations:a=>a.translations,icons:a=>a.filterExplorer.icons})},methods:{...us(["filterExplorerUpdate","filterExplorerToggle"]),onItemClick:function(a){this.filterExplorerUpdate({item:a})},onResetClick:function(){this.filterExplorerUpdate({item:null})}},components:{FilterExplorerItem:tk}};var nk=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"slide-left-no-opacity"}},[e.isOpen?r("div",{staticClass:"filter-widget-explorer"},[r("ul",{staticClass:"filters-items"},[r("transition",{attrs:{name:"fade"}},[e.itemCount||e.itemCount===0?r("li",{staticClass:"filters-infos"},[r("span",{staticClass:"number"},[e._v(e._s(e.itemCount))]),r("span",[e._v(e._s(e.itemCount>1?e.translations.items:e.translations.item))]),r("button",{staticClass:"rz-button rz-button--xs rz-button--tertiary",on:{click:function(c){return c.preventDefault(),e.filterExplorerToggle.apply(null,arguments)}}},[r("span",{staticClass:"rz-button__icon rz-icon-ri--close-line"})])]):e._e()]),r("li",{staticClass:"item"},[r("button",{staticClass:"filter-item-link",class:[e.selectedItem?"":"active"],attrs:{type:"button"},on:{click:function(c){return c.preventDefault(),e.onResetClick.apply(null,arguments)}}},[r("i",{staticClass:"uk-icon-rz-unordered-list"}),e._v(" "+e._s(e.translations.see_all)+" ")])]),e._l(e.items,function(c,d){return r("filter-explorer-item",{key:d,attrs:{"current-item":e.selectedItem,icons:e.icons,entity:e.entity,"on-item-click":e.onItemClick,item:c}})})],2)]):e._e()])},ik=[],rk=Ui(ek,nk,ik,!1,null,null);const ok=rk.exports;var Rf={exports:{}},ak=Rf.exports,Bp;function sk(){return Bp||(Bp=1,(function(a,e){(function(r,c){a.exports=c()})(ak,function(){return(function(r){function c(f){if(d[f])return d[f].exports;var p=d[f]={i:f,l:!1,exports:{}};return r[f].call(p.exports,p,p.exports,c),p.l=!0,p.exports}var d={};return c.m=r,c.c=d,c.i=function(f){return f},c.d=function(f,p,g){c.o(f,p)||Object.defineProperty(f,p,{configurable:!1,enumerable:!0,get:g})},c.n=function(f){var p=f&&f.__esModule?function(){return f.default}:function(){return f};return c.d(p,"a",p),p},c.o=function(f,p){return Object.prototype.hasOwnProperty.call(f,p)},c.p="/",c(c.s=8)})([function(r,c,d){function f(N){return N&&N.__esModule?N:{default:N}}function p(N,Y,H){return Y in N?Object.defineProperty(N,Y,{value:H,enumerable:!0,configurable:!0,writable:!0}):N[Y]=H,N}function g(N,Y){if(!N)return!1;var H=N.toString().toLowerCase();return H.indexOf(Y.trim())!==-1}function b(N,Y,H){return H?N.filter(function(K){return g(K[H],Y)}):N.filter(function(K){return g(K,Y)})}function C(N){return N.filter(function(Y){return!Y.$isLabel})}function x(N,Y){return function(H){return H.reduce(function(K,J){return J[N]&&J[N].length?(K.push({$groupLabel:J[Y],$isLabel:!0}),K.concat(J[N])):K.concat(J)},[])}}function S(N,Y,H,K){return function(J){return J.map(function(U){var nt,gt=b(U[H],N,Y);return gt.length?(nt={},p(nt,K,U[K]),p(nt,H,gt),nt):[]})}}Object.defineProperty(c,"__esModule",{value:!0});var O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},F=d(2),A=f(F),I=function(){for(var N=arguments.length,Y=Array(N),H=0;H<N;H++)Y[H]=arguments[H];return function(K){return Y.reduce(function(J,U){return U(J)},K)}};c.default={data:function(){return{search:"",isOpen:!1,hasEnoughSpace:!0,internalValue:this.value||this.value===0?(0,A.default)(Array.isArray(this.value)?this.value:[this.value]):[]}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},value:{type:null,default:function(){return[]}},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default:function(N,Y){return Y?N[Y]:N}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},max:{type:Number},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},blockKeys:{type:Array,default:function(){return[]}}},mounted:function(){this.multiple||this.clearOnSelect||console.warn("[Vue-Multiselect warn]: ClearOnSelect and Multiple props cant be both set to false.")},computed:{filteredOptions:function(){var N=this.search||"",Y=N.toLowerCase(),H=this.options.concat();return this.internalSearch?(H=this.groupValues?this.filterAndFlat(H,Y,this.label):b(H,Y,this.label),H=this.hideSelected?H.filter(this.isNotSelected):H):H=this.groupValues?x(this.groupValues,this.groupLabel)(H):H,this.taggable&&Y.length&&!this.isExistingOption(Y)&&H.unshift({isTag:!0,label:N}),H.slice(0,this.optionsLimit)},valueKeys:function(){var N=this;return this.trackBy?this.internalValue.map(function(Y){return Y[N.trackBy]}):this.internalValue},optionKeys:function(){var N=this,Y=this.groupValues?this.flatAndStrip(this.options):this.options;return this.label?Y.map(function(H){return H[N.label].toString().toLowerCase()}):Y.map(function(H){return H.toString().toLowerCase()})},currentOptionLabel:function(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue[0]?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:function(N,Y){this.resetAfter&&this.internalValue.length&&(this.search="",this.internalValue=[])},search:function(){this.$emit("search-change",this.search,this.id)},value:function(N){this.internalValue=this.getInternalValue(N)}},methods:{getValue:function(){return this.multiple?(0,A.default)(this.internalValue):this.internalValue.length===0?null:(0,A.default)(this.internalValue[0])},getInternalValue:function(N){return N==null?[]:this.multiple?(0,A.default)(N):(0,A.default)([N])},filterAndFlat:function(N){return I(S(this.search,this.label,this.groupValues,this.groupLabel),x(this.groupValues,this.groupLabel))(N)},flatAndStrip:function(N){return I(x(this.groupValues,this.groupLabel),C)(N)},updateSearch:function(N){this.search=N},isExistingOption:function(N){return!!this.options&&this.optionKeys.indexOf(N)>-1},isSelected:function(N){var Y=this.trackBy?N[this.trackBy]:N;return this.valueKeys.indexOf(Y)>-1},isNotSelected:function(N){return!this.isSelected(N)},getOptionLabel:function(N){return N||N===0?N.isTag?N.label:this.customLabel(N,this.label)||"":""},select:function(N,Y){if(!(this.blockKeys.indexOf(Y)!==-1||this.disabled||N.$isLabel||this.max&&this.multiple&&this.internalValue.length===this.max)){if(N.isTag)this.$emit("tag",N.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{var H=this.isSelected(N);if(H)return void(Y!=="Tab"&&this.removeElement(N));this.multiple?this.internalValue.push(N):this.internalValue=[N],this.$emit("select",(0,A.default)(N),this.id),this.$emit("input",this.getValue(),this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},removeElement:function(N){if(!this.disabled&&(this.allowEmpty||!(this.internalValue.length<=1))){var Y=(typeof N>"u"?"undefined":O(N))==="object"?this.valueKeys.indexOf(N[this.trackBy]):this.valueKeys.indexOf(N);this.internalValue.splice(Y,1),this.$emit("remove",(0,A.default)(N),this.id),this.$emit("input",this.getValue(),this.id),this.closeOnSelect&&this.deactivate()}},removeLastElement:function(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.removeElement(this.internalValue[this.internalValue.length-1])},activate:function(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.search="",this.$refs.search.focus()):this.$el.focus(),this.$emit("open",this.id))},deactivate:function(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search.blur():this.$el.blur(),this.search="",this.$emit("close",this.getValue(),this.id))},toggle:function(){this.isOpen?this.deactivate():this.activate()},adjustPosition:function(){typeof window<"u"&&(this.hasEnoughSpace=this.$el.getBoundingClientRect().top+this.maxHeight<window.innerHeight)}}}},function(r,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.default={data:function(){return{pointer:0,visibleElements:this.maxHeight/this.optionHeight}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition:function(){return this.pointer*this.optionHeight}},watch:{filteredOptions:function(){this.pointerAdjust()}},methods:{optionHighlight:function(f,p){return{"multiselect__option--highlight":f===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(p)}},addPointerElement:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Enter",p=f.key;this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],p),this.pointerReset()},pointerForward:function(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-this.visibleElements*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer].$isLabel&&this.pointerForward())},pointerBackward:function(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer].$isLabel&&this.pointerBackward()):this.filteredOptions[0].$isLabel&&this.pointerForward()},pointerReset:function(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust:function(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0)},pointerSet:function(f){this.pointer=f}}}},function(r,c,d){function f(g){if(Array.isArray(g))return g.map(f);if(g&&(typeof g>"u"?"undefined":p(g))==="object"){for(var b={},C=Object.keys(g),x=0,S=C.length;x<S;x++){var O=C[x];b[O]=f(g[O])}return b}return g}Object.defineProperty(c,"__esModule",{value:!0});var p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};c.default=f},function(r,c,d){d(5);var f=d(6)(d(4),d(7),null,null);r.exports=f.exports},function(r,c,d){function f(x){return x&&x.__esModule?x:{default:x}}Object.defineProperty(c,"__esModule",{value:!0});var p=d(0),g=f(p),b=d(1),C=f(b);c.default={name:"vue-multiselect",mixins:[g.default,C.default],props:{selectLabel:{type:String,default:"Press enter to select"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:function(x){return"and "+x+" more"}},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{visibleValue:function(){return this.multiple?this.internalValue.slice(0,this.limit):[]},deselectLabelText:function(){return this.showLabels?this.deselectLabel:""},selectLabelText:function(){return this.showLabels?this.selectLabel:""},selectedLabelText:function(){return this.showLabels?this.selectedLabel:""}}}},function(r,c){},function(r,c){r.exports=function(d,f,p,g){var b,C=d=d||{},x=typeof d.default;x!=="object"&&x!=="function"||(b=d,C=d.default);var S=typeof C=="function"?C.options:C;if(f&&(S.render=f.render,S.staticRenderFns=f.staticRenderFns),p&&(S._scopeId=p),g){var O=S.computed||(S.computed={});Object.keys(g).forEach(function(F){var A=g[F];O[F]=function(){return A}})}return{esModule:b,exports:C,options:S}}},function(r,c){r.exports={render:function(){var d=this,f=d.$createElement,p=d._self._c||f;return p("div",{staticClass:"multiselect",class:{"multiselect--active":d.isOpen,"multiselect--disabled":d.disabled,"multiselect--above":!d.hasEnoughSpace},attrs:{tabindex:d.searchable?-1:0},on:{focus:function(g){d.activate()},blur:function(g){!d.searchable&&d.deactivate()},keydown:[function(g){d._k(g.keyCode,"down",40)||g.target===g.currentTarget&&(g.preventDefault(),d.pointerForward())},function(g){d._k(g.keyCode,"up",38)||g.target===g.currentTarget&&(g.preventDefault(),d.pointerBackward())},function(g){d._k(g.keyCode,"enter",13)&&d._k(g.keyCode,"tab",9)||(g.stopPropagation(),g.target===g.currentTarget&&d.addPointerElement(g))}],keyup:function(g){d._k(g.keyCode,"esc",27)||d.deactivate()}}},[d._t("carret",[p("div",{staticClass:"multiselect__select",on:{mousedown:function(g){g.preventDefault(),d.toggle()}}})]),d._v(" "),p("div",{ref:"tags",staticClass:"multiselect__tags"},[d._l(d.visibleValue,function(g){return p("span",{staticClass:"multiselect__tag",on:{mousedown:function(b){b.preventDefault()}}},[p("span",{domProps:{textContent:d._s(d.getOptionLabel(g))}}),d._v(" "),p("i",{staticClass:"multiselect__tag-icon",attrs:{"aria-hidden":"true",tabindex:"1"},on:{keydown:function(b){d._k(b.keyCode,"enter",13)||(b.preventDefault(),d.removeElement(g))},mousedown:function(b){b.preventDefault(),d.removeElement(g)}}})])}),d._v(" "),d.internalValue&&d.internalValue.length>d.limit?[p("strong",{domProps:{textContent:d._s(d.limitText(d.internalValue.length-d.limit))}})]:d._e(),d._v(" "),p("transition",{attrs:{name:"multiselect__loading"}},[d._t("loading",[p("div",{directives:[{name:"show",rawName:"v-show",value:d.loading,expression:"loading"}],staticClass:"multiselect__spinner"})])],2),d._v(" "),d.searchable?p("input",{ref:"search",staticClass:"multiselect__input",attrs:{type:"text",autocomplete:"off",placeholder:d.placeholder,disabled:d.disabled},domProps:{value:d.isOpen?d.search:d.currentOptionLabel},on:{input:function(g){d.updateSearch(g.target.value)},focus:function(g){g.preventDefault(),d.activate()},blur:function(g){g.preventDefault(),d.deactivate()},keyup:function(g){d._k(g.keyCode,"esc",27)||d.deactivate()},keydown:[function(g){d._k(g.keyCode,"down",40)||(g.preventDefault(),d.pointerForward())},function(g){d._k(g.keyCode,"up",38)||(g.preventDefault(),d.pointerBackward())},function(g){d._k(g.keyCode,"enter",13)||g.preventDefault()},function(g){d._k(g.keyCode,"enter",13)&&d._k(g.keyCode,"tab",9)||(g.stopPropagation(),g.target===g.currentTarget&&d.addPointerElement(g))},function(g){d._k(g.keyCode,"delete",[8,46])||d.removeLastElement()}]}}):d._e(),d._v(" "),d.searchable?d._e():p("span",{staticClass:"multiselect__single",domProps:{textContent:d._s(d.currentOptionLabel)}})],2),d._v(" "),p("transition",{attrs:{name:"multiselect"}},[p("ul",{directives:[{name:"show",rawName:"v-show",value:d.isOpen,expression:"isOpen"}],ref:"list",staticClass:"multiselect__content",style:{maxHeight:d.maxHeight+"px"}},[d._t("beforeList"),d._v(" "),d.multiple&&d.max===d.internalValue.length?p("li",[p("span",{staticClass:"multiselect__option"},[d._t("maxElements",[d._v("Maximum of "+d._s(d.max)+" options selected. First remove a selected option to select another.")])],2)]):d._e(),d._v(" "),!d.max||d.internalValue.length<d.max?d._l(d.filteredOptions,function(g,b){return p("li",{key:b,staticClass:"multiselect__element"},[g.$isLabel?d._e():p("span",{staticClass:"multiselect__option",class:d.optionHighlight(b,g),attrs:{tabindex:"0","data-select":g.isTag?d.tagPlaceholder:d.selectLabelText,"data-selected":d.selectedLabelText,"data-deselect":d.deselectLabelText},on:{mousedown:function(C){C.preventDefault(),d.select(g)},mouseenter:function(C){d.pointerSet(b)}}},[d._t("option",[p("span",[d._v(d._s(d.getOptionLabel(g)))])],{option:g,search:d.search})],2),d._v(" "),g.$isLabel?p("span",{staticClass:"multiselect__option multiselect__option--disabled",class:d.optionHighlight(b,g)},[d._v(`
              `+d._s(g.$groupLabel)+`
            `)]):d._e()])}):d._e(),d._v(" "),p("li",{directives:[{name:"show",rawName:"v-show",value:d.filteredOptions.length===0&&d.search&&!d.loading,expression:"filteredOptions.length === 0 && search && !loading"}]},[p("span",{staticClass:"multiselect__option"},[d._t("noResult",[d._v("No elements found. Consider changing the search query.")])],2)]),d._v(" "),d._t("afterList")],2)])],2)},staticRenderFns:[]}},function(r,c,d){function f(A){return A&&A.__esModule?A:{default:A}}Object.defineProperty(c,"__esModule",{value:!0}),c.deepClone=c.pointerMixin=c.multiselectMixin=c.Multiselect=void 0;var p=d(3),g=f(p),b=d(0),C=f(b),x=d(1),S=f(x),O=d(2),F=f(O);c.default=g.default,c.Multiselect=g.default,c.multiselectMixin=C.default,c.pointerMixin=S.default,c.deepClone=F.default}])})})(Rf)),Rf.exports}var lk=sk();const uk=Uf(lk),ck={mounted(){this.tagsInitData()},computed:{...Jo({value:a=>a.tags.value,options:a=>a.tags.options})},methods:{...us(["tagsUpdateValue","tagsInitData"]),addTag(a){const e={name:a};this.options.push(e),this.value.push(e),this.tagsUpdateValue(this.value)}},components:{Multiselect:uk}};var fk=function(){var e=this,r=e._self._c;return r("div",[e._t("default"),r("label",{staticClass:"typo__label"},[e._v("Tagging")]),r("multiselect",{attrs:{"tag-placeholder":"Add this as new tag",placeholder:"Search or add a tag",label:"name","track-by":"id",options:e.options,multiple:!0,taggable:!0,"group-values":"children","group-label":"name"},on:{tag:e.addTag,input:e.tagsUpdateValue},model:{value:e.value,callback:function(c){e.value=c},expression:"value"}}),r("pre",{staticClass:"language-json"},[r("code",[e._v(e._s(e.value))])])],2)},hk=[],dk=Ui(ck,fk,hk,!1,null,null);const pk=dk.exports,gk={computed:{...Jo({isVisible:a=>a.documentPreview.isVisible,document:a=>a.documentPreview.document}),containerClass(){return{isPdf:this.document.isPdf,hasNoPreview:!this.document.isImage,isVideo:this.document.isVideo,isSvg:this.document.isSvg}}},mounted(){document.addEventListener("show-preview",this.onShowPreview)},unmounted(){document.removeEventListener("show-preview",this.onShowPreview)},methods:{...us(["documentPreviewOpen","documentPreviewClose"]),closePreview(){this.documentPreviewClose()},onClick(a){a.srcElement.classList.contains("document-preview-widget__wrapper")&&this.closePreview()},onShowPreview(a){const e=a.detail?.document;e&&this.documentPreviewOpen({document:e})}}};var mk=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[e.isVisible&&e.document?r("div",{staticClass:"document-preview-widget"},[r("div",{staticClass:"document-preview-widget__wrapper",on:{click:function(c){return c.preventDefault(),e.onClick.apply(null,arguments)}}},[r("div",{staticClass:"document-preview-widget__information"},[r("div",{staticClass:"info"},[e._v(" "+e._s(e.document.classname)+" ")]),e.document.displayable!==e.document.classname?r("div",{staticClass:"info"},[e._v(" "+e._s(e.document.displayable)+" ")]):e._e(),e.document.embedPlatform?r("div",{staticClass:"info"},[e._v(" "+e._s(e.document.embedPlatform)+" ")]):e._e(),r("div",{staticClass:"close",on:{click:function(c){return c.preventDefault(),e.closePreview.apply(null,arguments)}}},[r("i",{staticClass:"uk-icon-times"})])]),r("div",{staticClass:"document-preview-widget__container",class:e.containerClass},[r("div",{domProps:{innerHTML:e._s(e.document.previewHtml)}})])])]):e._e()])},vk=[],bk=Ui(gk,mk,vk,!1,null,null);const yk=bk.exports;var xf={};const wk=Fg(r0);var Pf={exports:{}};/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */var xk=Pf.exports,Yp;function Ck(){return Yp||(Yp=1,(function(a,e){(function(r,c){a.exports=c()})(xk,(function(){function r(Q,m){var w=Object.keys(Q);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(Q);m&&(E=E.filter(function(z){return Object.getOwnPropertyDescriptor(Q,z).enumerable})),w.push.apply(w,E)}return w}function c(Q){for(var m=1;m<arguments.length;m++){var w=arguments[m]!=null?arguments[m]:{};m%2?r(Object(w),!0).forEach(function(E){x(Q,E,w[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(w)):r(Object(w)).forEach(function(E){Object.defineProperty(Q,E,Object.getOwnPropertyDescriptor(w,E))})}return Q}function d(Q,m){if(typeof Q!="object"||!Q)return Q;var w=Q[Symbol.toPrimitive];if(w!==void 0){var E=w.call(Q,m);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(Q)}function f(Q){var m=d(Q,"string");return typeof m=="symbol"?m:m+""}function p(Q){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},p(Q)}function g(Q,m){if(!(Q instanceof m))throw new TypeError("Cannot call a class as a function")}function b(Q,m){for(var w=0;w<m.length;w++){var E=m[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(Q,f(E.key),E)}}function C(Q,m,w){return m&&b(Q.prototype,m),w&&b(Q,w),Object.defineProperty(Q,"prototype",{writable:!1}),Q}function x(Q,m,w){return m=f(m),m in Q?Object.defineProperty(Q,m,{value:w,enumerable:!0,configurable:!0,writable:!0}):Q[m]=w,Q}function S(Q){return O(Q)||F(Q)||A(Q)||N()}function O(Q){if(Array.isArray(Q))return I(Q)}function F(Q){if(typeof Symbol<"u"&&Q[Symbol.iterator]!=null||Q["@@iterator"]!=null)return Array.from(Q)}function A(Q,m){if(Q){if(typeof Q=="string")return I(Q,m);var w=Object.prototype.toString.call(Q).slice(8,-1);if(w==="Object"&&Q.constructor&&(w=Q.constructor.name),w==="Map"||w==="Set")return Array.from(Q);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return I(Q,m)}}function I(Q,m){(m==null||m>Q.length)&&(m=Q.length);for(var w=0,E=new Array(m);w<m;w++)E[w]=Q[w];return E}function N(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Y=typeof window<"u"&&typeof window.document<"u",H=Y?window:{},K=Y&&H.document.documentElement?"ontouchstart"in H.document.documentElement:!1,J=Y?"PointerEvent"in H:!1,U="cropper",nt="all",gt="crop",mt="move",pt="zoom",ct="e",ht="w",It="s",it="n",Tt="ne",M="nw",xt="se",vt="sw",Kt="".concat(U,"-crop"),ie="".concat(U,"-disabled"),oe="".concat(U,"-hidden"),Ct="".concat(U,"-hide"),yt="".concat(U,"-invisible"),kt="".concat(U,"-modal"),Ut="".concat(U,"-move"),Qt="".concat(U,"Action"),j="".concat(U,"Preview"),et="crop",st="move",At="none",Ht="crop",zt="cropend",ce="cropmove",Oe="cropstart",me="dblclick",we=K?"touchstart":"mousedown",fe=K?"touchmove":"mousemove",ke=K?"touchend touchcancel":"mouseup",Ie=J?"pointerdown":we,rn=J?"pointermove":fe,le=J?"pointerup pointercancel":ke,Ee="ready",ft="resize",Bt="wheel",_t="zoom",Se="image/jpeg",Fn=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Xn=/^data:/,Wi=/^data:image\/jpeg;base64,/,Un=/^img|canvas$/i,en=200,ai=100,Tn={viewMode:0,dragMode:et,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:en,minContainerHeight:ai,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Li='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Ln=Number.isNaN||H.isNaN;function he(Q){return typeof Q=="number"&&!Ln(Q)}var ar=function(m){return m>0&&m<1/0};function Me(Q){return typeof Q>"u"}function Oi(Q){return p(Q)==="object"&&Q!==null}var ge=Object.prototype.hasOwnProperty;function Hn(Q){if(!Oi(Q))return!1;try{var m=Q.constructor,w=m.prototype;return m&&w&&ge.call(w,"isPrototypeOf")}catch{return!1}}function Ue(Q){return typeof Q=="function"}var dn=Array.prototype.slice;function ze(Q){return Array.from?Array.from(Q):dn.call(Q)}function Be(Q,m){return Q&&Ue(m)&&(Array.isArray(Q)||he(Q.length)?ze(Q).forEach(function(w,E){m.call(Q,w,E,Q)}):Oi(Q)&&Object.keys(Q).forEach(function(w){m.call(Q,Q[w],w,Q)})),Q}var $t=Object.assign||function(m){for(var w=arguments.length,E=new Array(w>1?w-1:0),z=1;z<w;z++)E[z-1]=arguments[z];return Oi(m)&&E.length>0&&E.forEach(function(W){Oi(W)&&Object.keys(W).forEach(function(q){m[q]=W[q]})}),m},Et=/\.\d*(?:0|9){12}\d*$/;function Yt(Q){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Et.test(Q)?Math.round(Q*m)/m:Q}var Ce=/^width|height|left|top|marginLeft|marginTop$/;function se(Q,m){var w=Q.style;Be(m,function(E,z){Ce.test(z)&&he(E)&&(E="".concat(E,"px")),w[z]=E})}function We(Q,m){return Q.classList?Q.classList.contains(m):Q.className.indexOf(m)>-1}function ue(Q,m){if(m){if(he(Q.length)){Be(Q,function(E){ue(E,m)});return}if(Q.classList){Q.classList.add(m);return}var w=Q.className.trim();w?w.indexOf(m)<0&&(Q.className="".concat(w," ").concat(m)):Q.className=m}}function _e(Q,m){if(m){if(he(Q.length)){Be(Q,function(w){_e(w,m)});return}if(Q.classList){Q.classList.remove(m);return}Q.className.indexOf(m)>=0&&(Q.className=Q.className.replace(m,""))}}function on(Q,m,w){if(m){if(he(Q.length)){Be(Q,function(E){on(E,m,w)});return}w?ue(Q,m):_e(Q,m)}}var mi=/([a-z\d])([A-Z])/g;function si(Q){return Q.replace(mi,"$1-$2").toLowerCase()}function En(Q,m){return Oi(Q[m])?Q[m]:Q.dataset?Q.dataset[m]:Q.getAttribute("data-".concat(si(m)))}function Te(Q,m,w){Oi(w)?Q[m]=w:Q.dataset?Q.dataset[m]=w:Q.setAttribute("data-".concat(si(m)),w)}function Xe(Q,m){if(Oi(Q[m]))try{delete Q[m]}catch{Q[m]=void 0}else if(Q.dataset)try{delete Q.dataset[m]}catch{Q.dataset[m]=void 0}else Q.removeAttribute("data-".concat(si(m)))}var an=/\s\s*/,Nn=(function(){var Q=!1;if(Y){var m=!1,w=function(){},E=Object.defineProperty({},"once",{get:function(){return Q=!0,m},set:function(W){m=W}});H.addEventListener("test",w,E),H.removeEventListener("test",w,E)}return Q})();function bn(Q,m,w){var E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},z=w;m.trim().split(an).forEach(function(W){if(!Nn){var q=Q.listeners;q&&q[W]&&q[W][w]&&(z=q[W][w],delete q[W][w],Object.keys(q[W]).length===0&&delete q[W],Object.keys(q).length===0&&delete Q.listeners)}Q.removeEventListener(W,z,E)})}function tn(Q,m,w){var E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},z=w;m.trim().split(an).forEach(function(W){if(E.once&&!Nn){var q=Q.listeners,at=q===void 0?{}:q;z=function(){delete at[W][w],Q.removeEventListener(W,z,E);for(var Pt=arguments.length,Lt=new Array(Pt),Ot=0;Ot<Pt;Ot++)Lt[Ot]=arguments[Ot];w.apply(Q,Lt)},at[W]||(at[W]={}),at[W][w]&&Q.removeEventListener(W,at[W][w],E),at[W][w]=z,Q.listeners=at}Q.addEventListener(W,z,E)})}function vi(Q,m,w){var E;return Ue(Event)&&Ue(CustomEvent)?E=new CustomEvent(m,{detail:w,bubbles:!0,cancelable:!0}):(E=document.createEvent("CustomEvent"),E.initCustomEvent(m,!0,!0,w)),Q.dispatchEvent(E)}function Mi(Q){var m=Q.getBoundingClientRect();return{left:m.left+(window.pageXOffset-document.documentElement.clientLeft),top:m.top+(window.pageYOffset-document.documentElement.clientTop)}}var bi=H.location,Ar=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Lr(Q){var m=Q.match(Ar);return m!==null&&(m[1]!==bi.protocol||m[2]!==bi.hostname||m[3]!==bi.port)}function sr(Q){var m="timestamp=".concat(new Date().getTime());return Q+(Q.indexOf("?")===-1?"?":"&")+m}function yi(Q){var m=Q.rotate,w=Q.scaleX,E=Q.scaleY,z=Q.translateX,W=Q.translateY,q=[];he(z)&&z!==0&&q.push("translateX(".concat(z,"px)")),he(W)&&W!==0&&q.push("translateY(".concat(W,"px)")),he(m)&&m!==0&&q.push("rotate(".concat(m,"deg)")),he(w)&&w!==1&&q.push("scaleX(".concat(w,")")),he(E)&&E!==1&&q.push("scaleY(".concat(E,")"));var at=q.length?q.join(" "):"none";return{WebkitTransform:at,msTransform:at,transform:at}}function Kr(Q){var m=c({},Q),w=0;return Be(Q,function(E,z){delete m[z],Be(m,function(W){var q=Math.abs(E.startX-W.startX),at=Math.abs(E.startY-W.startY),Mt=Math.abs(E.endX-W.endX),Pt=Math.abs(E.endY-W.endY),Lt=Math.sqrt(q*q+at*at),Ot=Math.sqrt(Mt*Mt+Pt*Pt),qt=(Ot-Lt)/Lt;Math.abs(qt)>Math.abs(w)&&(w=qt)})}),w}function li(Q,m){var w=Q.pageX,E=Q.pageY,z={endX:w,endY:E};return m?z:c({startX:w,startY:E},z)}function Ur(Q){var m=0,w=0,E=0;return Be(Q,function(z){var W=z.startX,q=z.startY;m+=W,w+=q,E+=1}),m/=E,w/=E,{pageX:m,pageY:w}}function Fi(Q){var m=Q.aspectRatio,w=Q.height,E=Q.width,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",W=ar(E),q=ar(w);if(W&&q){var at=w*m;z==="contain"&&at>E||z==="cover"&&at<E?w=E/m:E=w*m}else W?w=E/m:q&&(E=w*m);return{width:E,height:w}}function On(Q){var m=Q.width,w=Q.height,E=Q.degree;if(E=Math.abs(E)%180,E===90)return{width:w,height:m};var z=E%90*Math.PI/180,W=Math.sin(z),q=Math.cos(z),at=m*q+w*W,Mt=m*W+w*q;return E>90?{width:Mt,height:at}:{width:at,height:Mt}}function de(Q,m,w,E){var z=m.aspectRatio,W=m.naturalWidth,q=m.naturalHeight,at=m.rotate,Mt=at===void 0?0:at,Pt=m.scaleX,Lt=Pt===void 0?1:Pt,Ot=m.scaleY,qt=Ot===void 0?1:Ot,Ve=w.aspectRatio,Ze=w.naturalWidth,Mn=w.naturalHeight,pn=E.fillColor,_n=pn===void 0?"transparent":pn,Jn=E.imageSmoothingEnabled,Gn=Jn===void 0?!0:Jn,tr=E.imageSmoothingQuality,wi=tr===void 0?"low":tr,te=E.maxWidth,un=te===void 0?1/0:te,Qn=E.maxHeight,er=Qn===void 0?1/0:Qn,lr=E.minWidth,Vr=lr===void 0?0:lr,ho=E.minHeight,sn=ho===void 0?0:ho,Je=document.createElement("canvas"),xi=Je.getContext("2d"),br=Fi({aspectRatio:Ve,width:un,height:er}),Oo=Fi({aspectRatio:Ve,width:Vr,height:sn},"cover"),_a=Math.min(br.width,Math.max(Oo.width,Ze)),Sa=Math.min(br.height,Math.max(Oo.height,Mn)),Qo=Fi({aspectRatio:z,width:un,height:er}),hs=Fi({aspectRatio:z,width:Vr,height:sn},"cover"),ds=Math.min(Qo.width,Math.max(hs.width,W)),Cn=Math.min(Qo.height,Math.max(hs.height,q)),ps=[-ds/2,-Cn/2,ds,Cn];return Je.width=Yt(_a),Je.height=Yt(Sa),xi.fillStyle=_n,xi.fillRect(0,0,_a,Sa),xi.save(),xi.translate(_a/2,Sa/2),xi.rotate(Mt*Math.PI/180),xi.scale(Lt,qt),xi.imageSmoothingEnabled=Gn,xi.imageSmoothingQuality=wi,xi.drawImage.apply(xi,[Q].concat(S(ps.map(function(po){return Math.floor(Yt(po))})))),xi.restore(),Je}var Vi=String.fromCharCode;function vr(Q,m,w){var E="";w+=m;for(var z=m;z<w;z+=1)E+=Vi(Q.getUint8(z));return E}var Hi=/^data:.*,/;function P(Q){var m=Q.replace(Hi,""),w=atob(m),E=new ArrayBuffer(w.length),z=new Uint8Array(E);return Be(z,function(W,q){z[q]=w.charCodeAt(q)}),E}function V(Q,m){for(var w=[],E=8192,z=new Uint8Array(Q);z.length>0;)w.push(Vi.apply(null,ze(z.subarray(0,E)))),z=z.subarray(E);return"data:".concat(m,";base64,").concat(btoa(w.join("")))}function Dt(Q){var m=new DataView(Q),w;try{var E,z,W;if(m.getUint8(0)===255&&m.getUint8(1)===216)for(var q=m.byteLength,at=2;at+1<q;){if(m.getUint8(at)===255&&m.getUint8(at+1)===225){z=at;break}at+=1}if(z){var Mt=z+4,Pt=z+10;if(vr(m,Mt,4)==="Exif"){var Lt=m.getUint16(Pt);if(E=Lt===18761,(E||Lt===19789)&&m.getUint16(Pt+2,E)===42){var Ot=m.getUint32(Pt+4,E);Ot>=8&&(W=Pt+Ot)}}}if(W){var qt=m.getUint16(W,E),Ve,Ze;for(Ze=0;Ze<qt;Ze+=1)if(Ve=W+Ze*12+2,m.getUint16(Ve,E)===274){Ve+=8,w=m.getUint16(Ve,E),m.setUint16(Ve,1,E);break}}}catch{w=1}return w}function jt(Q){var m=0,w=1,E=1;switch(Q){case 2:w=-1;break;case 3:m=-180;break;case 4:E=-1;break;case 5:m=90,E=-1;break;case 6:m=90;break;case 7:m=90,w=-1;break;case 8:m=-90;break}return{rotate:m,scaleX:w,scaleY:E}}var bt={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var m=this.element,w=this.options,E=this.container,z=this.cropper,W=Number(w.minContainerWidth),q=Number(w.minContainerHeight);ue(z,oe),_e(m,oe);var at={width:Math.max(E.offsetWidth,W>=0?W:en),height:Math.max(E.offsetHeight,q>=0?q:ai)};this.containerData=at,se(z,{width:at.width,height:at.height}),ue(m,oe),_e(z,oe)},initCanvas:function(){var m=this.containerData,w=this.imageData,E=this.options.viewMode,z=Math.abs(w.rotate)%180===90,W=z?w.naturalHeight:w.naturalWidth,q=z?w.naturalWidth:w.naturalHeight,at=W/q,Mt=m.width,Pt=m.height;m.height*at>m.width?E===3?Mt=m.height*at:Pt=m.width/at:E===3?Pt=m.width/at:Mt=m.height*at;var Lt={aspectRatio:at,naturalWidth:W,naturalHeight:q,width:Mt,height:Pt};this.canvasData=Lt,this.limited=E===1||E===2,this.limitCanvas(!0,!0),Lt.width=Math.min(Math.max(Lt.width,Lt.minWidth),Lt.maxWidth),Lt.height=Math.min(Math.max(Lt.height,Lt.minHeight),Lt.maxHeight),Lt.left=(m.width-Lt.width)/2,Lt.top=(m.height-Lt.height)/2,Lt.oldLeft=Lt.left,Lt.oldTop=Lt.top,this.initialCanvasData=$t({},Lt)},limitCanvas:function(m,w){var E=this.options,z=this.containerData,W=this.canvasData,q=this.cropBoxData,at=E.viewMode,Mt=W.aspectRatio,Pt=this.cropped&&q;if(m){var Lt=Number(E.minCanvasWidth)||0,Ot=Number(E.minCanvasHeight)||0;at>1?(Lt=Math.max(Lt,z.width),Ot=Math.max(Ot,z.height),at===3&&(Ot*Mt>Lt?Lt=Ot*Mt:Ot=Lt/Mt)):at>0&&(Lt?Lt=Math.max(Lt,Pt?q.width:0):Ot?Ot=Math.max(Ot,Pt?q.height:0):Pt&&(Lt=q.width,Ot=q.height,Ot*Mt>Lt?Lt=Ot*Mt:Ot=Lt/Mt));var qt=Fi({aspectRatio:Mt,width:Lt,height:Ot});Lt=qt.width,Ot=qt.height,W.minWidth=Lt,W.minHeight=Ot,W.maxWidth=1/0,W.maxHeight=1/0}if(w)if(at>(Pt?0:1)){var Ve=z.width-W.width,Ze=z.height-W.height;W.minLeft=Math.min(0,Ve),W.minTop=Math.min(0,Ze),W.maxLeft=Math.max(0,Ve),W.maxTop=Math.max(0,Ze),Pt&&this.limited&&(W.minLeft=Math.min(q.left,q.left+(q.width-W.width)),W.minTop=Math.min(q.top,q.top+(q.height-W.height)),W.maxLeft=q.left,W.maxTop=q.top,at===2&&(W.width>=z.width&&(W.minLeft=Math.min(0,Ve),W.maxLeft=Math.max(0,Ve)),W.height>=z.height&&(W.minTop=Math.min(0,Ze),W.maxTop=Math.max(0,Ze))))}else W.minLeft=-W.width,W.minTop=-W.height,W.maxLeft=z.width,W.maxTop=z.height},renderCanvas:function(m,w){var E=this.canvasData,z=this.imageData;if(w){var W=On({width:z.naturalWidth*Math.abs(z.scaleX||1),height:z.naturalHeight*Math.abs(z.scaleY||1),degree:z.rotate||0}),q=W.width,at=W.height,Mt=E.width*(q/E.naturalWidth),Pt=E.height*(at/E.naturalHeight);E.left-=(Mt-E.width)/2,E.top-=(Pt-E.height)/2,E.width=Mt,E.height=Pt,E.aspectRatio=q/at,E.naturalWidth=q,E.naturalHeight=at,this.limitCanvas(!0,!1)}(E.width>E.maxWidth||E.width<E.minWidth)&&(E.left=E.oldLeft),(E.height>E.maxHeight||E.height<E.minHeight)&&(E.top=E.oldTop),E.width=Math.min(Math.max(E.width,E.minWidth),E.maxWidth),E.height=Math.min(Math.max(E.height,E.minHeight),E.maxHeight),this.limitCanvas(!1,!0),E.left=Math.min(Math.max(E.left,E.minLeft),E.maxLeft),E.top=Math.min(Math.max(E.top,E.minTop),E.maxTop),E.oldLeft=E.left,E.oldTop=E.top,se(this.canvas,$t({width:E.width,height:E.height},yi({translateX:E.left,translateY:E.top}))),this.renderImage(m),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(m){var w=this.canvasData,E=this.imageData,z=E.naturalWidth*(w.width/w.naturalWidth),W=E.naturalHeight*(w.height/w.naturalHeight);$t(E,{width:z,height:W,left:(w.width-z)/2,top:(w.height-W)/2}),se(this.image,$t({width:E.width,height:E.height},yi($t({translateX:E.left,translateY:E.top},E)))),m&&this.output()},initCropBox:function(){var m=this.options,w=this.canvasData,E=m.aspectRatio||m.initialAspectRatio,z=Number(m.autoCropArea)||.8,W={width:w.width,height:w.height};E&&(w.height*E>w.width?W.height=W.width/E:W.width=W.height*E),this.cropBoxData=W,this.limitCropBox(!0,!0),W.width=Math.min(Math.max(W.width,W.minWidth),W.maxWidth),W.height=Math.min(Math.max(W.height,W.minHeight),W.maxHeight),W.width=Math.max(W.minWidth,W.width*z),W.height=Math.max(W.minHeight,W.height*z),W.left=w.left+(w.width-W.width)/2,W.top=w.top+(w.height-W.height)/2,W.oldLeft=W.left,W.oldTop=W.top,this.initialCropBoxData=$t({},W)},limitCropBox:function(m,w){var E=this.options,z=this.containerData,W=this.canvasData,q=this.cropBoxData,at=this.limited,Mt=E.aspectRatio;if(m){var Pt=Number(E.minCropBoxWidth)||0,Lt=Number(E.minCropBoxHeight)||0,Ot=at?Math.min(z.width,W.width,W.width+W.left,z.width-W.left):z.width,qt=at?Math.min(z.height,W.height,W.height+W.top,z.height-W.top):z.height;Pt=Math.min(Pt,z.width),Lt=Math.min(Lt,z.height),Mt&&(Pt&&Lt?Lt*Mt>Pt?Lt=Pt/Mt:Pt=Lt*Mt:Pt?Lt=Pt/Mt:Lt&&(Pt=Lt*Mt),qt*Mt>Ot?qt=Ot/Mt:Ot=qt*Mt),q.minWidth=Math.min(Pt,Ot),q.minHeight=Math.min(Lt,qt),q.maxWidth=Ot,q.maxHeight=qt}w&&(at?(q.minLeft=Math.max(0,W.left),q.minTop=Math.max(0,W.top),q.maxLeft=Math.min(z.width,W.left+W.width)-q.width,q.maxTop=Math.min(z.height,W.top+W.height)-q.height):(q.minLeft=0,q.minTop=0,q.maxLeft=z.width-q.width,q.maxTop=z.height-q.height))},renderCropBox:function(){var m=this.options,w=this.containerData,E=this.cropBoxData;(E.width>E.maxWidth||E.width<E.minWidth)&&(E.left=E.oldLeft),(E.height>E.maxHeight||E.height<E.minHeight)&&(E.top=E.oldTop),E.width=Math.min(Math.max(E.width,E.minWidth),E.maxWidth),E.height=Math.min(Math.max(E.height,E.minHeight),E.maxHeight),this.limitCropBox(!1,!0),E.left=Math.min(Math.max(E.left,E.minLeft),E.maxLeft),E.top=Math.min(Math.max(E.top,E.minTop),E.maxTop),E.oldLeft=E.left,E.oldTop=E.top,m.movable&&m.cropBoxMovable&&Te(this.face,Qt,E.width>=w.width&&E.height>=w.height?mt:nt),se(this.cropBox,$t({width:E.width,height:E.height},yi({translateX:E.left,translateY:E.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),vi(this.element,Ht,this.getData())}},Zt={initPreview:function(){var m=this.element,w=this.crossOrigin,E=this.options.preview,z=w?this.crossOriginUrl:this.url,W=m.alt||"The image to preview",q=document.createElement("img");if(w&&(q.crossOrigin=w),q.src=z,q.alt=W,this.viewBox.appendChild(q),this.viewBoxImage=q,!!E){var at=E;typeof E=="string"?at=m.ownerDocument.querySelectorAll(E):E.querySelector&&(at=[E]),this.previews=at,Be(at,function(Mt){var Pt=document.createElement("img");Te(Mt,j,{width:Mt.offsetWidth,height:Mt.offsetHeight,html:Mt.innerHTML}),w&&(Pt.crossOrigin=w),Pt.src=z,Pt.alt=W,Pt.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',Mt.innerHTML="",Mt.appendChild(Pt)})}},resetPreview:function(){Be(this.previews,function(m){var w=En(m,j);se(m,{width:w.width,height:w.height}),m.innerHTML=w.html,Xe(m,j)})},preview:function(){var m=this.imageData,w=this.canvasData,E=this.cropBoxData,z=E.width,W=E.height,q=m.width,at=m.height,Mt=E.left-w.left-m.left,Pt=E.top-w.top-m.top;!this.cropped||this.disabled||(se(this.viewBoxImage,$t({width:q,height:at},yi($t({translateX:-Mt,translateY:-Pt},m)))),Be(this.previews,function(Lt){var Ot=En(Lt,j),qt=Ot.width,Ve=Ot.height,Ze=qt,Mn=Ve,pn=1;z&&(pn=qt/z,Mn=W*pn),W&&Mn>Ve&&(pn=Ve/W,Ze=z*pn,Mn=Ve),se(Lt,{width:Ze,height:Mn}),se(Lt.getElementsByTagName("img")[0],$t({width:q*pn,height:at*pn},yi($t({translateX:-Mt*pn,translateY:-Pt*pn},m))))}))}},Ge={bind:function(){var m=this.element,w=this.options,E=this.cropper;Ue(w.cropstart)&&tn(m,Oe,w.cropstart),Ue(w.cropmove)&&tn(m,ce,w.cropmove),Ue(w.cropend)&&tn(m,zt,w.cropend),Ue(w.crop)&&tn(m,Ht,w.crop),Ue(w.zoom)&&tn(m,_t,w.zoom),tn(E,Ie,this.onCropStart=this.cropStart.bind(this)),w.zoomable&&w.zoomOnWheel&&tn(E,Bt,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),w.toggleDragModeOnDblclick&&tn(E,me,this.onDblclick=this.dblclick.bind(this)),tn(m.ownerDocument,rn,this.onCropMove=this.cropMove.bind(this)),tn(m.ownerDocument,le,this.onCropEnd=this.cropEnd.bind(this)),w.responsive&&tn(window,ft,this.onResize=this.resize.bind(this))},unbind:function(){var m=this.element,w=this.options,E=this.cropper;Ue(w.cropstart)&&bn(m,Oe,w.cropstart),Ue(w.cropmove)&&bn(m,ce,w.cropmove),Ue(w.cropend)&&bn(m,zt,w.cropend),Ue(w.crop)&&bn(m,Ht,w.crop),Ue(w.zoom)&&bn(m,_t,w.zoom),bn(E,Ie,this.onCropStart),w.zoomable&&w.zoomOnWheel&&bn(E,Bt,this.onWheel,{passive:!1,capture:!0}),w.toggleDragModeOnDblclick&&bn(E,me,this.onDblclick),bn(m.ownerDocument,rn,this.onCropMove),bn(m.ownerDocument,le,this.onCropEnd),w.responsive&&bn(window,ft,this.onResize)}},Rn={resize:function(){if(!this.disabled){var m=this.options,w=this.container,E=this.containerData,z=w.offsetWidth/E.width,W=w.offsetHeight/E.height,q=Math.abs(z-1)>Math.abs(W-1)?z:W;if(q!==1){var at,Mt;m.restore&&(at=this.getCanvasData(),Mt=this.getCropBoxData()),this.render(),m.restore&&(this.setCanvasData(Be(at,function(Pt,Lt){at[Lt]=Pt*q})),this.setCropBoxData(Be(Mt,function(Pt,Lt){Mt[Lt]=Pt*q})))}}},dblclick:function(){this.disabled||this.options.dragMode===At||this.setDragMode(We(this.dragBox,Kt)?st:et)},wheel:function(m){var w=this,E=Number(this.options.wheelZoomRatio)||.1,z=1;this.disabled||(m.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){w.wheeling=!1},50),m.deltaY?z=m.deltaY>0?1:-1:m.wheelDelta?z=-m.wheelDelta/120:m.detail&&(z=m.detail>0?1:-1),this.zoom(-z*E,m)))},cropStart:function(m){var w=m.buttons,E=m.button;if(!(this.disabled||(m.type==="mousedown"||m.type==="pointerdown"&&m.pointerType==="mouse")&&(he(w)&&w!==1||he(E)&&E!==0||m.ctrlKey))){var z=this.options,W=this.pointers,q;m.changedTouches?Be(m.changedTouches,function(at){W[at.identifier]=li(at)}):W[m.pointerId||0]=li(m),Object.keys(W).length>1&&z.zoomable&&z.zoomOnTouch?q=pt:q=En(m.target,Qt),Fn.test(q)&&vi(this.element,Oe,{originalEvent:m,action:q})!==!1&&(m.preventDefault(),this.action=q,this.cropping=!1,q===gt&&(this.cropping=!0,ue(this.dragBox,kt)))}},cropMove:function(m){var w=this.action;if(!(this.disabled||!w)){var E=this.pointers;m.preventDefault(),vi(this.element,ce,{originalEvent:m,action:w})!==!1&&(m.changedTouches?Be(m.changedTouches,function(z){$t(E[z.identifier]||{},li(z,!0))}):$t(E[m.pointerId||0]||{},li(m,!0)),this.change(m))}},cropEnd:function(m){if(!this.disabled){var w=this.action,E=this.pointers;m.changedTouches?Be(m.changedTouches,function(z){delete E[z.identifier]}):delete E[m.pointerId||0],w&&(m.preventDefault(),Object.keys(E).length||(this.action=""),this.cropping&&(this.cropping=!1,on(this.dragBox,kt,this.cropped&&this.options.modal)),vi(this.element,zt,{originalEvent:m,action:w}))}}},Vn={change:function(m){var w=this.options,E=this.canvasData,z=this.containerData,W=this.cropBoxData,q=this.pointers,at=this.action,Mt=w.aspectRatio,Pt=W.left,Lt=W.top,Ot=W.width,qt=W.height,Ve=Pt+Ot,Ze=Lt+qt,Mn=0,pn=0,_n=z.width,Jn=z.height,Gn=!0,tr;!Mt&&m.shiftKey&&(Mt=Ot&&qt?Ot/qt:1),this.limited&&(Mn=W.minLeft,pn=W.minTop,_n=Mn+Math.min(z.width,E.width,E.left+E.width),Jn=pn+Math.min(z.height,E.height,E.top+E.height));var wi=q[Object.keys(q)[0]],te={x:wi.endX-wi.startX,y:wi.endY-wi.startY},un=function(er){switch(er){case ct:Ve+te.x>_n&&(te.x=_n-Ve);break;case ht:Pt+te.x<Mn&&(te.x=Mn-Pt);break;case it:Lt+te.y<pn&&(te.y=pn-Lt);break;case It:Ze+te.y>Jn&&(te.y=Jn-Ze);break}};switch(at){case nt:Pt+=te.x,Lt+=te.y;break;case ct:if(te.x>=0&&(Ve>=_n||Mt&&(Lt<=pn||Ze>=Jn))){Gn=!1;break}un(ct),Ot+=te.x,Ot<0&&(at=ht,Ot=-Ot,Pt-=Ot),Mt&&(qt=Ot/Mt,Lt+=(W.height-qt)/2);break;case it:if(te.y<=0&&(Lt<=pn||Mt&&(Pt<=Mn||Ve>=_n))){Gn=!1;break}un(it),qt-=te.y,Lt+=te.y,qt<0&&(at=It,qt=-qt,Lt-=qt),Mt&&(Ot=qt*Mt,Pt+=(W.width-Ot)/2);break;case ht:if(te.x<=0&&(Pt<=Mn||Mt&&(Lt<=pn||Ze>=Jn))){Gn=!1;break}un(ht),Ot-=te.x,Pt+=te.x,Ot<0&&(at=ct,Ot=-Ot,Pt-=Ot),Mt&&(qt=Ot/Mt,Lt+=(W.height-qt)/2);break;case It:if(te.y>=0&&(Ze>=Jn||Mt&&(Pt<=Mn||Ve>=_n))){Gn=!1;break}un(It),qt+=te.y,qt<0&&(at=it,qt=-qt,Lt-=qt),Mt&&(Ot=qt*Mt,Pt+=(W.width-Ot)/2);break;case Tt:if(Mt){if(te.y<=0&&(Lt<=pn||Ve>=_n)){Gn=!1;break}un(it),qt-=te.y,Lt+=te.y,Ot=qt*Mt}else un(it),un(ct),te.x>=0?Ve<_n?Ot+=te.x:te.y<=0&&Lt<=pn&&(Gn=!1):Ot+=te.x,te.y<=0?Lt>pn&&(qt-=te.y,Lt+=te.y):(qt-=te.y,Lt+=te.y);Ot<0&&qt<0?(at=vt,qt=-qt,Ot=-Ot,Lt-=qt,Pt-=Ot):Ot<0?(at=M,Ot=-Ot,Pt-=Ot):qt<0&&(at=xt,qt=-qt,Lt-=qt);break;case M:if(Mt){if(te.y<=0&&(Lt<=pn||Pt<=Mn)){Gn=!1;break}un(it),qt-=te.y,Lt+=te.y,Ot=qt*Mt,Pt+=W.width-Ot}else un(it),un(ht),te.x<=0?Pt>Mn?(Ot-=te.x,Pt+=te.x):te.y<=0&&Lt<=pn&&(Gn=!1):(Ot-=te.x,Pt+=te.x),te.y<=0?Lt>pn&&(qt-=te.y,Lt+=te.y):(qt-=te.y,Lt+=te.y);Ot<0&&qt<0?(at=xt,qt=-qt,Ot=-Ot,Lt-=qt,Pt-=Ot):Ot<0?(at=Tt,Ot=-Ot,Pt-=Ot):qt<0&&(at=vt,qt=-qt,Lt-=qt);break;case vt:if(Mt){if(te.x<=0&&(Pt<=Mn||Ze>=Jn)){Gn=!1;break}un(ht),Ot-=te.x,Pt+=te.x,qt=Ot/Mt}else un(It),un(ht),te.x<=0?Pt>Mn?(Ot-=te.x,Pt+=te.x):te.y>=0&&Ze>=Jn&&(Gn=!1):(Ot-=te.x,Pt+=te.x),te.y>=0?Ze<Jn&&(qt+=te.y):qt+=te.y;Ot<0&&qt<0?(at=Tt,qt=-qt,Ot=-Ot,Lt-=qt,Pt-=Ot):Ot<0?(at=xt,Ot=-Ot,Pt-=Ot):qt<0&&(at=M,qt=-qt,Lt-=qt);break;case xt:if(Mt){if(te.x>=0&&(Ve>=_n||Ze>=Jn)){Gn=!1;break}un(ct),Ot+=te.x,qt=Ot/Mt}else un(It),un(ct),te.x>=0?Ve<_n?Ot+=te.x:te.y>=0&&Ze>=Jn&&(Gn=!1):Ot+=te.x,te.y>=0?Ze<Jn&&(qt+=te.y):qt+=te.y;Ot<0&&qt<0?(at=M,qt=-qt,Ot=-Ot,Lt-=qt,Pt-=Ot):Ot<0?(at=vt,Ot=-Ot,Pt-=Ot):qt<0&&(at=Tt,qt=-qt,Lt-=qt);break;case mt:this.move(te.x,te.y),Gn=!1;break;case pt:this.zoom(Kr(q),m),Gn=!1;break;case gt:if(!te.x||!te.y){Gn=!1;break}tr=Mi(this.cropper),Pt=wi.startX-tr.left,Lt=wi.startY-tr.top,Ot=W.minWidth,qt=W.minHeight,te.x>0?at=te.y>0?xt:Tt:te.x<0&&(Pt-=Ot,at=te.y>0?vt:M),te.y<0&&(Lt-=qt),this.cropped||(_e(this.cropBox,oe),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}Gn&&(W.width=Ot,W.height=qt,W.left=Pt,W.top=Lt,this.action=at,this.renderCropBox()),Be(q,function(Qn){Qn.startX=Qn.endX,Qn.startY=Qn.endY})}},Zn={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&ue(this.dragBox,kt),_e(this.cropBox,oe),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=$t({},this.initialImageData),this.canvasData=$t({},this.initialCanvasData),this.cropBoxData=$t({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&($t(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),_e(this.dragBox,kt),ue(this.cropBox,oe)),this},replace:function(m){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&m&&(this.isImg&&(this.element.src=m),w?(this.url=m,this.image.src=m,this.ready&&(this.viewBoxImage.src=m,Be(this.previews,function(E){E.getElementsByTagName("img")[0].src=m}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(m))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,_e(this.cropper,ie)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,ue(this.cropper,ie)),this},destroy:function(){var m=this.element;return m[U]?(m[U]=void 0,this.isImg&&this.replaced&&(m.src=this.originalUrl),this.uncreate(),this):this},move:function(m){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m,E=this.canvasData,z=E.left,W=E.top;return this.moveTo(Me(m)?m:z+Number(m),Me(w)?w:W+Number(w))},moveTo:function(m){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m,E=this.canvasData,z=!1;return m=Number(m),w=Number(w),this.ready&&!this.disabled&&this.options.movable&&(he(m)&&(E.left=m,z=!0),he(w)&&(E.top=w,z=!0),z&&this.renderCanvas(!0)),this},zoom:function(m,w){var E=this.canvasData;return m=Number(m),m<0?m=1/(1-m):m=1+m,this.zoomTo(E.width*m/E.naturalWidth,null,w)},zoomTo:function(m,w,E){var z=this.options,W=this.canvasData,q=W.width,at=W.height,Mt=W.naturalWidth,Pt=W.naturalHeight;if(m=Number(m),m>=0&&this.ready&&!this.disabled&&z.zoomable){var Lt=Mt*m,Ot=Pt*m;if(vi(this.element,_t,{ratio:m,oldRatio:q/Mt,originalEvent:E})===!1)return this;if(E){var qt=this.pointers,Ve=Mi(this.cropper),Ze=qt&&Object.keys(qt).length?Ur(qt):{pageX:E.pageX,pageY:E.pageY};W.left-=(Lt-q)*((Ze.pageX-Ve.left-W.left)/q),W.top-=(Ot-at)*((Ze.pageY-Ve.top-W.top)/at)}else Hn(w)&&he(w.x)&&he(w.y)?(W.left-=(Lt-q)*((w.x-W.left)/q),W.top-=(Ot-at)*((w.y-W.top)/at)):(W.left-=(Lt-q)/2,W.top-=(Ot-at)/2);W.width=Lt,W.height=Ot,this.renderCanvas(!0)}return this},rotate:function(m){return this.rotateTo((this.imageData.rotate||0)+Number(m))},rotateTo:function(m){return m=Number(m),he(m)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=m%360,this.renderCanvas(!0,!0)),this},scaleX:function(m){var w=this.imageData.scaleY;return this.scale(m,he(w)?w:1)},scaleY:function(m){var w=this.imageData.scaleX;return this.scale(he(w)?w:1,m)},scale:function(m){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m,E=this.imageData,z=!1;return m=Number(m),w=Number(w),this.ready&&!this.disabled&&this.options.scalable&&(he(m)&&(E.scaleX=m,z=!0),he(w)&&(E.scaleY=w,z=!0),z&&this.renderCanvas(!0,!0)),this},getData:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,w=this.options,E=this.imageData,z=this.canvasData,W=this.cropBoxData,q;if(this.ready&&this.cropped){q={x:W.left-z.left,y:W.top-z.top,width:W.width,height:W.height};var at=E.width/E.naturalWidth;if(Be(q,function(Lt,Ot){q[Ot]=Lt/at}),m){var Mt=Math.round(q.y+q.height),Pt=Math.round(q.x+q.width);q.x=Math.round(q.x),q.y=Math.round(q.y),q.width=Pt-q.x,q.height=Mt-q.y}}else q={x:0,y:0,width:0,height:0};return w.rotatable&&(q.rotate=E.rotate||0),w.scalable&&(q.scaleX=E.scaleX||1,q.scaleY=E.scaleY||1),q},setData:function(m){var w=this.options,E=this.imageData,z=this.canvasData,W={};if(this.ready&&!this.disabled&&Hn(m)){var q=!1;w.rotatable&&he(m.rotate)&&m.rotate!==E.rotate&&(E.rotate=m.rotate,q=!0),w.scalable&&(he(m.scaleX)&&m.scaleX!==E.scaleX&&(E.scaleX=m.scaleX,q=!0),he(m.scaleY)&&m.scaleY!==E.scaleY&&(E.scaleY=m.scaleY,q=!0)),q&&this.renderCanvas(!0,!0);var at=E.width/E.naturalWidth;he(m.x)&&(W.left=m.x*at+z.left),he(m.y)&&(W.top=m.y*at+z.top),he(m.width)&&(W.width=m.width*at),he(m.height)&&(W.height=m.height*at),this.setCropBoxData(W)}return this},getContainerData:function(){return this.ready?$t({},this.containerData):{}},getImageData:function(){return this.sized?$t({},this.imageData):{}},getCanvasData:function(){var m=this.canvasData,w={};return this.ready&&Be(["left","top","width","height","naturalWidth","naturalHeight"],function(E){w[E]=m[E]}),w},setCanvasData:function(m){var w=this.canvasData,E=w.aspectRatio;return this.ready&&!this.disabled&&Hn(m)&&(he(m.left)&&(w.left=m.left),he(m.top)&&(w.top=m.top),he(m.width)?(w.width=m.width,w.height=m.width/E):he(m.height)&&(w.height=m.height,w.width=m.height*E),this.renderCanvas(!0)),this},getCropBoxData:function(){var m=this.cropBoxData,w;return this.ready&&this.cropped&&(w={left:m.left,top:m.top,width:m.width,height:m.height}),w||{}},setCropBoxData:function(m){var w=this.cropBoxData,E=this.options.aspectRatio,z,W;return this.ready&&this.cropped&&!this.disabled&&Hn(m)&&(he(m.left)&&(w.left=m.left),he(m.top)&&(w.top=m.top),he(m.width)&&m.width!==w.width&&(z=!0,w.width=m.width),he(m.height)&&m.height!==w.height&&(W=!0,w.height=m.height),E&&(z?w.height=w.width/E:W&&(w.width=w.height*E)),this.renderCropBox()),this},getCroppedCanvas:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var w=this.canvasData,E=de(this.image,this.imageData,w,m);if(!this.cropped)return E;var z=this.getData(m.rounded),W=z.x,q=z.y,at=z.width,Mt=z.height,Pt=E.width/Math.floor(w.naturalWidth);Pt!==1&&(W*=Pt,q*=Pt,at*=Pt,Mt*=Pt);var Lt=at/Mt,Ot=Fi({aspectRatio:Lt,width:m.maxWidth||1/0,height:m.maxHeight||1/0}),qt=Fi({aspectRatio:Lt,width:m.minWidth||0,height:m.minHeight||0},"cover"),Ve=Fi({aspectRatio:Lt,width:m.width||(Pt!==1?E.width:at),height:m.height||(Pt!==1?E.height:Mt)}),Ze=Ve.width,Mn=Ve.height;Ze=Math.min(Ot.width,Math.max(qt.width,Ze)),Mn=Math.min(Ot.height,Math.max(qt.height,Mn));var pn=document.createElement("canvas"),_n=pn.getContext("2d");pn.width=Yt(Ze),pn.height=Yt(Mn),_n.fillStyle=m.fillColor||"transparent",_n.fillRect(0,0,Ze,Mn);var Jn=m.imageSmoothingEnabled,Gn=Jn===void 0?!0:Jn,tr=m.imageSmoothingQuality;_n.imageSmoothingEnabled=Gn,tr&&(_n.imageSmoothingQuality=tr);var wi=E.width,te=E.height,un=W,Qn=q,er,lr,Vr,ho,sn,Je;un<=-at||un>wi?(un=0,er=0,Vr=0,sn=0):un<=0?(Vr=-un,un=0,er=Math.min(wi,at+un),sn=er):un<=wi&&(Vr=0,er=Math.min(at,wi-un),sn=er),er<=0||Qn<=-Mt||Qn>te?(Qn=0,lr=0,ho=0,Je=0):Qn<=0?(ho=-Qn,Qn=0,lr=Math.min(te,Mt+Qn),Je=lr):Qn<=te&&(ho=0,lr=Math.min(Mt,te-Qn),Je=lr);var xi=[un,Qn,er,lr];if(sn>0&&Je>0){var br=Ze/at;xi.push(Vr*br,ho*br,sn*br,Je*br)}return _n.drawImage.apply(_n,[E].concat(S(xi.map(function(Oo){return Math.floor(Yt(Oo))})))),pn},setAspectRatio:function(m){var w=this.options;return!this.disabled&&!Me(m)&&(w.aspectRatio=Math.max(0,m)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(m){var w=this.options,E=this.dragBox,z=this.face;if(this.ready&&!this.disabled){var W=m===et,q=w.movable&&m===st;m=W||q?m:At,w.dragMode=m,Te(E,Qt,m),on(E,Kt,W),on(E,Ut,q),w.cropBoxMovable||(Te(z,Qt,m),on(z,Kt,W),on(z,Ut,q))}return this}},Lo=H.Cropper,De=(function(){function Q(m){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(g(this,Q),!m||!Un.test(m.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=m,this.options=$t({},Tn,Hn(w)&&w),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return C(Q,[{key:"init",value:function(){var w=this.element,E=w.tagName.toLowerCase(),z;if(!w[U]){if(w[U]=this,E==="img"){if(this.isImg=!0,z=w.getAttribute("src")||"",this.originalUrl=z,!z)return;z=w.src}else E==="canvas"&&window.HTMLCanvasElement&&(z=w.toDataURL());this.load(z)}}},{key:"load",value:function(w){var E=this;if(w){this.url=w,this.imageData={};var z=this.element,W=this.options;if(!W.rotatable&&!W.scalable&&(W.checkOrientation=!1),!W.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Xn.test(w)){Wi.test(w)?this.read(P(w)):this.clone();return}var q=new XMLHttpRequest,at=this.clone.bind(this);this.reloading=!0,this.xhr=q,q.onabort=at,q.onerror=at,q.ontimeout=at,q.onprogress=function(){q.getResponseHeader("content-type")!==Se&&q.abort()},q.onload=function(){E.read(q.response)},q.onloadend=function(){E.reloading=!1,E.xhr=null},W.checkCrossOrigin&&Lr(w)&&z.crossOrigin&&(w=sr(w)),q.open("GET",w,!0),q.responseType="arraybuffer",q.withCredentials=z.crossOrigin==="use-credentials",q.send()}}},{key:"read",value:function(w){var E=this.options,z=this.imageData,W=Dt(w),q=0,at=1,Mt=1;if(W>1){this.url=V(w,Se);var Pt=jt(W);q=Pt.rotate,at=Pt.scaleX,Mt=Pt.scaleY}E.rotatable&&(z.rotate=q),E.scalable&&(z.scaleX=at,z.scaleY=Mt),this.clone()}},{key:"clone",value:function(){var w=this.element,E=this.url,z=w.crossOrigin,W=E;this.options.checkCrossOrigin&&Lr(E)&&(z||(z="anonymous"),W=sr(E)),this.crossOrigin=z,this.crossOriginUrl=W;var q=document.createElement("img");z&&(q.crossOrigin=z),q.src=W||E,q.alt=w.alt||"The image to crop",this.image=q,q.onload=this.start.bind(this),q.onerror=this.stop.bind(this),ue(q,Ct),w.parentNode.insertBefore(q,w.nextSibling)}},{key:"start",value:function(){var w=this,E=this.image;E.onload=null,E.onerror=null,this.sizing=!0;var z=H.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(H.navigator.userAgent),W=function(Pt,Lt){$t(w.imageData,{naturalWidth:Pt,naturalHeight:Lt,aspectRatio:Pt/Lt}),w.initialImageData=$t({},w.imageData),w.sizing=!1,w.sized=!0,w.build()};if(E.naturalWidth&&!z){W(E.naturalWidth,E.naturalHeight);return}var q=document.createElement("img"),at=document.body||document.documentElement;this.sizingImage=q,q.onload=function(){W(q.width,q.height),z||at.removeChild(q)},q.src=E.src,z||(q.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",at.appendChild(q))}},{key:"stop",value:function(){var w=this.image;w.onload=null,w.onerror=null,w.parentNode.removeChild(w),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var w=this.element,E=this.options,z=this.image,W=w.parentNode,q=document.createElement("div");q.innerHTML=Li;var at=q.querySelector(".".concat(U,"-container")),Mt=at.querySelector(".".concat(U,"-canvas")),Pt=at.querySelector(".".concat(U,"-drag-box")),Lt=at.querySelector(".".concat(U,"-crop-box")),Ot=Lt.querySelector(".".concat(U,"-face"));this.container=W,this.cropper=at,this.canvas=Mt,this.dragBox=Pt,this.cropBox=Lt,this.viewBox=at.querySelector(".".concat(U,"-view-box")),this.face=Ot,Mt.appendChild(z),ue(w,oe),W.insertBefore(at,w.nextSibling),_e(z,Ct),this.initPreview(),this.bind(),E.initialAspectRatio=Math.max(0,E.initialAspectRatio)||NaN,E.aspectRatio=Math.max(0,E.aspectRatio)||NaN,E.viewMode=Math.max(0,Math.min(3,Math.round(E.viewMode)))||0,ue(Lt,oe),E.guides||ue(Lt.getElementsByClassName("".concat(U,"-dashed")),oe),E.center||ue(Lt.getElementsByClassName("".concat(U,"-center")),oe),E.background&&ue(at,"".concat(U,"-bg")),E.highlight||ue(Ot,yt),E.cropBoxMovable&&(ue(Ot,Ut),Te(Ot,Qt,nt)),E.cropBoxResizable||(ue(Lt.getElementsByClassName("".concat(U,"-line")),oe),ue(Lt.getElementsByClassName("".concat(U,"-point")),oe)),this.render(),this.ready=!0,this.setDragMode(E.dragMode),E.autoCrop&&this.crop(),this.setData(E.data),Ue(E.ready)&&tn(w,Ee,E.ready,{once:!0}),vi(w,Ee)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var w=this.cropper.parentNode;w&&w.removeChild(this.cropper),_e(this.element,oe)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Lo,Q}},{key:"setDefaults",value:function(w){$t(Tn,Hn(w)&&w)}}])})();return $t(De.prototype,bt,Zt,Ge,Rn,Vn,Zn),De}))})(Pf)),Pf.exports}var jp;function kk(){if(jp)return xf;jp=1,Object.defineProperty(xf,"__esModule",{value:!0});var a=wk,e=d(a),r=Ck(),c=d(r);function d(b){return b&&b.__esModule?b:{default:b}}function f(b,C){var x={};for(var S in b)C.indexOf(S)>=0||Object.prototype.hasOwnProperty.call(b,S)&&(x[S]=b[S]);return x}var p=e.default.extend({render:function(C){return C("div",{style:this.containerStyle},[C("img",{ref:"img",attrs:{src:this.src,alt:this.alt||"image",style:"max-width: 100%"},style:this.imgStyle})])},props:{containerStyle:Object,src:{type:String,default:""},alt:String,imgStyle:Object,viewMode:Number,dragMode:String,aspectRatio:Number,data:Object,preview:String,responsive:{type:Boolean,default:!0},restore:{type:Boolean,default:!0},checkCrossOrigin:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},guides:{type:Boolean,default:!0},center:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0},background:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!0},autoCropArea:Number,movable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!0},scalable:{type:Boolean,default:!0},zoomable:{type:Boolean,default:!0},zoomOnTouch:{type:Boolean,default:!0},zoomOnWheel:{type:Boolean,default:!0},wheelZoomRatio:Number,cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},toggleDragModeOnDblclick:{type:Boolean,default:!0},minCanvasWidth:Number,minCanvasHeight:Number,minCropBoxWidth:Number,minCropBoxHeight:Number,minContainerWidth:Number,minContainerHeight:Number,ready:Function,cropstart:Function,cropmove:Function,cropend:Function,crop:Function,zoom:Function},mounted:function(){var C=this.$options.props;C.containerStyle,C.src,C.alt,C.imgStyle;var x=f(C,["containerStyle","src","alt","imgStyle"]),S={};for(var O in x)this[O]!==void 0&&(S[O]=this[O]);this.cropper=new c.default(this.$refs.img,S)},methods:{reset:function(){return this.cropper.reset()},clear:function(){return this.cropper.clear()},initCrop:function(){return this.cropper.crop()},replace:function(C){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.cropper.replace(C,x)},enable:function(){return this.cropper.enable()},disable:function(){return this.cropper.disable()},destroy:function(){return this.cropper.destroy()},move:function(C,x){return this.cropper.move(C,x)},moveTo:function(C){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return this.cropper.moveTo(C,x)},relativeZoom:function(C,x){return this.cropper.zoom(C,x)},zoomTo:function(C,x){return this.cropper.zoomTo(C,x)},rotate:function(C){return this.cropper.rotate(C)},rotateTo:function(C){return this.cropper.rotateTo(C)},scaleX:function(C){return this.cropper.scaleX(C)},scaleY:function(C){return this.cropper.scaleY(C)},scale:function(C){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C;return this.cropper.scale(C,x)},getData:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.cropper.getData(C)},setData:function(C){return this.cropper.setData(C)},getContainerData:function(){return this.cropper.getContainerData()},getImageData:function(){return this.cropper.getImageData()},getCanvasData:function(){return this.cropper.getCanvasData()},setCanvasData:function(C){return this.cropper.setCanvasData(C)},getCropBoxData:function(){return this.cropper.getCropBoxData()},setCropBoxData:function(C){return this.cropper.setCropBoxData(C)},getCroppedCanvas:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.cropper.getCroppedCanvas(C)},setAspectRatio:function(C){return this.cropper.setAspectRatio(C)},setDragMode:function(C){return this.cropper.setDragMode(C)}}}),g=e.default.component("vue-cropper",p);return xf.default=g,xf}kk();const Zf=typeof window<"u"&&typeof window.document<"u",Ao=Zf?window:{},Od=Zf?"ontouchstart"in Ao.document.documentElement:!1,Md=Zf?"PointerEvent"in Ao:!1,fs="cropper",jl=`${fs}-canvas`,Ek=`${fs}-crosshair`,_k=`${fs}-grid`,Sk=`${fs}-handle`,Hl=`${fs}-image`,Vo=`${fs}-selection`,Tk=`${fs}-shade`,Dk=`${fs}-viewer`,Xf="select",tv="move",Bl="scale",wd="rotate",Gf="transform",rs="none",Xp="n-resize",Gp="e-resize",qp="s-resize",Kp="w-resize",Bu="ne-resize",Yu="nw-resize",ju="se-resize",Xu="sw-resize",Ak="action",Lk=Od?"touchend touchcancel":"mouseup",Ok=Od?"touchmove":"mousemove",Mk=Od?"touchstart":"mousedown",Up=Md?"pointerdown":Mk,Vp=Md?"pointermove":Ok,Zp=Md?"pointerup pointercancel":Lk,Jp="error",Qp="keydown",zl="load",tg="wheel",Yl="action",Ks="actionend",Rk="actionmove",Us="actionstart",ss="change",xd="transform";function Nf(a){return typeof a=="string"}const ev=Number.isNaN||Ao.isNaN;function fn(a){return typeof a=="number"&&!ev(a)}function Dr(a){return fn(a)&&a>0&&a<1/0}function Pk(a){return typeof a>"u"}function nv(a){return typeof a=="object"&&a!==null}const{hasOwnProperty:Nk}=Object.prototype;function qf(a){if(!nv(a))return!1;try{const{constructor:e}=a,{prototype:r}=e;return e&&r&&Nk.call(r,"isPrototypeOf")}catch{return!1}}function Rd(a){return typeof a=="function"}function ec(a){return typeof a=="object"&&a!==null&&a.nodeType===1}const $k=/([a-z\d])([A-Z])/g;function eg(a){return String(a).replace($k,"$1-$2").toLowerCase()}const Ik=/-[A-z\d]/g;function ng(a){return a.replace(Ik,e=>e.slice(1).toUpperCase())}const iv=/\s\s*/;function zi(a,e,r,c){e.trim().split(iv).forEach(d=>{a.removeEventListener(d,r,c)})}function ji(a,e,r,c){e.trim().split(iv).forEach(d=>{a.addEventListener(d,r,c)})}function ig(a,e,r,c){ji(a,e,r,Object.assign(Object.assign({},c),{once:!0}))}const zk={bubbles:!0,cancelable:!0,composed:!0};function Wk(a,e,r,c){return a.dispatchEvent(new CustomEvent(e,Object.assign(Object.assign(Object.assign({},zk),{detail:r}),c)))}const rg=Promise.resolve();function Fk(a,e){return e?rg.then(a?e.bind(a):e):rg}function og(a){const{documentElement:e}=a.ownerDocument,r=a.getBoundingClientRect();return{left:r.left+(Ao.pageXOffset-e.clientLeft),top:r.top+(Ao.pageYOffset-e.clientTop)}}const Hk=/deg|g?rad|turn$/i;function ad(a){const e=parseFloat(a)||0;if(e!==0){const[r="rad"]=String(a).match(Hk)||[];switch(r.toLowerCase()){case"deg":return e/360*(Math.PI*2);case"grad":return e/400*(Math.PI*2);case"turn":return e*(Math.PI*2)}}return e}const ag="contain",Bk="cover";function $f(a,e=ag){const{aspectRatio:r}=a;let{width:c,height:d}=a;const f=Dr(c),p=Dr(d);if(f&&p){const g=d*r;e===ag&&g>c||e===Bk&&g<c?d=c/r:c=d*r}else f?d=c/r:p&&(c=d*r);return{width:c,height:d}}function rv(a,...e){if(e.length===0)return a;const[r,c,d,f,p,g]=a,[b,C,x,S,O,F]=e[0];return a=[r*b+d*C,c*b+f*C,r*x+d*S,c*x+f*S,r*O+d*F+p,c*O+f*F+g],rv(a,...e.slice(1))}var Yk=":host([hidden]){display:none!important}";const jk=/left|top|width|height/i,sg="open",Cf=new WeakMap,kf=new WeakMap,lg=new Map,ug=Ao.document&&Array.isArray(Ao.document.adoptedStyleSheets)&&"replaceSync"in Ao.CSSStyleSheet.prototype;class Ea extends HTMLElement{get $sharedStyle(){return`${this.themeColor?`:host{--theme-color: ${this.themeColor};}`:""}${Yk}`}constructor(){var e,r;super(),this.shadowRootMode=sg,this.slottable=!0;const c=(r=(e=Object.getPrototypeOf(this))===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.$name;c&&lg.set(c,this.tagName.toLowerCase())}static get observedAttributes(){return["shadow-root-mode","slottable","theme-color"]}attributeChangedCallback(e,r,c){if(Object.is(c,r))return;const d=ng(e),f=this[d];let p=c;switch(typeof f){case"boolean":p=c!==null&&c!=="false";break;case"number":p=Number(c);break}switch(this[d]=p,e){case"theme-color":{const g=kf.get(this),b=this.$sharedStyle;g&&b&&(ug?g.replaceSync(b):g.textContent=b);break}}}$propertyChangedCallback(e,r,c){if(!Object.is(c,r))switch(e=eg(e),typeof c){case"boolean":c===!0?this.hasAttribute(e)||this.setAttribute(e,""):this.removeAttribute(e);break;case"number":ev(c)?c="":c=String(c);default:c?this.getAttribute(e)!==c&&this.setAttribute(e,c):this.removeAttribute(e)}}connectedCallback(){Object.getPrototypeOf(this).constructor.observedAttributes.forEach(r=>{const c=ng(r);let d=this[c];Pk(d)||this.$propertyChangedCallback(c,void 0,d),Object.defineProperty(this,c,{enumerable:!0,configurable:!0,get(){return d},set(f){const p=d;d=f,this.$propertyChangedCallback(c,p,f)}})});const e=this.attachShadow({mode:this.shadowRootMode||sg});if(this.shadowRoot||Cf.set(this,e),kf.set(this,this.$addStyles(this.$sharedStyle)),this.$style&&this.$addStyles(this.$style),this.$template){const r=document.createElement("template");r.innerHTML=this.$template,e.appendChild(r.content)}if(this.slottable){const r=document.createElement("slot");e.appendChild(r)}}disconnectedCallback(){kf.has(this)&&kf.delete(this),Cf.has(this)&&Cf.delete(this)}$getTagNameOf(e){var r;return(r=lg.get(e))!==null&&r!==void 0?r:e}$setStyles(e){return Object.keys(e).forEach(r=>{let c=e[r];fn(c)&&(c!==0&&jk.test(r)?c=`${c}px`:c=String(c)),this.style[r]=c}),this}$getShadowRoot(){return this.shadowRoot||Cf.get(this)}$addStyles(e){let r;const c=this.$getShadowRoot();return ug?(r=new CSSStyleSheet,r.replaceSync(e),c.adoptedStyleSheets=c.adoptedStyleSheets.concat(r)):(r=document.createElement("style"),r.textContent=e,c.appendChild(r)),r}$emit(e,r,c){return Wk(this,e,r,c)}$nextTick(e){return Fk(this,e)}static $define(e,r){nv(e)&&(r=e,e=""),e||(e=this.$name||this.name),e=eg(e),Zf&&Ao.customElements&&!Ao.customElements.get(e)&&customElements.define(e,this,r)}}Ea.$version="2.0.0";var Xk=':host{display:block;min-height:100px;min-width:200px;overflow:hidden;position:relative;touch-action:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}:host([background]){background-color:#fff;background-image:repeating-linear-gradient(45deg,#ccc 25%,transparent 0,transparent 75%,#ccc 0,#ccc),repeating-linear-gradient(45deg,#ccc 25%,transparent 0,transparent 75%,#ccc 0,#ccc);background-image:repeating-conic-gradient(#ccc 0 25%,#fff 0 50%);background-position:0 0,.5rem .5rem;background-size:1rem 1rem}:host([disabled]){pointer-events:none}:host([disabled]):after{bottom:0;content:"";cursor:not-allowed;display:block;left:0;pointer-events:none;position:absolute;right:0;top:0}';class Pd extends Ea{constructor(){super(...arguments),this.$onPointerDown=null,this.$onPointerMove=null,this.$onPointerUp=null,this.$onWheel=null,this.$wheeling=!1,this.$pointers=new Map,this.$style=Xk,this.$action=rs,this.background=!1,this.disabled=!1,this.scaleStep=.1,this.themeColor="#39f"}static get observedAttributes(){return super.observedAttributes.concat(["background","disabled","scale-step"])}connectedCallback(){super.connectedCallback(),this.disabled||this.$bind()}disconnectedCallback(){this.disabled||this.$unbind(),super.disconnectedCallback()}$propertyChangedCallback(e,r,c){if(!Object.is(c,r))switch(super.$propertyChangedCallback(e,r,c),e){case"disabled":c?this.$unbind():this.$bind();break}}$bind(){this.$onPointerDown||(this.$onPointerDown=this.$handlePointerDown.bind(this),ji(this,Up,this.$onPointerDown)),this.$onPointerMove||(this.$onPointerMove=this.$handlePointerMove.bind(this),ji(this.ownerDocument,Vp,this.$onPointerMove)),this.$onPointerUp||(this.$onPointerUp=this.$handlePointerUp.bind(this),ji(this.ownerDocument,Zp,this.$onPointerUp)),this.$onWheel||(this.$onWheel=this.$handleWheel.bind(this),ji(this,tg,this.$onWheel,{passive:!1,capture:!0}))}$unbind(){this.$onPointerDown&&(zi(this,Up,this.$onPointerDown),this.$onPointerDown=null),this.$onPointerMove&&(zi(this.ownerDocument,Vp,this.$onPointerMove),this.$onPointerMove=null),this.$onPointerUp&&(zi(this.ownerDocument,Zp,this.$onPointerUp),this.$onPointerUp=null),this.$onWheel&&(zi(this,tg,this.$onWheel,{capture:!0}),this.$onWheel=null)}$handlePointerDown(e){const{buttons:r,button:c,type:d}=e;if(this.disabled||(d==="pointerdown"&&e.pointerType==="mouse"||d==="mousedown")&&(fn(r)&&r!==1||fn(c)&&c!==0||e.ctrlKey))return;const{$pointers:f}=this;let p="";if(e.changedTouches)Array.from(e.changedTouches).forEach(({identifier:g,pageX:b,pageY:C})=>{f.set(g,{startX:b,startY:C,endX:b,endY:C})});else{const{pointerId:g=0,pageX:b,pageY:C}=e;f.set(g,{startX:b,startY:C,endX:b,endY:C})}f.size>1?p=Gf:ec(e.target)&&(p=e.target.action||e.target.getAttribute(Ak)||""),this.$emit(Us,{action:p,relatedEvent:e})!==!1&&(e.preventDefault(),this.$action=p,this.style.willChange="transform")}$handlePointerMove(e){const{$action:r,$pointers:c}=this;if(this.disabled||r===rs||c.size===0||this.$emit(Rk,{action:r,relatedEvent:e})===!1)return;if(e.preventDefault(),e.changedTouches)Array.from(e.changedTouches).forEach(({identifier:f,pageX:p,pageY:g})=>{const b=c.get(f);b&&Object.assign(b,{endX:p,endY:g})});else{const{pointerId:f=0,pageX:p,pageY:g}=e,b=c.get(f);b&&Object.assign(b,{endX:p,endY:g})}const d={action:r,relatedEvent:e};if(r===Gf){const f=new Map(c);let p=0,g=0,b=0,C=0,x=e.pageX,S=e.pageY;c.forEach((A,I)=>{f.delete(I),f.forEach(N=>{let Y=N.startX-A.startX,H=N.startY-A.startY,K=N.endX-A.endX,J=N.endY-A.endY,U=0,nt=0,gt=0,mt=0;if(Y===0?H<0?gt=Math.PI*2:H>0&&(gt=Math.PI):Y>0?gt=Math.PI/2+Math.atan(H/Y):Y<0&&(gt=Math.PI*1.5+Math.atan(H/Y)),K===0?J<0?mt=Math.PI*2:J>0&&(mt=Math.PI):K>0?mt=Math.PI/2+Math.atan(J/K):K<0&&(mt=Math.PI*1.5+Math.atan(J/K)),mt>0||gt>0){const pt=mt-gt,ct=Math.abs(pt);ct>p&&(p=ct,b=pt,x=(A.startX+N.startX)/2,S=(A.startY+N.startY)/2)}if(Y=Math.abs(Y),H=Math.abs(H),K=Math.abs(K),J=Math.abs(J),Y>0&&H>0?U=Math.sqrt(Y*Y+H*H):Y>0?U=Y:H>0&&(U=H),K>0&&J>0?nt=Math.sqrt(K*K+J*J):K>0?nt=K:J>0&&(nt=J),U>0&&nt>0){const pt=(nt-U)/U,ct=Math.abs(pt);ct>g&&(g=ct,C=pt,x=(A.startX+N.startX)/2,S=(A.startY+N.startY)/2)}})});const O=p>0,F=g>0;O&&F?(d.rotate=b,d.scale=C,d.centerX=x,d.centerY=S):O?(d.action=wd,d.rotate=b,d.centerX=x,d.centerY=S):F?(d.action=Bl,d.scale=C,d.centerX=x,d.centerY=S):d.action=rs}else{const[f]=Array.from(c.values());Object.assign(d,f)}c.forEach(f=>{f.startX=f.endX,f.startY=f.endY}),d.action!==rs&&this.$emit(Yl,d,{cancelable:!1})}$handlePointerUp(e){const{$action:r,$pointers:c}=this;if(!(this.disabled||r===rs)&&this.$emit(Ks,{action:r,relatedEvent:e})!==!1){if(e.preventDefault(),e.changedTouches)Array.from(e.changedTouches).forEach(({identifier:d})=>{c.delete(d)});else{const{pointerId:d=0}=e;c.delete(d)}c.size===0&&(this.style.willChange="",this.$action=rs)}}$handleWheel(e){if(this.disabled||(e.preventDefault(),this.$wheeling))return;this.$wheeling=!0,setTimeout(()=>{this.$wheeling=!1},50);const c=(e.deltaY>0?-1:1)*this.scaleStep;this.$emit(Yl,{action:Bl,scale:c,relatedEvent:e},{cancelable:!1})}$setAction(e){return Nf(e)&&(this.$action=e),this}$toCanvas(e){return new Promise((r,c)=>{if(!this.isConnected){c(new Error("The current element is not connected to the DOM."));return}const d=document.createElement("canvas");let f=this.offsetWidth,p=this.offsetHeight,g=1;qf(e)&&(Dr(e.width)||Dr(e.height))&&({width:f,height:p}=$f({aspectRatio:f/p,width:e.width,height:e.height}),g=f/this.offsetWidth),d.width=f,d.height=p;const b=this.querySelector(this.$getTagNameOf(Hl));if(!b){r(d);return}b.$ready().then(C=>{const x=d.getContext("2d");if(x){const[S,O,F,A,I,N]=b.$getTransform();let Y=I,H=N,K=C.naturalWidth,J=C.naturalHeight;g!==1&&(Y*=g,H*=g,K*=g,J*=g);const U=K/2,nt=J/2;x.fillStyle="transparent",x.fillRect(0,0,f,p),qf(e)&&Rd(e.beforeDraw)&&e.beforeDraw.call(this,x,d),x.save(),x.translate(U,nt),x.transform(S,O,F,A,Y,H),x.translate(-U,-nt),x.drawImage(C,0,0,K,J),x.restore()}r(d)}).catch(c)})}}Pd.$name=jl;Pd.$version="2.0.0";var Gk=":host{display:inline-block}img{display:block;height:100%;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}";const cg=new WeakMap,fg=["alt","crossorigin","decoding","importance","loading","referrerpolicy","sizes","src","srcset"];class Nd extends Ea{constructor(){super(...arguments),this.$matrix=[1,0,0,1,0,0],this.$onLoad=null,this.$onCanvasAction=null,this.$onCanvasActionEnd=null,this.$onCanvasActionStart=null,this.$actionStartTarget=null,this.$style=Gk,this.$image=new Image,this.initialCenterSize="contain",this.rotatable=!1,this.scalable=!1,this.skewable=!1,this.slottable=!1,this.translatable=!1}set $canvas(e){cg.set(this,e)}get $canvas(){return cg.get(this)}static get observedAttributes(){return super.observedAttributes.concat(fg,["initial-center-size","rotatable","scalable","skewable","translatable"])}attributeChangedCallback(e,r,c){Object.is(c,r)||(super.attributeChangedCallback(e,r,c),fg.includes(e)&&this.$image.setAttribute(e,c))}$propertyChangedCallback(e,r,c){if(!Object.is(c,r))switch(super.$propertyChangedCallback(e,r,c),e){case"initialCenterSize":this.$nextTick(()=>{this.$center(c)});break}}connectedCallback(){super.connectedCallback();const{$image:e}=this,r=this.closest(this.$getTagNameOf(jl));r&&(this.$canvas=r,this.$setStyles({display:"block",position:"absolute"}),this.$onCanvasActionStart=c=>{var d,f;this.$actionStartTarget=(f=(d=c.detail)===null||d===void 0?void 0:d.relatedEvent)===null||f===void 0?void 0:f.target},this.$onCanvasActionEnd=()=>{this.$actionStartTarget=null},this.$onCanvasAction=this.$handleAction.bind(this),ji(r,Us,this.$onCanvasActionStart),ji(r,Ks,this.$onCanvasActionEnd),ji(r,Yl,this.$onCanvasAction)),this.$onLoad=this.$handleLoad.bind(this),ji(e,zl,this.$onLoad),this.$getShadowRoot().appendChild(e)}disconnectedCallback(){const{$image:e,$canvas:r}=this;r&&(this.$onCanvasActionStart&&(zi(r,Us,this.$onCanvasActionStart),this.$onCanvasActionStart=null),this.$onCanvasActionEnd&&(zi(r,Ks,this.$onCanvasActionEnd),this.$onCanvasActionEnd=null),this.$onCanvasAction&&(zi(r,Yl,this.$onCanvasAction),this.$onCanvasAction=null)),e&&this.$onLoad&&(zi(e,zl,this.$onLoad),this.$onLoad=null),this.$getShadowRoot().removeChild(e),super.disconnectedCallback()}$handleLoad(){const{$image:e}=this;this.$setStyles({width:e.naturalWidth,height:e.naturalHeight}),this.$canvas&&this.$center(this.initialCenterSize)}$handleAction(e){if(this.hidden||!(this.rotatable||this.scalable||this.translatable))return;const{$canvas:r}=this,{detail:c}=e;if(c){const{relatedEvent:d}=c;let{action:f}=c;switch(f===Gf&&(!this.rotatable||!this.scalable)&&(this.rotatable?f=wd:this.scalable?f=Bl:f=rs),f){case tv:if(this.translatable){let p=null;d&&(p=d.target.closest(this.$getTagNameOf(Vo))),p||(p=r.querySelector(this.$getTagNameOf(Vo))),p&&p.multiple&&!p.active&&(p=r.querySelector(`${this.$getTagNameOf(Vo)}[active]`)),(!p||p.hidden||!p.movable||p.dynamic||!(this.$actionStartTarget&&p.contains(this.$actionStartTarget)))&&this.$move(c.endX-c.startX,c.endY-c.startY)}break;case wd:if(this.rotatable)if(d){const{x:p,y:g}=this.getBoundingClientRect();this.$rotate(c.rotate,d.clientX-p,d.clientY-g)}else this.$rotate(c.rotate);break;case Bl:if(this.scalable)if(d){const p=d.target.closest(this.$getTagNameOf(Vo));if(!p||!p.zoomable||p.zoomable&&p.dynamic){const{x:g,y:b}=this.getBoundingClientRect();this.$zoom(c.scale,d.clientX-g,d.clientY-b)}}else this.$zoom(c.scale);break;case Gf:if(this.rotatable&&this.scalable){const{rotate:p}=c;let{scale:g}=c;g<0?g=1/(1-g):g+=1;const b=Math.cos(p),C=Math.sin(p),[x,S,O,F]=[b*g,C*g,-C*g,b*g];if(d){const A=this.getBoundingClientRect(),I=d.clientX-A.x,N=d.clientY-A.y,[Y,H,K,J]=this.$matrix,U=A.width/2,nt=A.height/2,gt=I-U,mt=N-nt,pt=(gt*J-K*mt)/(Y*J-K*H),ct=(mt*Y-H*gt)/(Y*J-K*H);this.$transform(x,S,O,F,pt*(1-x)+ct*O,ct*(1-F)+pt*S)}else this.$transform(x,S,O,F,0,0)}break}}}$ready(e){const{$image:r}=this,c=new Promise((d,f)=>{const p=new Error("Failed to load the image source");if(r.complete)r.naturalWidth>0&&r.naturalHeight>0?d(r):f(p);else{const g=()=>{zi(r,Jp,b),d(r)},b=()=>{zi(r,zl,g),f(p)};ig(r,zl,g),ig(r,Jp,b)}});return Rd(e)&&c.then(d=>(e(d),d)),c}$center(e){const{parentElement:r}=this;if(!r)return this;const c=r.getBoundingClientRect(),d=c.width,f=c.height,{x:p,y:g,width:b,height:C}=this.getBoundingClientRect(),x=p+b/2,S=g+C/2,O=c.x+d/2,F=c.y+f/2;if(this.$move(O-x,F-S),e&&(b!==d||C!==f)){const A=d/b,I=f/C;switch(e){case"cover":this.$scale(Math.max(A,I));break;case"contain":this.$scale(Math.min(A,I));break}}return this}$move(e,r=e){if(this.translatable&&fn(e)&&fn(r)){const[c,d,f,p]=this.$matrix,g=(e*p-f*r)/(c*p-f*d),b=(r*c-d*e)/(c*p-f*d);this.$translate(g,b)}return this}$moveTo(e,r=e){if(this.translatable&&fn(e)&&fn(r)){const[c,d,f,p]=this.$matrix,g=(e*p-f*r)/(c*p-f*d),b=(r*c-d*e)/(c*p-f*d);this.$setTransform(c,d,f,p,g,b)}return this}$rotate(e,r,c){if(this.rotatable){const d=ad(e),f=Math.cos(d),p=Math.sin(d),[g,b,C,x]=[f,p,-p,f];if(fn(r)&&fn(c)){const[S,O,F,A]=this.$matrix,{width:I,height:N}=this.getBoundingClientRect(),Y=I/2,H=N/2,K=r-Y,J=c-H,U=(K*A-F*J)/(S*A-F*O),nt=(J*S-O*K)/(S*A-F*O);this.$transform(g,b,C,x,U*(1-g)-nt*C,nt*(1-x)-U*b)}else this.$transform(g,b,C,x,0,0)}return this}$zoom(e,r,c){if(!this.scalable||e===0)return this;if(e<0?e=1/(1-e):e+=1,fn(r)&&fn(c)){const[d,f,p,g]=this.$matrix,{width:b,height:C}=this.getBoundingClientRect(),x=b/2,S=C/2,O=r-x,F=c-S,A=(O*g-p*F)/(d*g-p*f),I=(F*d-f*O)/(d*g-p*f);this.$transform(e,0,0,e,A*(1-e),I*(1-e))}else this.$scale(e);return this}$scale(e,r=e){return this.scalable&&this.$transform(e,0,0,r,0,0),this}$skew(e,r=0){if(this.skewable){const c=ad(e),d=ad(r);this.$transform(1,Math.tan(d),Math.tan(c),1,0,0)}return this}$translate(e,r=e){return this.translatable&&fn(e)&&fn(r)&&this.$transform(1,0,0,1,e,r),this}$transform(e,r,c,d,f,p){return fn(e)&&fn(r)&&fn(c)&&fn(d)&&fn(f)&&fn(p)?this.$setTransform(rv(this.$matrix,[e,r,c,d,f,p])):this}$setTransform(e,r,c,d,f,p){if((this.rotatable||this.scalable||this.skewable||this.translatable)&&(Array.isArray(e)&&([e,r,c,d,f,p]=e),fn(e)&&fn(r)&&fn(c)&&fn(d)&&fn(f)&&fn(p))){const g=[...this.$matrix],b=[e,r,c,d,f,p];if(this.$emit(xd,{matrix:b,oldMatrix:g})===!1)return this;this.$matrix=b,this.style.transform=`matrix(${b.join(", ")})`}return this}$getTransform(){return this.$matrix.slice()}$resetTransform(){return this.$setTransform([1,0,0,1,0,0])}}Nd.$name=Hl;Nd.$version="2.0.0";var qk=":host{display:block;height:0;left:0;outline:var(--theme-color) solid 1px;position:relative;top:0;width:0}:host([transparent]){outline-color:transparent}";const hg=new WeakMap;class $d extends Ea{constructor(){super(...arguments),this.$onCanvasChange=null,this.$onCanvasActionEnd=null,this.$onCanvasActionStart=null,this.$style=qk,this.x=0,this.y=0,this.width=0,this.height=0,this.slottable=!1,this.themeColor="rgba(0, 0, 0, 0.65)"}set $canvas(e){hg.set(this,e)}get $canvas(){return hg.get(this)}static get observedAttributes(){return super.observedAttributes.concat(["height","width","x","y"])}connectedCallback(){super.connectedCallback();const e=this.closest(this.$getTagNameOf(jl));if(e){this.$canvas=e,this.style.position="absolute";const r=e.querySelector(this.$getTagNameOf(Vo));r&&(this.$onCanvasActionStart=c=>{r.hidden&&c.detail.action===Xf&&(this.hidden=!1)},this.$onCanvasActionEnd=c=>{r.hidden&&c.detail.action===Xf&&(this.hidden=!0)},this.$onCanvasChange=c=>{const{x:d,y:f,width:p,height:g}=c.detail;this.$change(d,f,p,g),(r.hidden||d===0&&f===0&&p===0&&g===0)&&(this.hidden=!0)},ji(e,Us,this.$onCanvasActionStart),ji(e,Ks,this.$onCanvasActionEnd),ji(e,ss,this.$onCanvasChange))}this.$render()}disconnectedCallback(){const{$canvas:e}=this;e&&(this.$onCanvasActionStart&&(zi(e,Us,this.$onCanvasActionStart),this.$onCanvasActionStart=null),this.$onCanvasActionEnd&&(zi(e,Ks,this.$onCanvasActionEnd),this.$onCanvasActionEnd=null),this.$onCanvasChange&&(zi(e,ss,this.$onCanvasChange),this.$onCanvasChange=null)),super.disconnectedCallback()}$change(e,r,c=this.width,d=this.height){return!fn(e)||!fn(r)||!fn(c)||!fn(d)||e===this.x&&r===this.y&&c===this.width&&d===this.height?this:(this.hidden&&(this.hidden=!1),this.x=e,this.y=r,this.width=c,this.height=d,this.$render())}$reset(){return this.$change(0,0,0,0)}$render(){return this.$setStyles({transform:`translate(${this.x}px, ${this.y}px)`,width:this.width,height:this.height,outlineWidth:Ao.innerWidth})}}$d.$name=Tk;$d.$version="2.0.0";var Kk=':host{background-color:var(--theme-color);display:block}:host([action=move]),:host([action=select]){height:100%;left:0;position:absolute;top:0;width:100%}:host([action=move]){cursor:move}:host([action=select]){cursor:crosshair}:host([action$=-resize]){background-color:transparent;height:15px;position:absolute;width:15px}:host([action$=-resize]):after{background-color:var(--theme-color);content:"";display:block;height:5px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:5px}:host([action=n-resize]),:host([action=s-resize]){cursor:ns-resize;left:50%;transform:translateX(-50%);width:100%}:host([action=n-resize]){top:-8px}:host([action=s-resize]){bottom:-8px}:host([action=e-resize]),:host([action=w-resize]){cursor:ew-resize;height:100%;top:50%;transform:translateY(-50%)}:host([action=e-resize]){right:-8px}:host([action=w-resize]){left:-8px}:host([action=ne-resize]){cursor:nesw-resize;right:-8px;top:-8px}:host([action=nw-resize]){cursor:nwse-resize;left:-8px;top:-8px}:host([action=se-resize]){bottom:-8px;cursor:nwse-resize;right:-8px}:host([action=se-resize]):after{height:15px;width:15px}@media (pointer:coarse){:host([action=se-resize]):after{height:10px;width:10px}}@media (pointer:fine){:host([action=se-resize]):after{height:5px;width:5px}}:host([action=sw-resize]){bottom:-8px;cursor:nesw-resize;left:-8px}:host([plain]){background-color:transparent}';class Id extends Ea{constructor(){super(...arguments),this.$onCanvasCropEnd=null,this.$onCanvasCropStart=null,this.$style=Kk,this.action=rs,this.plain=!1,this.slottable=!1,this.themeColor="rgba(51, 153, 255, 0.5)"}static get observedAttributes(){return super.observedAttributes.concat(["action","plain"])}}Id.$name=Sk;Id.$version="2.0.0";var Uk=':host{display:block;left:0;position:relative;right:0}:host([outlined]){outline:1px solid var(--theme-color)}:host([multiple]){outline:1px dashed hsla(0,0%,100%,.5)}:host([multiple]):after{bottom:0;content:"";cursor:pointer;display:block;left:0;position:absolute;right:0;top:0}:host([multiple][active]){outline-color:var(--theme-color);z-index:1}:host([multiple])>*{visibility:hidden}:host([multiple][active])>*{visibility:visible}:host([multiple][active]):after{display:none}';const dg=new WeakMap;class zd extends Ea{constructor(){super(...arguments),this.$onCanvasAction=null,this.$onCanvasActionStart=null,this.$onCanvasActionEnd=null,this.$onDocumentKeyDown=null,this.$action="",this.$actionStartTarget=null,this.$changing=!1,this.$style=Uk,this.$initialSelection={x:0,y:0,width:0,height:0},this.x=0,this.y=0,this.width=0,this.height=0,this.aspectRatio=NaN,this.initialAspectRatio=NaN,this.initialCoverage=NaN,this.active=!1,this.linked=!1,this.dynamic=!1,this.movable=!1,this.resizable=!1,this.zoomable=!1,this.multiple=!1,this.keyboard=!1,this.outlined=!1,this.precise=!1}set $canvas(e){dg.set(this,e)}get $canvas(){return dg.get(this)}static get observedAttributes(){return super.observedAttributes.concat(["active","aspect-ratio","dynamic","height","initial-aspect-ratio","initial-coverage","keyboard","linked","movable","multiple","outlined","precise","resizable","width","x","y","zoomable"])}$propertyChangedCallback(e,r,c){if(!Object.is(c,r))switch(super.$propertyChangedCallback(e,r,c),e){case"x":case"y":case"width":case"height":this.$changing||this.$nextTick(()=>{this.$change(this.x,this.y,this.width,this.height,this.aspectRatio,!0)});break;case"aspectRatio":case"initialAspectRatio":this.$nextTick(()=>{this.$initSelection()});break;case"initialCoverage":this.$nextTick(()=>{Dr(c)&&c<=1&&this.$initSelection(!0,!0)});break;case"keyboard":this.$nextTick(()=>{this.$canvas&&(c?this.$onDocumentKeyDown||(this.$onDocumentKeyDown=this.$handleKeyDown.bind(this),ji(this.ownerDocument,Qp,this.$onDocumentKeyDown)):this.$onDocumentKeyDown&&(zi(this.ownerDocument,Qp,this.$onDocumentKeyDown),this.$onDocumentKeyDown=null))});break;case"multiple":this.$nextTick(()=>{if(this.$canvas){const d=this.$getSelections();c?(d.forEach(f=>{f.active=!1}),this.active=!0,this.$emit(ss,{x:this.x,y:this.y,width:this.width,height:this.height})):(this.active=!1,d.slice(1).forEach(f=>{this.$removeSelection(f)}))}});break;case"precise":this.$nextTick(()=>{this.$change(this.x,this.y)});break;case"linked":c&&(this.dynamic=!0);break}}connectedCallback(){super.connectedCallback();const e=this.closest(this.$getTagNameOf(jl));e?(this.$canvas=e,this.$setStyles({position:"absolute",transform:`translate(${this.x}px, ${this.y}px)`}),this.hidden||this.$render(),this.$initSelection(!0),this.$onCanvasActionStart=this.$handleActionStart.bind(this),this.$onCanvasActionEnd=this.$handleActionEnd.bind(this),this.$onCanvasAction=this.$handleAction.bind(this),ji(e,Us,this.$onCanvasActionStart),ji(e,Ks,this.$onCanvasActionEnd),ji(e,Yl,this.$onCanvasAction)):this.$render()}disconnectedCallback(){const{$canvas:e}=this;e&&(this.$onCanvasActionStart&&(zi(e,Us,this.$onCanvasActionStart),this.$onCanvasActionStart=null),this.$onCanvasActionEnd&&(zi(e,Ks,this.$onCanvasActionEnd),this.$onCanvasActionEnd=null),this.$onCanvasAction&&(zi(e,Yl,this.$onCanvasAction),this.$onCanvasAction=null)),super.disconnectedCallback()}$getSelections(){let e=[];return this.parentElement&&(e=Array.from(this.parentElement.querySelectorAll(this.$getTagNameOf(Vo)))),e}$initSelection(e=!1,r=!1){const{initialCoverage:c,parentElement:d}=this;if(Dr(c)&&d){const f=this.aspectRatio||this.initialAspectRatio;let p=(r?0:this.width)||d.offsetWidth*c,g=(r?0:this.height)||d.offsetHeight*c;Dr(f)&&({width:p,height:g}=$f({aspectRatio:f,width:p,height:g})),this.$change(this.x,this.y,p,g),e&&this.$center(),this.$initialSelection={x:this.x,y:this.y,width:this.width,height:this.height}}}$createSelection(){const e=this.cloneNode(!0);return this.hasAttribute("id")&&e.removeAttribute("id"),e.initialCoverage=NaN,this.active=!1,this.parentElement&&this.parentElement.insertBefore(e,this.nextSibling),e}$removeSelection(e=this){if(this.parentElement){const r=this.$getSelections();if(r.length>1){const c=r.indexOf(e),d=r[c+1]||r[c-1];d&&(e.active=!1,this.parentElement.removeChild(e),d.active=!0,d.$emit(ss,{x:d.x,y:d.y,width:d.width,height:d.height}))}else this.$clear()}}$handleActionStart(e){var r,c;const d=(c=(r=e.detail)===null||r===void 0?void 0:r.relatedEvent)===null||c===void 0?void 0:c.target;this.$action="",this.$actionStartTarget=d,!this.hidden&&this.multiple&&!this.active&&d===this&&this.parentElement&&(this.$getSelections().forEach(f=>{f.active=!1}),this.active=!0,this.$emit(ss,{x:this.x,y:this.y,width:this.width,height:this.height}))}$handleAction(e){const{currentTarget:r,detail:c}=e;if(!r||!c)return;const{relatedEvent:d}=c;let{action:f}=c;if(!f&&this.multiple&&(f=this.$action||d?.target.action,this.$action=f),!f||this.hidden&&f!==Xf||this.multiple&&!this.active&&f!==Bl)return;const p=c.endX-c.startX,g=c.endY-c.startY,{width:b,height:C}=this;let{aspectRatio:x}=this;switch(!Dr(x)&&d.shiftKey&&(x=Dr(b)&&Dr(C)?b/C:1),f){case Xf:if(p!==0&&g!==0){const{$canvas:S}=this,O=og(r);(this.multiple&&!this.hidden?this.$createSelection():this).$change(c.startX-O.left,c.startY-O.top,Math.abs(p),Math.abs(g),x),p<0?g<0?f=Yu:g>0&&(f=Xu):p>0&&(g<0?f=Bu:g>0&&(f=ju)),S&&(S.$action=f)}break;case tv:this.movable&&(this.dynamic||this.$actionStartTarget&&this.contains(this.$actionStartTarget))&&this.$move(p,g);break;case Bl:if(d&&this.zoomable&&(this.dynamic||this.contains(d.target))){const S=og(r);this.$zoom(c.scale,d.pageX-S.left,d.pageY-S.top)}break;default:this.$resize(f,p,g,x)}}$handleActionEnd(){this.$action="",this.$actionStartTarget=null}$handleKeyDown(e){if(this.hidden||!this.keyboard||this.multiple&&!this.active||e.defaultPrevented)return;const{activeElement:r}=document;if(!(r&&(["INPUT","TEXTAREA"].includes(r.tagName)||["true","plaintext-only"].includes(r.contentEditable))))switch(e.key){case"Backspace":e.metaKey&&(e.preventDefault(),this.$removeSelection());break;case"Delete":e.preventDefault(),this.$removeSelection();break;case"ArrowLeft":e.preventDefault(),this.$move(-1,0);break;case"ArrowRight":e.preventDefault(),this.$move(1,0);break;case"ArrowUp":e.preventDefault(),this.$move(0,-1);break;case"ArrowDown":e.preventDefault(),this.$move(0,1);break;case"+":e.preventDefault(),this.$zoom(.1);break;case"-":e.preventDefault(),this.$zoom(-.1);break}}$center(){const{parentElement:e}=this;if(!e)return this;const r=(e.offsetWidth-this.width)/2,c=(e.offsetHeight-this.height)/2;return this.$change(r,c)}$move(e,r=e){return this.$moveTo(this.x+e,this.y+r)}$moveTo(e,r=e){return this.movable?this.$change(e,r):this}$resize(e,r=0,c=0,d=this.aspectRatio){if(!this.resizable)return this;const f=Dr(d),{$canvas:p}=this;let{x:g,y:b,width:C,height:x}=this;switch(e){case Xp:b+=c,x-=c,x<0&&(e=qp,x=-x,b-=x),f&&(r=c*d,g+=r/2,C-=r,C<0&&(C=-C,g-=C));break;case Gp:C+=r,C<0&&(e=Kp,C=-C,g-=C),f&&(c=r/d,b-=c/2,x+=c,x<0&&(x=-x,b-=x));break;case qp:x+=c,x<0&&(e=Xp,x=-x,b-=x),f&&(r=c*d,g-=r/2,C+=r,C<0&&(C=-C,g-=C));break;case Kp:g+=r,C-=r,C<0&&(e=Gp,C=-C,g-=C),f&&(c=r/d,b+=c/2,x-=c,x<0&&(x=-x,b-=x));break;case Bu:f&&(c=-r/d),b+=c,x-=c,C+=r,C<0&&x<0?(e=Xu,C=-C,x=-x,g-=C,b-=x):C<0?(e=Yu,C=-C,g-=C):x<0&&(e=ju,x=-x,b-=x);break;case Yu:f&&(c=r/d),g+=r,b+=c,C-=r,x-=c,C<0&&x<0?(e=ju,C=-C,x=-x,g-=C,b-=x):C<0?(e=Bu,C=-C,g-=C):x<0&&(e=Xu,x=-x,b-=x);break;case ju:f&&(c=r/d),C+=r,x+=c,C<0&&x<0?(e=Yu,C=-C,x=-x,g-=C,b-=x):C<0?(e=Xu,C=-C,g-=C):x<0&&(e=Bu,x=-x,b-=x);break;case Xu:f&&(c=-r/d),g+=r,C-=r,x+=c,C<0&&x<0?(e=Bu,C=-C,x=-x,g-=C,b-=x):C<0?(e=ju,C=-C,g-=C):x<0&&(e=Yu,x=-x,b-=x);break}return p&&p.$setAction(e),this.$change(g,b,C,x)}$zoom(e,r,c){if(!this.zoomable||e===0)return this;e<0?e=1/(1-e):e+=1;const{width:d,height:f}=this,p=d*e,g=f*e;let b=this.x,C=this.y;return fn(r)&&fn(c)?(b-=(p-d)*((r-this.x)/d),C-=(g-f)*((c-this.y)/f)):(b-=(p-d)/2,C-=(g-f)/2),this.$change(b,C,p,g)}$change(e,r,c=this.width,d=this.height,f=this.aspectRatio,p=!1){return this.$changing||!fn(e)||!fn(r)||!fn(c)||!fn(d)||c<0||d<0?this:(Dr(f)&&({width:c,height:d}=$f({aspectRatio:f,width:c,height:d},"cover")),this.precise||(e=Math.round(e),r=Math.round(r),c=Math.round(c),d=Math.round(d)),e===this.x&&r===this.y&&c===this.width&&d===this.height&&Object.is(f,this.aspectRatio)&&!p?this:(this.hidden&&(this.hidden=!1),this.$emit(ss,{x:e,y:r,width:c,height:d})===!1?this:(this.$changing=!0,this.x=e,this.y=r,this.width=c,this.height=d,this.$changing=!1,this.$render())))}$reset(){const{x:e,y:r,width:c,height:d}=this.$initialSelection;return this.$change(e,r,c,d)}$clear(){return this.$change(0,0,0,0,NaN,!0),this.hidden=!0,this}$render(){return this.$setStyles({transform:`translate(${this.x}px, ${this.y}px)`,width:this.width,height:this.height})}$toCanvas(e){return new Promise((r,c)=>{if(!this.isConnected){c(new Error("The current element is not connected to the DOM."));return}const d=document.createElement("canvas");let{width:f,height:p}=this,g=1;if(qf(e)&&(Dr(e.width)||Dr(e.height))&&({width:f,height:p}=$f({aspectRatio:f/p,width:e.width,height:e.height}),g=f/this.width),d.width=f,d.height=p,!this.$canvas){r(d);return}const b=this.$canvas.querySelector(this.$getTagNameOf(Hl));if(!b){r(d);return}b.$ready().then(C=>{const x=d.getContext("2d");if(x){const[S,O,F,A,I,N]=b.$getTransform(),Y=-this.x,H=-this.y,K=(Y*A-F*H)/(S*A-F*O),J=(H*S-O*Y)/(S*A-F*O);let U=S*K+F*J+I,nt=O*K+A*J+N,gt=C.naturalWidth,mt=C.naturalHeight;g!==1&&(U*=g,nt*=g,gt*=g,mt*=g);const pt=gt/2,ct=mt/2;x.fillStyle="transparent",x.fillRect(0,0,f,p),qf(e)&&Rd(e.beforeDraw)&&e.beforeDraw.call(this,x,d),x.save(),x.translate(pt,ct),x.transform(S,O,F,A,U,nt),x.translate(-pt,-ct),x.drawImage(C,0,0,gt,mt),x.restore()}r(d)}).catch(c)})}}zd.$name=Vo;zd.$version="2.0.0";var Vk=":host{display:flex;flex-direction:column;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}:host([bordered]){border:1px dashed var(--theme-color)}:host([covered]){bottom:0;left:0;position:absolute;right:0;top:0}:host>span{display:flex;flex:1}:host>span+span{border-top:1px dashed var(--theme-color)}:host>span>span{flex:1}:host>span>span+span{border-left:1px dashed var(--theme-color)}";class Wd extends Ea{constructor(){super(...arguments),this.$style=Vk,this.bordered=!1,this.columns=3,this.covered=!1,this.rows=3,this.slottable=!1,this.themeColor="rgba(238, 238, 238, 0.5)"}static get observedAttributes(){return super.observedAttributes.concat(["bordered","columns","covered","rows"])}$propertyChangedCallback(e,r,c){Object.is(c,r)||(super.$propertyChangedCallback(e,r,c),(e==="rows"||e==="columns")&&this.$nextTick(()=>{this.$render()}))}connectedCallback(){super.connectedCallback(),this.$render()}$render(){const e=this.$getShadowRoot(),r=document.createDocumentFragment();for(let c=0;c<this.rows;c+=1){const d=document.createElement("span");d.setAttribute("role","row");for(let f=0;f<this.columns;f+=1){const p=document.createElement("span");p.setAttribute("role","gridcell"),d.appendChild(p)}r.appendChild(d)}e&&(e.innerHTML="",e.appendChild(r))}}Wd.$name=_k;Wd.$version="2.0.0";var Zk=':host{display:inline-block;height:1em;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;width:1em}:host:after,:host:before{background-color:var(--theme-color);content:"";display:block;position:absolute}:host:before{height:1px;left:0;top:50%;transform:translateY(-50%);width:100%}:host:after{height:100%;left:50%;top:0;transform:translateX(-50%);width:1px}:host([centered]){left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}';class Fd extends Ea{constructor(){super(...arguments),this.$style=Zk,this.centered=!1,this.slottable=!1,this.themeColor="rgba(238, 238, 238, 0.5)"}static get observedAttributes(){return super.observedAttributes.concat(["centered"])}}Fd.$name=Ek;Fd.$version="2.0.0";var Jk=":host{display:block;height:100%;overflow:hidden;position:relative;width:100%}";const pg=new WeakMap,gg=new WeakMap,mg=new WeakMap,vg=new WeakMap,Qk="both",tE="horizontal",bg="vertical",eE="none";class Hd extends Ea{constructor(){super(...arguments),this.$onSelectionChange=null,this.$onSourceImageLoad=null,this.$onSourceImageTransform=null,this.$scale=1,this.$style=Jk,this.resize=bg,this.selection="",this.slottable=!1}set $image(e){gg.set(this,e)}get $image(){return gg.get(this)}set $sourceImage(e){vg.set(this,e)}get $sourceImage(){return vg.get(this)}set $canvas(e){pg.set(this,e)}get $canvas(){return pg.get(this)}set $selection(e){mg.set(this,e)}get $selection(){return mg.get(this)}static get observedAttributes(){return super.observedAttributes.concat(["resize","selection"])}connectedCallback(){super.connectedCallback();let e=null;if(this.selection?e=this.ownerDocument.querySelector(this.selection):e=this.closest(this.$getTagNameOf(Vo)),ec(e)){this.$selection=e,this.$onSelectionChange=this.$handleSelectionChange.bind(this),ji(e,ss,this.$onSelectionChange);const r=e.closest(this.$getTagNameOf(jl));if(r){this.$canvas=r;const c=r.querySelector(this.$getTagNameOf(Hl));c&&(this.$sourceImage=c,this.$image=c.cloneNode(!0),this.$getShadowRoot().appendChild(this.$image),this.$onSourceImageLoad=this.$handleSourceImageLoad.bind(this),this.$onSourceImageTransform=this.$handleSourceImageTransform.bind(this),ji(c.$image,zl,this.$onSourceImageLoad),ji(c,xd,this.$onSourceImageTransform))}this.$render()}}disconnectedCallback(){const{$selection:e,$sourceImage:r}=this;e&&this.$onSelectionChange&&(zi(e,ss,this.$onSelectionChange),this.$onSelectionChange=null),r&&this.$onSourceImageLoad&&(zi(r.$image,zl,this.$onSourceImageLoad),this.$onSourceImageLoad=null),r&&this.$onSourceImageTransform&&(zi(r,xd,this.$onSourceImageTransform),this.$onSourceImageTransform=null),super.disconnectedCallback()}$handleSelectionChange(e){this.$render(e.detail)}$handleSourceImageLoad(){const{$image:e,$sourceImage:r}=this,c=e.getAttribute("src"),d=r.getAttribute("src");d&&d!==c&&(e.setAttribute("src",d),e.$ready(()=>{setTimeout(()=>{this.$render()},50)}))}$handleSourceImageTransform(e){this.$render(void 0,e.detail.matrix)}$render(e,r){const{$canvas:c,$selection:d}=this;!e&&!d.hidden&&(e=d),(!e||e.x===0&&e.y===0&&e.width===0&&e.height===0)&&(e={x:0,y:0,width:c.offsetWidth,height:c.offsetHeight});const{x:f,y:p,width:g,height:b}=e,C={},{clientWidth:x,clientHeight:S}=this;let O=x,F=S,A=NaN;switch(this.resize){case Qk:A=1,O=g,F=b,C.width=g,C.height=b;break;case tE:A=b>0?S/b:0,O=g*A,C.width=O;break;case bg:A=g>0?x/g:0,F=b*A,C.height=F;break;case eE:default:x>0?A=g>0?x/g:0:S>0&&(A=b>0?S/b:0)}this.$scale=A,this.$setStyles(C),this.$sourceImage&&this.$transformImageByOffset(r??this.$sourceImage.$getTransform(),-f,-p)}$transformImageByOffset(e,r,c){const{$image:d,$scale:f,$sourceImage:p}=this;if(p&&d&&f>=0){const[g,b,C,x,S,O]=e,F=(r*x-C*c)/(g*x-C*b),A=(c*g-b*r)/(g*x-C*b),I=g*F+C*A+S,N=b*F+x*A+O;d.$ready(Y=>{this.$setStyles.call(d,{width:Y.naturalWidth*f,height:Y.naturalHeight*f})}),d.$setTransform(g,b,C,x,I*f,N*f)}}}Hd.$name=Dk;Hd.$version="2.0.0";/*! Cropper.js v2.0.0 | (c) 2015-present Chen Fengyuan | MIT */var nE='<cropper-canvas background><cropper-image rotatable scalable skewable translatable></cropper-image><cropper-shade hidden></cropper-shade><cropper-handle action="select" plain></cropper-handle><cropper-selection initial-coverage="0.5" movable resizable><cropper-grid role="grid" bordered covered></cropper-grid><cropper-crosshair centered></cropper-crosshair><cropper-handle action="move" theme-color="rgba(255, 255, 255, 0.35)"></cropper-handle><cropper-handle action="n-resize"></cropper-handle><cropper-handle action="e-resize"></cropper-handle><cropper-handle action="s-resize"></cropper-handle><cropper-handle action="w-resize"></cropper-handle><cropper-handle action="ne-resize"></cropper-handle><cropper-handle action="nw-resize"></cropper-handle><cropper-handle action="se-resize"></cropper-handle><cropper-handle action="sw-resize"></cropper-handle></cropper-selection></cropper-canvas>';const iE=/^img|canvas$/,rE=/<(\/?(?:script|style)[^>]*)>/gi,yg={template:nE};Pd.$define();Fd.$define();Wd.$define();Id.$define();Nd.$define();zd.$define();$d.$define();Hd.$define();class ov{constructor(e,r){if(this.options=yg,Nf(e)&&(e=document.querySelector(e)),!ec(e)||!iE.test(e.localName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,r=Object.assign(Object.assign({},yg),r),this.options=r;const{ownerDocument:c}=e;let{container:d}=r;if(d&&(Nf(d)&&(d=c.querySelector(d)),!ec(d)))throw new Error("The `container` option must be an element or a valid selector.");ec(d)||(e.parentElement?d=e.parentElement:d=c.body),this.container=d;const f=e.localName;let p="";f==="img"?{src:p}=e:f==="canvas"&&window.HTMLCanvasElement&&(p=e.toDataURL());const{template:g}=r;if(g&&Nf(g)){const b=document.createElement("template"),C=document.createDocumentFragment();b.innerHTML=g.replace(rE,"&lt;$1&gt;"),C.appendChild(b.content),Array.from(C.querySelectorAll(Hl)).forEach(x=>{x.setAttribute("src",p),x.setAttribute("alt",e.alt||"The image to crop")}),e.parentElement?(e.style.display="none",d.insertBefore(C,e.nextSibling)):d.appendChild(C)}}getCropperCanvas(){return this.container.querySelector(jl)}getCropperImage(){return this.container.querySelector(Hl)}getCropperSelection(){return this.container.querySelector(Vo)}getCropperSelections(){return this.container.querySelectorAll(Vo)}}ov.version="2.0.0";const oE={props:{translations:{type:Object,required:!0},aspectRatio:{type:Function},cropping:{type:Boolean,required:!0},cropped:{type:Boolean,required:!0},overwrite:{type:Function,required:!0},undo:{type:Function,required:!0},setDragMode:{type:Function},zoomOut:{type:Function},zoomIn:{type:Function},rotateLeft:{type:Function},rotateRight:{type:Function},flipHorizontal:{type:Function},flipVertical:{type:Function},crop:{type:Function},move:{type:Function},clear:{type:Function}},data(){return{ratio:"free"}},mounted(){window.addEventListener("keydown",this.keydown,!1)},beforeDestroy(){window.removeEventListener("keydown",this.keydown,!1)},methods:{keydown(a){const e=a.keyCode;switch(e){case 90:this.undo&&(a.preventDefault(),this.undo());break}if(!this.cropped)switch(e){case 13:this.crop&&this.crop();break;case 27:this.clear&&this.clear();break;case 37:this.move&&(a.preventDefault(),this.move(-1,0));break;case 38:this.move&&(a.preventDefault(),this.move(0,-1));break;case 39:this.move&&(a.preventDefault(),this.move(1,0));break;case 40:this.move&&(a.preventDefault(),this.move(0,1));break;case 67:this.setDragMode&&this.setDragMode("crop");break;case 77:this.setDragMode&&this.setDragMode("move");break;case 73:this.zoomIn&&this.zoomIn();break;case 79:this.zoomOut&&this.zoomOut();break;case 76:this.rotateLeft&&this.rotateLeft();break;case 82:this.rotateRight&&this.rotateRight();break;case 72:this.flipHorizontal&&this.flipHorizontal();break;case 86:this.flipVertical&&this.flipVertical();break}}}};var aE=function(){var e=this,r=e._self._c;return r("div",{ref:"toolbar",staticClass:"toolbar"},[e.cropped?e._e():[e.setDragMode?r("button",{staticClass:"toolbar__button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.move},on:{click:function(c){return e.setDragMode("move")}}},[r("i",{staticClass:"uk-icon-arrows"})]):e._e(),e.setDragMode?r("button",{staticClass:"toolbar__button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.crop},on:{click:function(c){return e.setDragMode("crop")}}},[r("i",{staticClass:"uk-icon-crop"})]):e._e(),e.zoomIn?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.zoomIn},on:{click:e.zoomIn}},[r("i",{staticClass:"uk-icon-search-plus"})]):e._e(),e.zoomOut?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.zoomOut},on:{click:e.zoomOut}},[r("i",{staticClass:"uk-icon-search-minus"})]):e._e(),e.rotateLeft?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.rotateLeft},on:{click:e.rotateLeft}},[r("i",{staticClass:"uk-icon-rotate-left"})]):e._e(),e.rotateRight?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.rotateRight},on:{click:e.rotateRight}},[r("i",{staticClass:"uk-icon-rotate-right"})]):e._e(),e.flipHorizontal?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.flipHorizontal},on:{click:e.flipHorizontal}},[r("i",{staticClass:"uk-icon-arrows-h"})]):e._e(),e.flipVertical?r("button",{staticClass:"toolbar_button uk-button",attrs:{"data-uk-tooltip":"",title:e.translations.flipVertical},on:{click:e.flipVertical}},[r("i",{staticClass:"uk-icon-arrows-v"})]):e._e(),r("div",{staticClass:"toolbar__select_wraper",attrs:{"data-uk-tooltip":"",title:e.translations.aspectRatio}},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.ratio,expression:"ratio"}],staticClass:"toolbar__select uk-button",on:{change:[function(c){var d=Array.prototype.filter.call(c.target.options,function(f){return f.selected}).map(function(f){var p="_value"in f?f._value:f.value;return p});e.ratio=c.target.multiple?d:d[0]},e.aspectRatio]}},[r("optgroup",{attrs:{label:e.translations.other}},[r("option",{attrs:{value:"free"}},[e._v(e._s(e.translations.free))]),r("option",{attrs:{value:"1:1"}},[e._v("1:1")]),r("option",{attrs:{value:"4:3"}},[e._v("4:3")])]),r("optgroup",{attrs:{label:e.translations.landscape}},[r("option",{attrs:{value:"16:9"}},[e._v("16:9")]),r("option",{attrs:{value:"21:9"}},[e._v("21:9")])]),r("optgroup",{attrs:{label:e.translations.portrait}},[r("option",{attrs:{value:"9:16"}},[e._v("9:16")]),r("option",{attrs:{value:"9:21"}},[e._v("9:21")])])]),r("i",{staticClass:"uk-icon-arrow-down"})]),e.cropping&&!e.cropped?r("button",{staticClass:"toolbar_button uk-button uk-button-primary",attrs:{"data-uk-tooltip":"",title:e.translations.applyChange},on:{click:e.crop}},[r("i",{staticClass:"uk-icon-check"})]):e._e()],e.cropped?r("button",{staticClass:"toolbar_button uk-button uk-button-secondary",attrs:{"data-uk-tooltip":"",title:e.translations.undo},on:{click:e.undo}},[r("i",{staticClass:"uk-icon-undo"})]):e._e(),e.cropped?r("button",{staticClass:"toolbar_button uk-button uk-button-primary",attrs:{"data-uk-tooltip":"",title:e.translations.saveAndOverwrite},on:{click:e.overwrite}},[r("i",{staticClass:"uk-icon-floppy-o"}),e._v(" "+e._s(e.translations.saveAndOverwrite)+" ")]):e._e()],2)},sE=[],lE=Ui(oE,aE,sE,!1,null,"1b374443");const uE=lE.exports,cE={props:{srcUrl:{required:!0,type:String},filename:{required:!0,type:String}},data(){return{editable:!1,cropper:!1,cropping:!0,data:null,canvasData:null,cropBoxData:null,image:null,type:"",name:"",url:this.srcUrl,cropped:!1,aspectRatio:null}},mounted(){this.blanchetteEditorInit({url:this.url,editor:this.$refs.blanchetteEditor})},computed:{...Jo({originalUrl:a=>a.blanchetteEditor.originalUrl,isLoading:a=>a.blanchetteEditor.isLoading,translations:a=>a.translations})},methods:{...us(["blanchetteEditorInit","blanchetteEditorLoaded","blanchetteEditorSave"]),overwrite(){this.blanchetteEditorSave({url:this.url,filename:this.filename}).then(()=>this.restore())},async load(){await Cd(1e3),this.image||(this.image=this.$refs.image,this.start(),this.blanchetteEditorLoaded())},setAspectRatio(a){switch(a.target.value){case"1:1":this.aspectRatio=1;break;case"4:3":this.aspectRatio=4/3;break;case"16:9":this.aspectRatio=16/9;break;case"21:9":this.aspectRatio=21/9;break;case"9:16":this.aspectRatio=9/16;break;case"9:21":this.aspectRatio=9/21;break;default:this.aspectRatio=null}this.cropper.setAspectRatio(this.aspectRatio)},rotateRight(){this.cropper.rotate(90)},rotateLeft(){this.cropper.rotate(-90)},setDragMode(a){a&&this.cropper&&this.cropper.setDragMode(a)},zoomIn(){this.cropper.zoom(.1)},zoomOut(){this.cropper.zoom(-.1)},flipHorizontal(){this.cropper.scaleX(-this.cropper.getData().scaleX||-1)},flipVertical(){this.cropper.scaleY(-this.cropper.getData().scaleY||-1)},move(a,e){this.cropper.move(a,e)},start(){this.cropper||(this.cropper=new ov(this.image,{autoCrop:!1,dragMode:"move",background:!1,aspectRatio:this.aspectRatio,viewMode:1,zoomOnWheel:!1,ready(){this.data&&(this.cropper.crop().setData(this.data).setCanvasData(this.canvasData).setCropBoxData(this.cropBoxData),this.data=null,this.canvasData=null,this.cropBoxData=null)},crop(a){a.detail.width>0&&a.detail.height>0&&!this.cropping&&(this.cropping=!0)}}))},stop(){this.cropper&&(this.cropper.destroy(),this.cropper=null)},crop(){const a=this.cropper,e=this.type;this.cropping&&(this.originalUrl=this.url,this.data=a.getData(),this.canvasData=a.getCanvasData(),this.cropBoxData=a.getCropBoxData(),this.url=a.getCroppedCanvas(e==="image/png"?null:{fillColor:"#fff"}).toDataURL(e),this.cropped=!0,this.stop())},clear(){this.cropping&&this.cropper.clear()},restore(){this.cropper||(this.image=null,this.url=this.originalUrl,this.originalUrl="",this.cropped=!1)}},components:{BlanchetteToolbar:uE}};var fE=function(){var e=this,r=e._self._c;return r("div",{ref:"blanchetteEditor",staticClass:"blanchette-editor"},[r("div",{staticClass:"canvas"},[e.isLoading?r("transition",{attrs:{name:"fade"}},[r("div",{staticClass:"spinner-container"},[r("div",{staticClass:"spinner"})])]):e._e(),r("blanchette-toolbar",{attrs:{"flip-horizontal":e.flipHorizontal,"flip-vertical":e.flipVertical,"zoom-in":e.zoomIn,"zoom-out":e.zoomOut,"rotate-left":e.rotateLeft,"rotate-right":e.rotateRight,crop:e.crop,clear:e.clear,move:e.move,cropped:e.cropped,cropping:e.cropping,undo:e.restore,"aspect-ratio":e.setAspectRatio,overwrite:e.overwrite,translations:e.translations.blanchetteEditor,"set-drag-mode":e.setDragMode}}),r("div",{staticClass:"editor"},[e.url?[r("img",{ref:"image",attrs:{src:e.url,alt:e.name},on:{load:e.load}})]:e._e()],2)],1),e._t("default")],2)},hE=[],dE=Ui(cE,fE,hE,!1,null,"748e943a");const pE=dE.exports;var sd={exports:{}},wg;function gE(){return wg||(wg=1,(function(a,e){(function(r,c){a.exports=c()})(window,function(){return d={},r.m=c=[function(f,p,g){var b=g(6);typeof b=="string"&&(b=[[f.i,b,""]]),b.locals&&(f.exports=b.locals),(0,g(4).default)("27d83796",b,!1,{})},function(f,p,g){var b=g(8);typeof b=="string"&&(b=[[f.i,b,""]]),b.locals&&(f.exports=b.locals),(0,g(4).default)("0e783494",b,!1,{})},function(f,p,g){var b=g(10);typeof b=="string"&&(b=[[f.i,b,""]]),b.locals&&(f.exports=b.locals),(0,g(4).default)("17757f60",b,!1,{})},function(f,p){f.exports=function(g){var b=[];return b.toString=function(){return this.map(function(C){var x=(function(S,O){var F=S[1]||"",A=S[3];if(!A)return F;if(O&&typeof btoa=="function"){var I=(function(Y){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(Y))))+" */"})(A),N=A.sources.map(function(Y){return"/*# sourceURL="+A.sourceRoot+Y+" */"});return[F].concat(N).concat([I]).join(`
`)}return[F].join(`
`)})(C,g);return C[2]?"@media "+C[2]+"{"+x+"}":x}).join("")},b.i=function(C,x){typeof C=="string"&&(C=[[null,C,""]]);for(var S={},O=0;O<this.length;O++){var F=this[O][0];typeof F=="number"&&(S[F]=!0)}for(O=0;O<C.length;O++){var A=C[O];typeof A[0]=="number"&&S[A[0]]||(x&&!A[2]?A[2]=x:x&&(A[2]="("+A[2]+") and ("+x+")"),b.push(A))}},b}},function(f,p,g){function b(ct,ht){for(var It=[],it={},Tt=0;Tt<ht.length;Tt++){var M=ht[Tt],xt=M[0],vt={id:ct+":"+Tt,css:M[1],media:M[2],sourceMap:M[3]};it[xt]?it[xt].parts.push(vt):It.push(it[xt]={id:xt,parts:[vt]})}return It}g.r(p),g.d(p,"default",function(){return K});var C=typeof document<"u";if(typeof DEBUG<"u"&&DEBUG&&!C)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var x={},S=C&&(document.head||document.getElementsByTagName("head")[0]),O=null,F=0,A=!1,I=function(){},N=null,Y="data-vue-ssr-id",H=typeof navigator<"u"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function K(ct,ht,It,it){A=It,N=it||{};var Tt=b(ct,ht);return J(Tt),function(M){for(var xt=[],vt=0;vt<Tt.length;vt++){var Kt=Tt[vt];(ie=x[Kt.id]).refs--,xt.push(ie)}for(M?J(Tt=b(ct,M)):Tt=[],vt=0;vt<xt.length;vt++){var ie;if((ie=xt[vt]).refs===0){for(var oe=0;oe<ie.parts.length;oe++)ie.parts[oe]();delete x[ie.id]}}}}function J(ct){for(var ht=0;ht<ct.length;ht++){var It=ct[ht],it=x[It.id];if(it){it.refs++;for(var Tt=0;Tt<it.parts.length;Tt++)it.parts[Tt](It.parts[Tt]);for(;Tt<It.parts.length;Tt++)it.parts.push(nt(It.parts[Tt]));it.parts.length>It.parts.length&&(it.parts.length=It.parts.length)}else{var M=[];for(Tt=0;Tt<It.parts.length;Tt++)M.push(nt(It.parts[Tt]));x[It.id]={id:It.id,refs:1,parts:M}}}}function U(){var ct=document.createElement("style");return ct.type="text/css",S.appendChild(ct),ct}function nt(ct){var ht,It,it=document.querySelector("style["+Y+'~="'+ct.id+'"]');if(it){if(A)return I;it.parentNode.removeChild(it)}if(H){var Tt=F++;it=O=O||U(),ht=pt.bind(null,it,Tt,!1),It=pt.bind(null,it,Tt,!0)}else it=U(),ht=(function(M,xt){var vt=xt.css,Kt=xt.media,ie=xt.sourceMap;if(Kt&&M.setAttribute("media",Kt),N.ssrId&&M.setAttribute(Y,xt.id),ie&&(vt+=`
/*# sourceURL=`+ie.sources[0]+" */",vt+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(ie))))+" */"),M.styleSheet)M.styleSheet.cssText=vt;else{for(;M.firstChild;)M.removeChild(M.firstChild);M.appendChild(document.createTextNode(vt))}}).bind(null,it),It=function(){it.parentNode.removeChild(it)};return ht(ct),function(M){if(M){if(M.css===ct.css&&M.media===ct.media&&M.sourceMap===ct.sourceMap)return;ht(ct=M)}else It()}}var gt,mt=(gt=[],function(ct,ht){return gt[ct]=ht,gt.filter(Boolean).join(`
`)});function pt(ct,ht,It,it){var Tt=It?"":it.css;if(ct.styleSheet)ct.styleSheet.cssText=mt(ht,Tt);else{var M=document.createTextNode(Tt),xt=ct.childNodes;xt[ht]&&ct.removeChild(xt[ht]),xt.length?ct.insertBefore(M,xt[ht]):ct.appendChild(M)}}},function(f,p,g){var b=g(0);g.n(b).a},function(f,p,g){(f.exports=g(3)(!1)).push([f.i,`
.vue-modal-resizer {
  display: block;
  overflow: hidden;
  position: absolute;
  width: 12px;
  height: 12px;
  right: 0;
  bottom: 0;
  z-index: 9999999;
  background: transparent;
  cursor: se-resize;
}
.vue-modal-resizer::after {
  display: block;
  position: absolute;
  content: '';
  background: transparent;
  left: 0;
  top: 0;
  width: 0;
  height: 0;
  border-bottom: 10px solid #ddd;
  border-left: 10px solid transparent;
}
.vue-modal-resizer.clicked::after {
  border-bottom: 10px solid #369be9;
}
`,""])},function(f,p,g){var b=g(1);g.n(b).a},function(f,p,g){(f.exports=g(3)(!1)).push([f.i,`
.v--modal-block-scroll {
  overflow: hidden;
  width: 100vw;
}
.v--modal-overlay {
  position: fixed;
  box-sizing: border-box;
  left: 0;
  top: 0;
  width: 100%;
  height: 100vh;
  background: rgba(0, 0, 0, 0.2);
  z-index: 999;
  opacity: 1;
}
.v--modal-overlay.scrollable {
  height: 100%;
  min-height: 100vh;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}
.v--modal-overlay .v--modal-background-click {
  width: 100%;
  min-height: 100%;
  height: auto;
}
.v--modal-overlay .v--modal-box {
  position: relative;
  overflow: hidden;
  box-sizing: border-box;
}
.v--modal-overlay.scrollable .v--modal-box {
  margin-bottom: 2px;
}
.v--modal {
  background-color: white;
  text-align: left;
  border-radius: 3px;
  box-shadow: 0 20px 60px -2px rgba(27, 33, 58, 0.4);
  padding: 0;
}
.v--modal.v--modal-fullscreen {
  width: 100vw;
  height: 100vh;
  margin: 0;
  left: 0;
  top: 0;
}
.v--modal-top-right {
  display: block;
  position: absolute;
  right: 0;
  top: 0;
}
.overlay-fade-enter-active,
.overlay-fade-leave-active {
  transition: all 0.2s;
}
.overlay-fade-enter,
.overlay-fade-leave-active {
  opacity: 0;
}
.nice-modal-fade-enter-active,
.nice-modal-fade-leave-active {
  transition: all 0.4s;
}
.nice-modal-fade-enter,
.nice-modal-fade-leave-active {
  opacity: 0;
  transform: translateY(-20px);
}
`,""])},function(f,p,g){var b=g(2);g.n(b).a},function(f,p,g){(f.exports=g(3)(!1)).push([f.i,`
.vue-dialog div {
  box-sizing: border-box;
}
.vue-dialog .dialog-flex {
  width: 100%;
  height: 100%;
}
.vue-dialog .dialog-content {
  flex: 1 0 auto;
  width: 100%;
  padding: 15px;
  font-size: 14px;
}
.vue-dialog .dialog-c-title {
  font-weight: 600;
  padding-bottom: 15px;
}
.vue-dialog .dialog-c-text {
}
.vue-dialog .vue-dialog-buttons {
  display: flex;
  flex: 0 1 auto;
  width: 100%;
  border-top: 1px solid #eee;
}
.vue-dialog .vue-dialog-buttons-none {
  width: 100%;
  padding-bottom: 15px;
}
.vue-dialog-button {
  font-size: 12px !important;
  background: transparent;
  padding: 0;
  margin: 0;
  border: 0;
  cursor: pointer;
  box-sizing: border-box;
  line-height: 40px;
  height: 40px;
  color: inherit;
  font: inherit;
  outline: none;
}
.vue-dialog-button:hover {
  background: rgba(0, 0, 0, 0.01);
}
.vue-dialog-button:active {
  background: rgba(0, 0, 0, 0.025);
}
.vue-dialog-button:not(:first-of-type) {
  border-left: 1px solid #eee;
}
`,""])},function(f,p,g){g.r(p),g.d(p,"getModalsContainer",function(){return kt});function b(){var j=this,et=j.$createElement,st=j._self._c||et;return st("transition",{attrs:{name:j.overlayTransition}},[j.visibility.overlay?st("div",{ref:"overlay",class:j.overlayClass,attrs:{"aria-expanded":j.visibility.overlay.toString(),"data-modal":j.name}},[st("div",{staticClass:"v--modal-background-click",on:{mousedown:function(At){return At.target!==At.currentTarget?null:j.handleBackgroundClick(At)},touchstart:function(At){return At.target!==At.currentTarget?null:j.handleBackgroundClick(At)}}},[st("div",{staticClass:"v--modal-top-right"},[j._t("top-right")],2),j._v(" "),st("transition",{attrs:{name:j.transition},on:{"before-enter":j.beforeTransitionEnter,"after-enter":j.afterTransitionEnter,"after-leave":j.afterTransitionLeave}},[j.visibility.modal?st("div",{ref:"modal",class:j.modalClass,style:j.modalStyle,attrs:{role:"dialog","aria-modal":"true"}},[j._t("default"),j._v(" "),j.resizable&&!j.isAutoHeight?st("resizer",{attrs:{"min-width":j.minWidth,"min-height":j.minHeight,"max-width":j.maxWidth,"max-height":j.maxHeight},on:{resize:j.handleModalResize}}):j._e()],2):j._e()])],1)]):j._e()])}function C(){var j=this.$createElement;return(this._self._c||j)("div",{class:this.className})}function x(j,et){return(function(st){if(Array.isArray(st))return st})(j)||(function(st,At){var Ht=[],zt=!0,ce=!1,Oe=void 0;try{for(var me,we=st[Symbol.iterator]();!(zt=(me=we.next()).done)&&(Ht.push(me.value),!At||Ht.length!==At);zt=!0);}catch(fe){ce=!0,Oe=fe}finally{try{zt||we.return==null||we.return()}finally{if(ce)throw Oe}}return Ht})(j,et)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function S(j){for(var et=1;et<arguments.length;et++){var st=arguments[et]!=null?arguments[et]:{},At=Object.keys(st);typeof Object.getOwnPropertySymbols=="function"&&(At=At.concat(Object.getOwnPropertySymbols(st).filter(function(Ht){return Object.getOwnPropertyDescriptor(st,Ht).enumerable}))),At.forEach(function(Ht){O(j,Ht,st[Ht])})}return j}function O(j,et,st){return et in j?Object.defineProperty(j,et,{value:st,enumerable:!0,configurable:!0,writable:!0}):j[et]=st,j}C._withStripped=b._withStripped=!0;function F(j,et,st){return st<j?j:et<st?et:st}function A(){var j=window.innerWidth,et=document.documentElement.clientWidth;return j&&et?Math.min(j,et):et||j}var I=(function(j){var et=0;return function(){return(et++).toString()}})(),N={name:"VueJsModalResizer",props:{minHeight:{type:Number,default:0},minWidth:{type:Number,default:0},maxWidth:{type:Number,default:Number.MAX_SAFE_INTEGER},maxHeight:{type:Number,default:Number.MAX_SAFE_INTEGER}},data:function(){return{clicked:!1,size:{}}},mounted:function(){this.$el.addEventListener("mousedown",this.start,!1)},computed:{className:function(){return{"vue-modal-resizer":!0,clicked:this.clicked}}},methods:{start:function(j){this.clicked=!0,window.addEventListener("mousemove",this.mousemove,!1),window.addEventListener("mouseup",this.stop,!1),j.stopPropagation(),j.preventDefault()},stop:function(){this.clicked=!1,window.removeEventListener("mousemove",this.mousemove,!1),window.removeEventListener("mouseup",this.stop,!1),this.$emit("resize-stop",{element:this.$el.parentElement,size:this.size})},mousemove:function(j){this.resize(j)},resize:function(j){var et=this.$el.parentElement;if(et){var st=j.clientX-et.offsetLeft,At=j.clientY-et.offsetTop,Ht=Math.min(A(),this.maxWidth),zt=Math.min(window.innerHeight,this.maxHeight);st=F(this.minWidth,Ht,st),At=F(this.minHeight,zt,At),this.size={width:st,height:At},et.style.width=st+"px",et.style.height=At+"px",this.$emit("resize",{element:et,size:this.size})}}}};g(5);function Y(j,et,st,At,Ht,zt,ce,Oe){var me,we=typeof j=="function"?j.options:j;return et&&(we.render=et,we.staticRenderFns=st,we._compiled=!0),{exports:j,options:we}}var H=Y(N,C,[]);H.options.__file="src/Resizer.vue";var K=H.exports;function J(j){return(J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et})(j)}function U(j){switch(J(j)){case"number":return{type:"px",value:j};case"string":return(function(et){if(et==="auto")return{type:et,value:0};var st=mt.find(function(At){return At.regexp.test(et)});return st?{type:st.name,value:parseFloat(et)}:{type:"",value:et}})(j);default:return{type:"",value:j}}}function nt(j){if(typeof j!="string")return 0<=j;var et=U(j);return(et.type==="%"||et.type==="px")&&0<et.value}var gt="[-+]?[0-9]*.?[0-9]+",mt=[{name:"px",regexp:new RegExp("^".concat(gt,"px$"))},{name:"%",regexp:new RegExp("^".concat(gt,"%$"))},{name:"px",regexp:new RegExp("^".concat(gt,"$"))}];function pt(j,et,st){return et in j?Object.defineProperty(j,et,{value:st,enumerable:!0,configurable:!0,writable:!0}):j[et]=st,j}var ct={name:"VueJsModal",props:{name:{required:!0,type:String},delay:{type:Number,default:0},resizable:{type:Boolean,default:!1},adaptive:{type:Boolean,default:!1},draggable:{type:[Boolean,String],default:!1},scrollable:{type:Boolean,default:!1},reset:{type:Boolean,default:!1},overlayTransition:{type:String,default:"overlay-fade"},transition:{type:String},clickToClose:{type:Boolean,default:!0},classes:{type:[String,Array],default:"v--modal"},styles:{type:[String,Array,Object]},minWidth:{type:Number,default:0,validator:function(j){return 0<=j}},minHeight:{type:Number,default:0,validator:function(j){return 0<=j}},maxWidth:{type:Number,default:Number.MAX_SAFE_INTEGER},maxHeight:{type:Number,default:Number.MAX_SAFE_INTEGER},width:{type:[Number,String],default:600,validator:nt},height:{type:[Number,String],default:300,validator:function(j){return j==="auto"||nt(j)}},pivotX:{type:Number,default:.5,validator:function(j){return 0<=j&&j<=1}},pivotY:{type:Number,default:.5,validator:function(j){return 0<=j&&j<=1}}},components:{Resizer:K},data:function(){return{visible:!1,visibility:{modal:!1,overlay:!1},shift:{left:0,top:0},modal:{width:0,widthType:"px",height:0,heightType:"px",renderedHeight:0},viewportHeight:0,viewportWidth:0,mutationObserver:null}},created:function(){this.setInitialSize()},beforeMount:function(){var j=this;if(Qt.event.$on("toggle",this.handleToggleEvent),window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize(),this.scrollable&&!this.isAutoHeight&&console.warn('Modal "'.concat(this.name,'" has scrollable flag set to true ')+'but height is not "auto" ('.concat(this.height,")")),this.isAutoHeight){var et=(function(){if(typeof window<"u")for(var st=["","WebKit","Moz","O","Ms"],At=0;At<st.length;At++){var Ht=st[At]+"MutationObserver";if(Ht in window)return window[Ht]}return!1})();et?this.mutationObserver=new et(function(st){j.updateRenderedHeight()}):console.warn("MutationObserver was not found. Vue-js-modal automatic resizing relies heavily on MutationObserver. Please make sure to provide shim for it.")}this.clickToClose&&window.addEventListener("keyup",this.handleEscapeKeyUp)},beforeDestroy:function(){Qt.event.$off("toggle",this.handleToggleEvent),window.removeEventListener("resize",this.handleWindowResize),this.clickToClose&&window.removeEventListener("keyup",this.handleEscapeKeyUp),this.scrollable&&document.body.classList.remove("v--modal-block-scroll")},computed:{isAutoHeight:function(){return this.modal.heightType==="auto"},position:function(){var j=this.viewportHeight,et=this.viewportWidth,st=this.shift,At=this.pivotX,Ht=this.pivotY,zt=this.trueModalWidth,ce=this.trueModalHeight,Oe=et-zt,me=Math.max(j-ce,0),we=st.left+At*Oe,fe=st.top+Ht*me;return{left:parseInt(F(0,Oe,we)),top:parseInt(F(0,me,fe))}},trueModalWidth:function(){var j=this.viewportWidth,et=this.modal,st=this.adaptive,At=this.minWidth,Ht=this.maxWidth,zt=et.widthType==="%"?j/100*et.width:et.width,ce=Math.max(At,Math.min(j,Ht));return st?F(At,ce,zt):zt},trueModalHeight:function(){var j=this.viewportHeight,et=this.modal,st=this.isAutoHeight,At=this.adaptive,Ht=this.minHeight,zt=this.maxHeight,ce=et.heightType==="%"?j/100*et.height:et.height;if(st)return this.modal.renderedHeight;var Oe=Math.max(Ht,Math.min(j,zt));return At?F(Ht,Oe,ce):ce},overlayClass:function(){return{"v--modal-overlay":!0,scrollable:this.scrollable&&this.isAutoHeight}},modalClass:function(){return["v--modal-box",this.classes]},stylesProp:function(){return typeof this.styles=="string"?this.styles.split(";").map(function(j){return j.trim()}).filter(Boolean).map(function(j){return j.split(":")}).reduce(function(j,et){var st=x(et,2);return S({},j,O({},st[0],st[1]))},{}):this.styles},modalStyle:function(){return[this.stylesProp,{top:this.position.top+"px",left:this.position.left+"px",width:this.trueModalWidth+"px",height:this.isAutoHeight?"auto":this.trueModalHeight+"px"}]}},watch:{visible:function(j){var et=this;j?(this.visibility.overlay=!0,setTimeout(function(){et.visibility.modal=!0,et.$nextTick(function(){et.addDraggableListeners(),et.callAfterEvent(!0)})},this.delay)):(this.visibility.modal=!1,setTimeout(function(){et.visibility.overlay=!1,et.$nextTick(function(){et.removeDraggableListeners(),et.callAfterEvent(!1)})},this.delay))}},methods:{handleToggleEvent:function(j,et,st){if(this.name===j){var At=et===void 0?!this.visible:et;this.toggle(At,st)}},setInitialSize:function(){var j=this.modal,et=U(this.width),st=U(this.height);j.width=et.value,j.widthType=et.type,j.height=st.value,j.heightType=st.type},handleEscapeKeyUp:function(j){j.which===27&&this.visible&&this.$modal.hide(this.name)},handleWindowResize:function(){this.viewportWidth=A(),this.viewportHeight=window.innerHeight,this.ensureShiftInWindowBounds()},createModalEvent:function(j){var et=0<arguments.length&&j!==void 0?j:{};return(function(st){var At=0<arguments.length&&st!==void 0?st:{};return S({id:I(),timestamp:Date.now(),canceled:!1},At)})((function(st){for(var At=1;At<arguments.length;At++){var Ht=arguments[At]!=null?arguments[At]:{},zt=Object.keys(Ht);typeof Object.getOwnPropertySymbols=="function"&&(zt=zt.concat(Object.getOwnPropertySymbols(Ht).filter(function(ce){return Object.getOwnPropertyDescriptor(Ht,ce).enumerable}))),zt.forEach(function(ce){pt(st,ce,Ht[ce])})}return st})({name:this.name,ref:this.$refs.modal},et))},handleModalResize:function(j){this.modal.widthType="px",this.modal.width=j.size.width,this.modal.heightType="px",this.modal.height=j.size.height;var et=this.modal.size;this.$emit("resize",this.createModalEvent({size:et}))},toggle:function(j,et){var st=this.reset,At=this.scrollable,Ht=this.visible;if(Ht!==j){var zt=Ht?"before-close":"before-open";zt=="before-open"?(st&&(this.setInitialSize(),this.shift.left=0,this.shift.top=0),At&&document.body.classList.add("v--modal-block-scroll")):At&&document.body.classList.remove("v--modal-block-scroll");var ce=!1,Oe=this.createModalEvent({stop:function(){ce=!0},state:j,params:et});this.$emit(zt,Oe),ce||(this.visible=j,zt=="before-open"&&typeof document<"u"&&document.activeElement&&document.activeElement.tagName!=="BODY"&&document.activeElement.blur&&document.activeElement.blur())}},getDraggableElement:function(){var j=typeof this.draggable!="string"?".v--modal-box":this.draggable;return j?this.$refs.overlay.querySelector(j):null},handleBackgroundClick:function(){this.clickToClose&&this.toggle(!1)},callAfterEvent:function(j){j?this.connectObserver():this.disconnectObserver();var et=j?"opened":"closed",st=this.createModalEvent({state:j});this.$emit(et,st)},addDraggableListeners:function(){var j=this;if(this.draggable){var et=this.getDraggableElement();if(et){var st=0,At=0,Ht=0,zt=0,ce=function(fe){return fe.touches&&0<fe.touches.length?fe.touches[0]:fe},Oe=function(fe){var ke=fe.target;if(!ke||ke.nodeName!=="INPUT"&&ke.nodeName!=="TEXTAREA"&&ke.nodeName!=="SELECT"){var Ie=ce(fe),rn=Ie.clientX,le=Ie.clientY;document.addEventListener("mousemove",me),document.addEventListener("touchmove",me),document.addEventListener("mouseup",we),document.addEventListener("touchend",we),st=rn,At=le,Ht=j.shift.left,zt=j.shift.top}},me=function(fe){var ke=ce(fe),Ie=ke.clientX,rn=ke.clientY;j.shift.left=Ht+Ie-st,j.shift.top=zt+rn-At,fe.preventDefault()},we=function fe(ke){j.ensureShiftInWindowBounds(),document.removeEventListener("mousemove",me),document.removeEventListener("touchmove",me),document.removeEventListener("mouseup",fe),document.removeEventListener("touchend",fe),ke.preventDefault()};et.addEventListener("mousedown",Oe),et.addEventListener("touchstart",Oe)}}},removeDraggableListeners:function(){},updateRenderedHeight:function(){this.$refs.modal&&(this.modal.renderedHeight=this.$refs.modal.getBoundingClientRect().height)},connectObserver:function(){this.mutationObserver&&this.mutationObserver.observe(this.$refs.overlay,{childList:!0,attributes:!0,subtree:!0})},disconnectObserver:function(){this.mutationObserver&&this.mutationObserver.disconnect()},beforeTransitionEnter:function(){this.connectObserver()},afterTransitionEnter:function(){},afterTransitionLeave:function(){},ensureShiftInWindowBounds:function(){var j=this.viewportHeight,et=this.viewportWidth,st=this.shift,At=this.pivotX,Ht=this.pivotY,zt=this.trueModalWidth,ce=this.trueModalHeight,Oe=et-zt,me=Math.max(j-ce,0),we=st.left+At*Oe,fe=st.top+Ht*me;this.shift.left-=we-F(0,Oe,we),this.shift.top-=fe-F(0,me,fe)}}},ht=(g(7),Y(ct,b,[]));ht.options.__file="src/Modal.vue";function It(){var j=this,et=j.$createElement,st=j._self._c||et;return st("modal",{attrs:{name:"dialog",height:"auto",classes:["v--modal","vue-dialog",this.params.class],width:j.width,"pivot-y":.3,adaptive:!0,clickToClose:j.clickToClose,transition:j.transition},on:{"before-open":j.beforeOpened,"before-close":j.beforeClosed,opened:function(At){j.$emit("opened",At)},closed:function(At){j.$emit("closed",At)}}},[st("div",{staticClass:"dialog-content"},[j.params.title?st("div",{staticClass:"dialog-c-title",domProps:{innerHTML:j._s(j.params.title||"")}}):j._e(),j._v(" "),j.params.component?st(j.params.component,j._b({tag:"component"},"component",j.params.props,!1)):st("div",{staticClass:"dialog-c-text",domProps:{innerHTML:j._s(j.params.text||"")}})],1),j._v(" "),j.buttons?st("div",{staticClass:"vue-dialog-buttons"},j._l(j.buttons,function(At,Ht){return st("button",{key:Ht,class:At.class||"vue-dialog-button",style:j.buttonStyle,attrs:{type:"button"},domProps:{innerHTML:j._s(At.title)},on:{click:function(zt){zt.stopPropagation(),j.click(Ht,zt)}}},[j._v(`
      `+j._s(At.title)+`
    `)])})):st("div",{staticClass:"vue-dialog-buttons-none"})])}var it=ht.exports;It._withStripped=!0;var Tt={name:"VueJsDialog",props:{width:{type:[Number,String],default:400},clickToClose:{type:Boolean,default:!0},transition:{type:String,default:"fade"}},data:function(){return{params:{},defaultButtons:[{title:"CLOSE"}]}},computed:{buttons:function(){return this.params.buttons||this.defaultButtons},buttonStyle:function(){return{flex:"1 1 ".concat(100/this.buttons.length,"%")}}},methods:{beforeOpened:function(j){window.addEventListener("keyup",this.onKeyUp),this.params=j.params||{},this.$emit("before-opened",j)},beforeClosed:function(j){window.removeEventListener("keyup",this.onKeyUp),this.params={},this.$emit("before-closed",j)},click:function(j,et,st){var At=2<arguments.length&&st!==void 0?st:"click",Ht=this.buttons[j];Ht&&typeof Ht.handler=="function"?Ht.handler(j,et,{source:At}):this.$modal.hide("dialog")},onKeyUp:function(j){if(j.which===13&&0<this.buttons.length){var et=this.buttons.length===1?0:this.buttons.findIndex(function(st){return st.default});et!==-1&&this.click(et,j,"keypress")}}}},M=(g(9),Y(Tt,It,[]));M.options.__file="src/Dialog.vue";function xt(){var j=this,et=j.$createElement,st=j._self._c||et;return st("div",{attrs:{id:"modals-container"}},j._l(j.modals,function(At){return st("modal",j._g(j._b({key:At.id,on:{closed:function(Ht){j.remove(At.id)}}},"modal",At.modalAttrs,!1),At.modalListeners),[st(At.component,j._g(j._b({tag:"component",on:{close:function(Ht){j.$modal.hide(At.modalAttrs.name)}}},"component",At.componentAttrs,!1),j.$listeners))],1)}))}var vt=M.exports;function Kt(j,et,st){return et in j?Object.defineProperty(j,et,{value:st,enumerable:!0,configurable:!0,writable:!0}):j[et]=st,j}xt._withStripped=!0;var ie=Y({data:function(){return{modals:[]}},created:function(){this.$root._dynamicContainer=this},methods:{add:function(j,et,st,At){var Ht=this,zt=1<arguments.length&&et!==void 0?et:{},ce=2<arguments.length&&st!==void 0?st:{},Oe=3<arguments.length&&At!==void 0?At:{},me=I(),we=ce.name||"_dynamic_modal_"+me;this.modals.push({id:me,modalAttrs:(function(fe){for(var ke=1;ke<arguments.length;ke++){var Ie=arguments[ke]!=null?arguments[ke]:{},rn=Object.keys(Ie);typeof Object.getOwnPropertySymbols=="function"&&(rn=rn.concat(Object.getOwnPropertySymbols(Ie).filter(function(le){return Object.getOwnPropertyDescriptor(Ie,le).enumerable}))),rn.forEach(function(le){Kt(fe,le,Ie[le])})}return fe})({},ce,{name:we}),modalListeners:Oe,component:j,componentAttrs:zt}),this.$nextTick(function(){Ht.$modal.show(we)})},remove:function(j){var et=this.modals.findIndex(function(st){return st.id===j});et!==-1&&this.modals.splice(et,1)}}},xt,[]);ie.options.__file="src/ModalsContainer.vue";var oe=ie.exports;function Ct(j){return(Ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et})(j)}function yt(j,et,st){return et in j?Object.defineProperty(j,et,{value:st,enumerable:!0,configurable:!0,writable:!0}):j[et]=st,j}var kt=function(j,et,st){if(!st._dynamicContainer&&et.injectModalsContainer){var At=(Ht=document.createElement("div"),document.body.appendChild(Ht),Ht);new j({parent:st,render:function(zt){return zt(oe)}}).$mount(At)}var Ht;return st._dynamicContainer},Ut={install:function(j,et){var st=1<arguments.length&&et!==void 0?et:{};if(!this.installed){this.installed=!0,this.event=new j,this.rootInstance=null;var At=st.componentName||"Modal",Ht=st.dynamicDefaults||{},zt=function(ce,Oe,me,we){var fe=me&&me.root?me.root:Ut.rootInstance,ke=kt(j,st,fe);ke?ke.add(ce,Oe,(function(Ie){for(var rn=1;rn<arguments.length;rn++){var le=arguments[rn]!=null?arguments[rn]:{},Ee=Object.keys(le);typeof Object.getOwnPropertySymbols=="function"&&(Ee=Ee.concat(Object.getOwnPropertySymbols(le).filter(function(ft){return Object.getOwnPropertyDescriptor(le,ft).enumerable}))),Ee.forEach(function(ft){yt(Ie,ft,le[ft])})}return Ie})({},Ht,me),we):console.warn("[vue-js-modal] In order to render dynamic modals, a <modals-container> component must be present on the page.")};j.prototype.$modal={show:function(ce){for(var Oe=arguments.length,me=new Array(1<Oe?Oe-1:0),we=1;we<Oe;we++)me[we-1]=arguments[we];switch(Ct(ce)){case"string":return(function(fe,ke){Ut.event.$emit("toggle",fe,!0,ke)}).apply(void 0,[ce].concat(me));case"object":case"function":return st.dynamic?zt.apply(void 0,[ce].concat(me)):console.warn("[vue-js-modal] $modal() received object as a first argument, but dynamic modals are switched off. https://github.com/euvl/vue-js-modal/#dynamic-modals");default:console.warn("[vue-js-modal] $modal() received an unsupported argument as a first argument.",ce)}},hide:function(ce,Oe){Ut.event.$emit("toggle",ce,!1,Oe)},toggle:function(ce,Oe){Ut.event.$emit("toggle",ce,void 0,Oe)}},j.component(At,it),st.dialog&&j.component("VDialog",vt),st.dynamic&&(j.component("ModalsContainer",oe),j.mixin({beforeMount:function(){Ut.rootInstance===null&&(Ut.rootInstance=this.$root)}}))}}},Qt=p.default=Ut}],r.c=d,r.d=function(f,p,g){r.o(f,p)||Object.defineProperty(f,p,{enumerable:!0,get:g})},r.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},r.t=function(f,p){if(1&p&&(f=r(f)),8&p||4&p&&typeof f=="object"&&f&&f.__esModule)return f;var g=Object.create(null);if(r.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:f}),2&p&&typeof f!="string")for(var b in f)r.d(g,b,(function(C){return f[C]}).bind(null,b));return g},r.n=function(f){var p=f&&f.__esModule?function(){return f.default}:function(){return f};return r.d(p,"a",p),p},r.o=function(f,p){return Object.prototype.hasOwnProperty.call(f,p)},r.p="/dist/",r(r.s=11);function r(f){if(d[f])return d[f].exports;var p=d[f]={i:f,l:!1,exports:{}};return c[f].call(p.exports,p,p.exports,r),p.l=!0,p.exports}var c,d})})(sd)),sd.exports}var mE=gE();const vE=Uf(mE),Ef=656,bE={data(){return{modalWidth:Ef,manualClose:!1,imageUrl:null}},props:{text:"",title:"",content:"",linkLabel:"",linkUrl:"",closeable:!0},directives:{DynamicImg:Im},mounted(){this.modalWidth=window.innerWidth<Ef?Ef/2:Ef,Pm().then(a=>{this.imageUrl=a}).finally(()=>{this.$modal.show("warning-modal")})},methods:{close(){this.manualClose=!0,this.$modal.hide("warning-modal")},beforeClose(a){this.manualClose||a.stop()}}};var yE=function(){var e=this,r=e._self._c;return r("modal",{attrs:{name:"warning-modal",transition:"pop-out",width:e.modalWidth,height:350},on:{"before-close":e.beforeClose}},[r("div",{staticClass:"box"},[r("div",{staticClass:"box-part",attrs:{id:"bp-left"}},[r("div",{staticClass:"modal",attrs:{id:"partition-register"}},[r("div",{staticClass:"modal-title"},[e._v(e._s(e.title))]),r("div",{staticClass:"modal-content"},[r("p",[e._v(e._s(e.content))]),r("div",{staticClass:"btns"},[e.linkUrl&&e.linkLabel?r("a",{staticClass:"btn large-btn",attrs:{href:e.linkUrl}},[e._v(e._s(e.linkLabel))]):e._e(),e.closeable?r("button",{staticClass:"large-btn",attrs:{type:"button"},on:{click:e.close}},[e._v("Close")]):e._e()])])])]),e.imageUrl?r("div",{staticClass:"box-part",attrs:{id:"bp-right"}},[r("img",{directives:[{name:"dynamic-img",rawName:"v-dynamic-img",value:e.imageUrl,expression:"imageUrl"}],attrs:{src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}})]):e._e()])])},wE=[],xE=Ui(bE,yE,wE,!1,null,"bbd610c6");const CE=xE.exports;qs.use(vE);const kE={data(){return{linkUrl:window.RozierConfig.routes.loginPage+"?_home=1"}},computed:{...Jo({connected:a=>a.connected,healthChecked:a=>a.healthChecked,translations:a=>a.translations})},components:{WarningModal:CE}};var EE=function(){var e=this,r=e._self._c;return r("div",[e.connected?e.healthChecked?e._e():r("warning-modal",{attrs:{title:e.translations.healthCheckedFailedTitle,closeable:!1,content:e.translations.healthCheckedFailedContent}}):r("warning-modal",{attrs:{title:e.translations.sessionExpireTitle,content:e.translations.sessionExpireContent,"link-label":e.translations.login,closeable:!0,"link-url":e.linkUrl}})],1)},_E=[],SE=Ui(kE,EE,_E,!1,null,null);const TE=SE.exports,DE={computed:{...Jo({isExplorerOpen:a=>a.explorer.isOpen})}};var AE=function(){var e=this,r=e._self._c;return r("transition",{attrs:{name:"fade"}},[e.isExplorerOpen?r("div",{class:{"is-active":e.isExplorerOpen},attrs:{id:"overlay"}}):e._e()])},LE=[],OE=Ui(DE,AE,LE,!1,null,null);const ME=OE.exports,RE="modulepreload",PE=function(a){return"/bundles/roadizrozier/"+a},xg={},cn=function(e,r,c){let d=Promise.resolve();if(r&&r.length>0){let b=function(C){return Promise.all(C.map(x=>Promise.resolve(x).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");d=b(r.map(C=>{if(C=PE(C),C in xg)return;xg[C]=!0;const x=C.endsWith(".css"),S=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${C}"]${S}`))return;const O=document.createElement("link");if(O.rel=x?"stylesheet":RE,x||(O.as="script"),O.crossOrigin="",O.href=C,g&&O.setAttribute("nonce",g),document.head.appendChild(O),x)return new Promise((F,A)=>{O.addEventListener("load",F),O.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${C}`)))})}))}function f(p){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=p,window.dispatchEvent(g),!g.defaultPrevented)throw p}return d.then(p=>{for(const g of p||[])g.status==="rejected"&&f(g.reason);return e().catch(f)})};function NE(a){return a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z])([A-Z][a-z])/g,"$1-$2").toLowerCase()}const Cg=Object.assign({"./custom-elements/AdminMenuNav.js":()=>cn(()=>import("./AdminMenuNav-D6p84238.js"),[]),"./custom-elements/DocumentAlignmentWidget.js":()=>cn(()=>import("./DocumentAlignmentWidget-CUmZZQpA.js"),__vite__mapDeps([0,1])),"./custom-elements/DocumentEditDialog.js":()=>cn(()=>import("./DocumentEditDialog-ct28IygL.js"),__vite__mapDeps([2,1])),"./custom-elements/FolderAutocomplete.js":()=>cn(()=>import("./FolderAutocomplete-CMgHW6Ha.js"),[]),"./custom-elements/RzAside.ts":()=>cn(()=>import("./RzAside-M2QJYIrt.js"),__vite__mapDeps([3,1,4,5])),"./custom-elements/RzBadge.ts":()=>cn(()=>import("./RzBadge-XgGOKtfL.js"),__vite__mapDeps([6,7,8,4,5])),"./custom-elements/RzBulkActions.ts":()=>cn(()=>import("./RzBulkActions-Bpf1w1n5.js"),[]),"./custom-elements/RzBulkSection.ts":()=>cn(()=>import("./RzBulkSection-CkaPl28x.js"),[]),"./custom-elements/RzButton.ts":()=>cn(()=>import("./RzButton-BlmU10Y9.js"),__vite__mapDeps([9,7,8,4,5])),"./custom-elements/RzColorInput.ts":()=>cn(()=>import("./RzColorInput-BmNg4dyY.js"),[]),"./custom-elements/RzColorSchemeSwitcher.ts":()=>cn(()=>import("./RzColorSchemeSwitcher-Bus6YJrm.js"),[]),"./custom-elements/RzDialog.ts":()=>cn(()=>import("./RzDialog-BRFv2yXq.js"),[]),"./custom-elements/RzDrawer.ts":()=>cn(()=>import("./RzDrawer-CH0s-xWJ.js"),__vite__mapDeps([10,11,12,13,4,5])),"./custom-elements/RzEntityThumbnail.ts":()=>cn(()=>import("./RzEntityThumbnail-DEpK8MMs.js"),__vite__mapDeps([14,1])),"./custom-elements/RzFileUpload.ts":()=>cn(()=>import("./RzFileUpload-CfUuECAa.js"),__vite__mapDeps([15,5,4])),"./custom-elements/RzFiltersBar.ts":()=>cn(()=>import("./RzFiltersBar-BGU_YhxI.js"),[]),"./custom-elements/RzFormField.ts":()=>cn(()=>import("./RzFormField-Bpphh54m.js"),__vite__mapDeps([16,4,5])),"./custom-elements/RzGeotag.ts":()=>cn(()=>import("./RzGeotag-8ZTEYp3l.js"),__vite__mapDeps([17,4,5])),"./custom-elements/RzHeader.ts":()=>cn(()=>import("./RzHeader-DFDFRBsi.js"),[]),"./custom-elements/RzHeaderNavItemButton.ts":()=>cn(()=>import("./RzHeaderNavItemButton-BItguDc1.js"),[]),"./custom-elements/RzInput.ts":()=>cn(()=>import("./RzInput-DV8-tNpw.js"),[]),"./custom-elements/RzLink.ts":()=>cn(()=>import("./RzLink-Tse26UDW.js"),__vite__mapDeps([18,7,8,4,5])),"./custom-elements/RzMarkdownEditor.ts":()=>cn(()=>import("./RzMarkdownEditor-BTH_NCEk.js"),__vite__mapDeps([19,20,4,5])),"./custom-elements/RzNodeTreeContextualMenu.ts":()=>cn(()=>import("./RzNodeTreeContextualMenu-DNOPjvA8.js"),__vite__mapDeps([21,8])),"./custom-elements/RzPage.ts":()=>cn(()=>import("./RzPage-mbfFyaM8.js"),[]),"./custom-elements/RzPopover.ts":()=>cn(()=>import("./RzPopover-C2c8fQuj.js"),__vite__mapDeps([22,8])),"./custom-elements/RzRepeatable.ts":()=>cn(()=>import("./RzRepeatable-3s1Yv9Ru.js"),[]),"./custom-elements/RzSaveButton.js":()=>cn(()=>import("./RzSaveButton-HtAW73EX.js"),[]),"./custom-elements/RzSearch.ts":()=>cn(()=>import("./RzSearch-skumScvz.js"),__vite__mapDeps([23,12,13,4,5])),"./custom-elements/RzSelect.ts":()=>cn(()=>import("./RzSelect-rM-RoCWg.js"),[]),"./custom-elements/RzTablist.ts":()=>cn(()=>import("./RzTablist-C2HjIKyZ.js"),[]),"./custom-elements/RzToastList.ts":()=>cn(()=>import("./RzToastList-Y-ZVvQuK.js"),__vite__mapDeps([24,13])),"./custom-elements/RzTooltip.ts":()=>cn(()=>import("./RzTooltip-9rBdkE5t.js"),__vite__mapDeps([25,7,8,4,5])),"./custom-elements/RzTree.ts":()=>cn(()=>import("./RzTree-CqGJTUqA.js"),__vite__mapDeps([26,11,4,5])),"./custom-elements/TagAutocomplete.js":()=>cn(()=>import("./TagAutocomplete-DDko2VyZ.js"),[]),"./custom-elements/TagEditPage.js":()=>cn(()=>import("./TagEditPage-DsDD6pUd.js"),__vite__mapDeps([27,20]))}),Kf={};for(const a in Cg){const e=a.match(/\/([^/]+)\.(js|ts)$/)[1],r=NE(e);Kf[r]=Cg[a]}class kg{constructor(){this.services=[],this.containers=null,this.documentExplorer=null,this.mainContentComponents=[],this.registeredContainers={DrawerContainer:jC,ExplorerContainer:UC,FilterExplorerContainer:ok,TagsEditorContainer:pk,DocumentPreviewContainer:yk,BlanchetteEditorContainer:pE,ModalContainer:TE},this.registeredComponents={Overlay:ME},this.vuejsElements={...this.registeredComponents,...this.registeredContainers},qs.config.ignoredElements=Object.keys(Kf),this.init(),this.initListeners()}init(){this.buildOtherContainers(),this.buildMainContentComponents(),this.initServices()}initListeners(){window.addEventListener("pagechange",this.onPageChange.bind(this)),window.addEventListener("pageload",this.onPageLoaded.bind(this))}initServices(){this.services.push(new Ux(gf)),this.services.push(new Vx(gf))}onPageChange(){gf.commit(cs)}onPageLoaded(e){this.buildMainContentComponents(e.detail)}destroyMainContentComponents(){this.mainContentComponents.forEach(e=>{e.$destroy()})}buildDocumentExplorer(){document.getElementById("document-explorer")&&(this.documentExplorer=this.buildComponent("#document-explorer"))}buildOtherContainers(){document.getElementById("vue-containers")&&(this.containers=this.buildComponent("#vue-containers"))}buildMainContentComponents(){this.destroyMainContentComponents(),document.querySelectorAll("#rz-page [data-vuejs]").forEach(r=>{this.mainContentComponents.push(this.buildComponent(r))})}buildComponent(e){return new qs({el:e,delimiters:["${","}"],store:gf,components:this.vuejsElements})}}class $E{constructor(){this.windowWidth=null,this.windowHeight=null,this.resizeFirst=!0,this.canvasLoader=null,this.backTopBtn=null,this.lazyload=new Sp,this.vueApp=new kg,this.resize=this.resize.bind(this)}onDocumentReady(){this.initLoader(),this.lazyload=new Sp,this.vueApp=new kg,window.addEventListener("resize",this.resize),this.resize(),this.lazyload.generalBind(),window.addEventListener("requestLoaderShow",()=>{this.canvasLoader?.show()}),window.addEventListener("requestLoaderHide",()=>{this.canvasLoader?.hide()})}getAsideElement(){return document.querySelector("rz-aside")}bindMainTrees(){this.getAsideElement()?.bindMainTrees?.()}refreshMainNodeTree(e){return this.getAsideElement()?.refreshMainNodeTree?.(e)}refreshMainTagTree(e){return this.getAsideElement()?.refreshMainTagTree?.(e)}refreshMainFolderTree(e){return this.getAsideElement()?.refreshMainFolderTree?.(e)}initLoader(){this.canvasLoader=new window.CanvasLoader("canvasloader-container"),this.canvasLoader.setColor(window.getComputedStyle(document.documentElement).getPropertyValue("--rz-accent-color")),this.canvasLoader.setShape("square"),this.canvasLoader.setDensity(90),this.canvasLoader.setRange(.8),this.canvasLoader.setSpeed(4),this.canvasLoader.setFPS(30)}async fetchSessionMessages(){const e=new URLSearchParams({_csrf_token:window.RozierConfig.ajaxToken}),r=window.RozierConfig.routes.ajaxSessionMessages+"?"+e.toString(),d=await(await fetch(r,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}})).json();return d.messages?d.messages:[]}async getMessages(){const e=await this.fetchSessionMessages();e.confirm&&e.confirm.length>0&&e.confirm.forEach(r=>{window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:r,status:"success"}}))}),e.error&&e.error.length>0&&e.error.forEach(r=>{window.dispatchEvent(new CustomEvent("pushToast",{detail:{message:r,status:"danger"}}))})}resize(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.resizeFirst&&(this.resizeFirst=!1)}}function IE(a,e){const r=`${a}, [is="${a}"]`,c=document.querySelector(r);let d=null,f=null;async function p(g){d||(d=e().then(b=>{const C=b.default||Object.values(b)[0];if(f?.disconnect(),f=null,!C)throw new Error(`No element class found for <${a}>`);const x=g===a?void 0:{extends:g};customElements.define(a,C,x)})),await d}c?p(c.tagName.toLowerCase()):(f=new MutationObserver(g=>{for(const b of g)for(const C of b.addedNodes)if(C instanceof Element){const x=C.tagName.toLowerCase();if(x===a||C.getAttribute("is")===a)p(x);else{const S=C.querySelector(r);S&&p(S.tagName.toLowerCase())}}}),f.observe(document,{childList:!0,subtree:!0}))}var Eg={};/*! (c) Andrea Giammarchi @webreflection ISC */var _g;function zE(){return _g||(_g=1,(function(){var a=(function($t,Et){var Yt=function(We){for(var ue=0,_e=We.length;ue<_e;ue++)Ce(We[ue])},Ce=function(We){var ue=We.target,_e=We.attributeName,on=We.oldValue;ue.attributeChangedCallback(_e,on,ue.getAttribute(_e))};return function(se,We){var ue=se.constructor.observedAttributes;return ue&&$t(We).then(function(){new Et(Yt).observe(se,{attributes:!0,attributeOldValue:!0,attributeFilter:ue});for(var _e=0,on=ue.length;_e<on;_e++)se.hasAttribute(ue[_e])&&Ce({target:se,attributeName:ue[_e],oldValue:null})}),se}});function e($t,Et){if($t){if(typeof $t=="string")return r($t,Et);var Yt=Object.prototype.toString.call($t).slice(8,-1);if(Yt==="Object"&&$t.constructor&&(Yt=$t.constructor.name),Yt==="Map"||Yt==="Set")return Array.from($t);if(Yt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Yt))return r($t,Et)}}function r($t,Et){(Et==null||Et>$t.length)&&(Et=$t.length);for(var Yt=0,Ce=new Array(Et);Yt<Et;Yt++)Ce[Yt]=$t[Yt];return Ce}function c($t,Et){var Yt=typeof Symbol<"u"&&$t[Symbol.iterator]||$t["@@iterator"];if(!Yt){if(Array.isArray($t)||(Yt=e($t))||Et){Yt&&($t=Yt);var Ce=0,se=function(){};return{s:se,n:function(){return Ce>=$t.length?{done:!0}:{done:!1,value:$t[Ce++]}},e:function(on){throw on},f:se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var We=!0,ue=!1,_e;return{s:function(){Yt=Yt.call($t)},n:function(){var on=Yt.next();return We=on.done,on},e:function(on){ue=!0,_e=on},f:function(){try{!We&&Yt.return!=null&&Yt.return()}finally{if(ue)throw _e}}}}/*! (c) Andrea Giammarchi - ISC */var d=!0,f=!1,p="querySelectorAll",g=function(Et){var Yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:MutationObserver,se=arguments.length>3&&arguments[3]!==void 0?arguments[3]:["*"],We=function on(mi,si,En,Te,Xe,an){var Nn=c(mi),bn;try{for(Nn.s();!(bn=Nn.n()).done;){var tn=bn.value;(an||p in tn)&&(Xe?En.has(tn)||(En.add(tn),Te.delete(tn),Et(tn,Xe)):Te.has(tn)||(Te.add(tn),En.delete(tn),Et(tn,Xe)),an||on(tn[p](si),si,En,Te,Xe,d))}}catch(vi){Nn.e(vi)}finally{Nn.f()}},ue=new Ce(function(on){if(se.length){var mi=se.join(","),si=new Set,En=new Set,Te=c(on),Xe;try{for(Te.s();!(Xe=Te.n()).done;){var an=Xe.value,Nn=an.addedNodes,bn=an.removedNodes;We(bn,mi,si,En,f,f),We(Nn,mi,si,En,d,f)}}catch(tn){Te.e(tn)}finally{Te.f()}}}),_e=ue.observe;return(ue.observe=function(on){return _e.call(ue,on,{subtree:d,childList:d})})(Yt),ue},b="querySelectorAll",C=self,x=C.document,S=C.Element,O=C.MutationObserver,F=C.Set,A=C.WeakMap,I=function(Et){return b in Et},N=[].filter,Y=(function($t){var Et=new A,Yt=function(Te){for(var Xe=0,an=Te.length;Xe<an;Xe++)Et.delete(Te[Xe])},Ce=function(){for(var Te=mi.takeRecords(),Xe=0,an=Te.length;Xe<an;Xe++)ue(N.call(Te[Xe].removedNodes,I),!1),ue(N.call(Te[Xe].addedNodes,I),!0)},se=function(Te){return Te.matches||Te.webkitMatchesSelector||Te.msMatchesSelector},We=function(Te,Xe){var an;if(Xe)for(var Nn,bn=se(Te),tn=0,vi=_e.length;tn<vi;tn++)bn.call(Te,Nn=_e[tn])&&(Et.has(Te)||Et.set(Te,new F),an=Et.get(Te),an.has(Nn)||(an.add(Nn),$t.handle(Te,Xe,Nn)));else Et.has(Te)&&(an=Et.get(Te),Et.delete(Te),an.forEach(function(Mi){$t.handle(Te,Xe,Mi)}))},ue=function(Te){for(var Xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,an=0,Nn=Te.length;an<Nn;an++)We(Te[an],Xe)},_e=$t.query,on=$t.root||x,mi=g(We,on,O,_e),si=S.prototype.attachShadow;return si&&(S.prototype.attachShadow=function(En){var Te=si.call(this,En);return mi.observe(Te),Te}),_e.length&&ue(on[b](_e)),{drop:Yt,flush:Ce,observer:mi,parse:ue}}),H=self,K=H.document,J=H.Map,U=H.MutationObserver,nt=H.Object,gt=H.Set,mt=H.WeakMap,pt=H.Element,ct=H.HTMLElement,ht=H.Node,It=H.Error,it=H.TypeError,Tt=H.Reflect,M=nt.defineProperty,xt=nt.keys,vt=nt.getOwnPropertyNames,Kt=nt.setPrototypeOf,ie=!self.customElements,oe=function(Et){for(var Yt=xt(Et),Ce=[],se=new gt,We=Yt.length,ue=0;ue<We;ue++){Ce[ue]=Et[Yt[ue]];try{delete Et[Yt[ue]]}catch{se.add(ue)}}return function(){for(var _e=0;_e<We;_e++)se.has(_e)||(Et[Yt[_e]]=Ce[_e])}};if(ie){var Ct=function(){var Et=this.constructor;if(!kt.has(Et))throw new it("Illegal constructor");var Yt=kt.get(Et);if(zt)return Oe(zt,Yt);var Ce=yt.call(K,Yt);return Oe(Kt(Ce,Et.prototype),Yt)},yt=K.createElement,kt=new J,Ut=new J,Qt=new J,j=new J,et=[],st=function(Et,Yt,Ce){var se=Qt.get(Ce);if(Yt&&!se.isPrototypeOf(Et)){var We=oe(Et);zt=Kt(Et,se);try{new se.constructor}finally{zt=null,We()}}var ue="".concat(Yt?"":"dis","connectedCallback");ue in se&&Et[ue]()},At=Y({query:et,handle:st}),Ht=At.parse,zt=null,ce=function(Et){if(!Ut.has(Et)){var Yt,Ce=new Promise(function(se){Yt=se});Ut.set(Et,{$:Ce,_:Yt})}return Ut.get(Et).$},Oe=a(ce,U);self.customElements={define:function(Et,Yt){if(j.has(Et))throw new It('the name "'.concat(Et,'" has already been used with this registry'));kt.set(Yt,Et),Qt.set(Et,Yt.prototype),j.set(Et,Yt),et.push(Et),ce(Et).then(function(){Ht(K.querySelectorAll(Et))}),Ut.get(Et)._(Yt)},get:function(Et){return j.get(Et)},whenDefined:ce},M(Ct.prototype=ct.prototype,"constructor",{value:Ct}),self.HTMLElement=Ct,K.createElement=function($t,Et){var Yt=Et&&Et.is,Ce=Yt?j.get(Yt):j.get($t);return Ce?new Ce:yt.call(K,$t)},"isConnected"in ht.prototype||M(ht.prototype,"isConnected",{configurable:!0,get:function(){return!(this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})}else if(ie=!self.customElements.get("extends-br"),ie)try{var me=function $t(){return self.Reflect.construct(HTMLBRElement,[],$t)};me.prototype=HTMLLIElement.prototype;var we="extends-br";self.customElements.define("extends-br",me,{extends:"br"}),ie=K.createElement("br",{is:we}).outerHTML.indexOf(we)<0;var fe=self.customElements,ke=fe.get,Ie=fe.whenDefined;self.customElements.whenDefined=function($t){var Et=this;return Ie.call(this,$t).then(function(Yt){return Yt||ke.call(Et,$t)})}}catch{}if(ie){var rn=function(Et){var Yt=Xn.get(Et);Oi(Yt.querySelectorAll(this),Et.isConnected)},le=self.customElements,Ee=K.createElement,ft=le.define,Bt=le.get,_t=le.upgrade,Se=Tt||{construct:function(Et){return Et.call(this)}},Fn=Se.construct,Xn=new mt,Wi=new gt,Un=new J,en=new J,ai=new J,Tn=new J,Li=[],Ln=[],he=function(Et){return Tn.get(Et)||Bt.call(le,Et)},ar=function(Et,Yt,Ce){var se=ai.get(Ce);if(Yt&&!se.isPrototypeOf(Et)){var We=oe(Et);Be=Kt(Et,se);try{new se.constructor}finally{Be=null,We()}}var ue="".concat(Yt?"":"dis","connectedCallback");ue in se&&Et[ue]()},Me=Y({query:Ln,handle:ar}),Oi=Me.parse,ge=Y({query:Li,handle:function(Et,Yt){Xn.has(Et)&&(Yt?Wi.add(Et):Wi.delete(Et),Ln.length&&rn.call(Ln,Et))}}),Hn=ge.parse,Ue=pt.prototype.attachShadow;Ue&&(pt.prototype.attachShadow=function($t){var Et=Ue.call(this,$t);return Xn.set(this,Et),Et});var dn=function(Et){if(!en.has(Et)){var Yt,Ce=new Promise(function(se){Yt=se});en.set(Et,{$:Ce,_:Yt})}return en.get(Et).$},ze=a(dn,U),Be=null;vt(self).filter(function($t){return/^HTML.*Element$/.test($t)}).forEach(function($t){var Et=self[$t];function Yt(){var Ce=this.constructor;if(!Un.has(Ce))throw new it("Illegal constructor");var se=Un.get(Ce),We=se.is,ue=se.tag;if(We){if(Be)return ze(Be,We);var _e=Ee.call(K,ue);return _e.setAttribute("is",We),ze(Kt(_e,Ce.prototype),We)}else return Fn.call(this,Et,[],Ce)}M(Yt.prototype=Et.prototype,"constructor",{value:Yt}),M(self,$t,{value:Yt})}),K.createElement=function($t,Et){var Yt=Et&&Et.is;if(Yt){var Ce=Tn.get(Yt);if(Ce&&Un.get(Ce).tag===$t)return new Ce}var se=Ee.call(K,$t);return Yt&&se.setAttribute("is",Yt),se},le.get=he,le.whenDefined=dn,le.upgrade=function($t){var Et=$t.getAttribute("is");if(Et){var Yt=Tn.get(Et);if(Yt){ze(Kt($t,Yt.prototype),Et);return}}_t.call(le,$t)},le.define=function($t,Et,Yt){if(he($t))throw new It("'".concat($t,"' has already been defined as a custom element"));var Ce,se=Yt&&Yt.extends;Un.set(Et,se?{is:$t,tag:se}:{is:"",tag:$t}),se?(Ce="".concat(se,'[is="').concat($t,'"]'),ai.set(Ce,Et.prototype),Tn.set($t,Et),Ln.push(Ce)):(ft.apply(le,arguments),Li.push(Ce=$t)),dn($t).then(function(){se?(Oi(K.querySelectorAll(Ce)),Wi.forEach(rn,[Ce])):Hn(K.querySelectorAll(Ce))}),en.get($t)._(Et)}}})()),Eg}zE();function WE(){return typeof HTMLButtonElement<"u"&&"command"in HTMLButtonElement.prototype&&"source"in((globalThis.CommandEvent||{}).prototype||{})}function FE(){document.addEventListener("invoke",A=>{A.type=="invoke"&&A.isTrusted&&(A.stopImmediatePropagation(),A.preventDefault())},!0),document.addEventListener("command",A=>{A.type=="command"&&A.isTrusted&&(A.stopImmediatePropagation(),A.preventDefault())},!0);function a(A,I,N=!0){Object.defineProperty(A,I,{...Object.getOwnPropertyDescriptor(A,I),enumerable:N})}function e(A){return A&&typeof A.getRootNode=="function"?A.getRootNode():A&&A.parentNode?e(A.parentNode):A}const r=new WeakMap,c=new WeakMap;class d extends Event{constructor(I,N={}){super(I,N);const{source:Y,command:H}=N;if(Y!=null&&!(Y instanceof Element))throw new TypeError("source must be an element");r.set(this,Y||null),c.set(this,H!==void 0?String(H):"")}get[Symbol.toStringTag](){return"CommandEvent"}get source(){if(!r.has(this))throw new TypeError("illegal invocation");const I=r.get(this);if(!(I instanceof Element))return null;const N=e(I);return N!==e(this.target||document)?N.host:I}get command(){if(!c.has(this))throw new TypeError("illegal invocation");return c.get(this)}get action(){throw new Error("CommandEvent#action was renamed to CommandEvent#command")}get invoker(){throw new Error("CommandEvent#invoker was renamed to CommandEvent#source")}}a(d.prototype,"source"),a(d.prototype,"command");class f extends Event{constructor(I,N={}){throw super(I,N),new Error("InvokeEvent has been deprecated, it has been renamed to `CommandEvent`")}}const p=new WeakMap;function g(A){Object.defineProperties(A.prototype,{commandForElement:{enumerable:!0,configurable:!0,set(I){if(this.hasAttribute("invokeaction"))throw new TypeError("Element has deprecated `invokeaction` attribute, replace with `command`");if(this.hasAttribute("invoketarget"))throw new TypeError("Element has deprecated `invoketarget` attribute, replace with `commandfor`");if(I===null)this.removeAttribute("commandfor"),p.delete(this);else if(I instanceof Element){this.setAttribute("commandfor","");const N=e(I);e(this)===N||N===this.ownerDocument?p.set(this,I):p.delete(this)}else throw new TypeError("commandForElement must be an element or null")},get(){if(this.localName!=="button")return null;if(this.hasAttribute("invokeaction")||this.hasAttribute("invoketarget"))return console.warn("Element has deprecated `invoketarget` or `invokeaction` attribute, use `commandfor` and `command` instead"),null;if(this.disabled)return null;if(this.form&&this.getAttribute("type")!=="button")return console.warn("Element with `commandFor` is a form participant. It should explicitly set `type=button` in order for `commandFor` to work"),null;const I=p.get(this);if(I)return I.isConnected?I:(p.delete(this),null);const N=e(this),Y=this.getAttribute("commandfor");return(N instanceof Document||N instanceof ShadowRoot)&&Y&&N.getElementById(Y)||null}},command:{enumerable:!0,configurable:!0,get(){const I=this.getAttribute("command")||"";if(I.startsWith("--"))return I;const N=I.toLowerCase();switch(N){case"show-modal":case"close":case"toggle-popover":case"hide-popover":case"show-popover":return N}return""},set(I){this.setAttribute("command",I)}},invokeAction:{enumerable:!1,configurable:!0,get(){throw new Error("invokeAction is deprecated. It has been renamed to command")},set(I){throw new Error("invokeAction is deprecated. It has been renamed to command")}},invokeTargetElement:{enumerable:!1,configurable:!0,get(){throw new Error("invokeTargetElement is deprecated. It has been renamed to command")},set(I){throw new Error("invokeTargetElement is deprecated. It has been renamed to command")}}})}const b=new WeakMap;Object.defineProperties(HTMLElement.prototype,{oncommand:{enumerable:!0,configurable:!0,get(){return x.takeRecords(),b.get(this)||null},set(A){const I=b.get(this)||null;I&&this.removeEventListener("command",I),b.set(this,typeof A=="object"||typeof A=="function"?A:null),typeof A=="function"&&this.addEventListener("command",A)}}});function C(A){for(const I of A)I.oncommand=new Function("event",I.getAttribute("oncommand"))}const x=new MutationObserver(A=>{for(const I of A){const{target:N}=I;I.type==="childList"?C(N.querySelectorAll("[oncommand]")):C([N])}});x.observe(document,{subtree:!0,childList:!0,attributeFilter:["oncommand"]}),C(document.querySelectorAll("[oncommand]"));function S(A){if(A.defaultPrevented||A.type!=="click")return;const I=A.target.closest("button[invoketarget], button[invokeaction], input[invoketarget], input[invokeaction]");if(I&&(console.warn("Elements with `invoketarget` or `invokeaction` are deprecated and should be renamed to use `commandfor` and `command` respectively"),I.matches("input")))throw new Error("Input elements no longer support `commandfor`");const N=A.target.closest("button[commandfor], button[command]");if(!N)return;if(N.form&&N.getAttribute("type")!=="button")throw A.preventDefault(),new Error("Element with `commandFor` is a form participant. It should explicitly set `type=button` in order for `commandFor` to work. In order for it to act as a Submit button, it must not have command or commandfor attributes");if(N.hasAttribute("command")!==N.hasAttribute("commandfor")){const J=N.hasAttribute("command")?"command":"commandfor",U=N.hasAttribute("command")?"commandfor":"command";throw new Error(`Element with ${J} attribute must also have a ${U} attribute to function.`)}if(N.command!=="show-popover"&&N.command!=="hide-popover"&&N.command!=="toggle-popover"&&N.command!=="show-modal"&&N.command!=="close"&&!N.command.startsWith("--")){console.warn(`"${N.command}" is not a valid command value. Custom commands must begin with --`);return}const Y=N.commandForElement;if(!Y)return;const H=new d("command",{command:N.command,source:N,cancelable:!0});if(Y.dispatchEvent(H),H.defaultPrevented)return;const K=H.command.toLowerCase();if(Y.popover){const J=!Y.matches(":popover-open");J&&(K==="toggle-popover"||K==="show-popover")?Y.showPopover({source:N}):!J&&K==="hide-popover"&&Y.hidePopover()}else if(Y.localName==="dialog"){const J=!Y.hasAttribute("open");J&&K==="show-modal"?Y.showModal():!J&&K==="close"&&Y.close()}}function O(A){A.addEventListener("click",S,!0)}function F(A,I){const N=A.prototype.attachShadow;A.prototype.attachShadow=function(H){const K=N.call(this,H);return I(K),K};const Y=A.prototype.attachInternals;A.prototype.attachInternals=function(){const H=Y.call(this);return H.shadowRoot&&I(H.shadowRoot),H}}g(HTMLButtonElement),F(HTMLElement,A=>{O(A),x.observe(A,{attributeFilter:["oncommand"]}),C(A.querySelectorAll("[oncommand]"))}),O(document),Object.assign(globalThis,{CommandEvent:d,InvokeEvent:f})}WE()||FE();var If={exports:{}},HE=If.exports,Sg;function Vs(){return Sg||(Sg=1,(function(a,e){(function(r,c){a.exports=c()})(HE,(function(){var r=navigator.userAgent,c=navigator.platform,d=/gecko\/\d/i.test(r),f=/MSIE \d/.test(r),p=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(r),g=/Edge\/(\d+)/.exec(r),b=f||p||g,C=b&&(f?document.documentMode||6:+(g||p)[1]),x=!g&&/WebKit\//.test(r),S=x&&/Qt\/\d+\.\d+/.test(r),O=!g&&/Chrome\/(\d+)/.exec(r),F=O&&+O[1],A=/Opera\//.test(r),I=/Apple Computer/.test(navigator.vendor),N=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(r),Y=/PhantomJS/.test(r),H=I&&(/Mobile\/\w+/.test(r)||navigator.maxTouchPoints>2),K=/Android/.test(r),J=H||K||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(r),U=H||/Mac/.test(c),nt=/\bCrOS\b/.test(r),gt=/win/i.test(c),mt=A&&r.match(/Version\/(\d*\.\d*)/);mt&&(mt=Number(mt[1])),mt&&mt>=15&&(A=!1,x=!0);var pt=U&&(S||A&&(mt==null||mt<12.11)),ct=d||b&&C>=9;function ht(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var It=function(t,n){var l=t.className,s=ht(n).exec(l);if(s){var h=l.slice(s.index+s[0].length);t.className=l.slice(0,s.index)+(h?s[1]+h:"")}};function it(t){for(var n=t.childNodes.length;n>0;--n)t.removeChild(t.firstChild);return t}function Tt(t,n){return it(t).appendChild(n)}function M(t,n,l,s){var h=document.createElement(t);if(l&&(h.className=l),s&&(h.style.cssText=s),typeof n=="string")h.appendChild(document.createTextNode(n));else if(n)for(var y=0;y<n.length;++y)h.appendChild(n[y]);return h}function xt(t,n,l,s){var h=M(t,n,l,s);return h.setAttribute("role","presentation"),h}var vt;document.createRange?vt=function(t,n,l,s){var h=document.createRange();return h.setEnd(s||t,l),h.setStart(t,n),h}:vt=function(t,n,l){var s=document.body.createTextRange();try{s.moveToElementText(t.parentNode)}catch{return s}return s.collapse(!0),s.moveEnd("character",l),s.moveStart("character",n),s};function Kt(t,n){if(n.nodeType==3&&(n=n.parentNode),t.contains)return t.contains(n);do if(n.nodeType==11&&(n=n.host),n==t)return!0;while(n=n.parentNode)}function ie(t){var n=t.ownerDocument||t,l;try{l=t.activeElement}catch{l=n.body||null}for(;l&&l.shadowRoot&&l.shadowRoot.activeElement;)l=l.shadowRoot.activeElement;return l}function oe(t,n){var l=t.className;ht(n).test(l)||(t.className+=(l?" ":"")+n)}function Ct(t,n){for(var l=t.split(" "),s=0;s<l.length;s++)l[s]&&!ht(l[s]).test(n)&&(n+=" "+l[s]);return n}var yt=function(t){t.select()};H?yt=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:b&&(yt=function(t){try{t.select()}catch{}});function kt(t){return t.display.wrapper.ownerDocument}function Ut(t){return Qt(t.display.wrapper)}function Qt(t){return t.getRootNode?t.getRootNode():t.ownerDocument}function j(t){return kt(t).defaultView}function et(t){var n=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,n)}}function st(t,n,l){n||(n={});for(var s in t)t.hasOwnProperty(s)&&(l!==!1||!n.hasOwnProperty(s))&&(n[s]=t[s]);return n}function At(t,n,l,s,h){n==null&&(n=t.search(/[^\s\u00a0]/),n==-1&&(n=t.length));for(var y=s||0,k=h||0;;){var T=t.indexOf("	",y);if(T<0||T>=n)return k+(n-y);k+=T-y,k+=l-k%l,y=T+1}}var Ht=function(){this.id=null,this.f=null,this.time=0,this.handler=et(this.onTimeout,this)};Ht.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},Ht.prototype.set=function(t,n){this.f=n;var l=+new Date+t;(!this.id||l<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=l)};function zt(t,n){for(var l=0;l<t.length;++l)if(t[l]==n)return l;return-1}var ce=50,Oe={toString:function(){return"CodeMirror.Pass"}},me={scroll:!1},we={origin:"*mouse"},fe={origin:"+move"};function ke(t,n,l){for(var s=0,h=0;;){var y=t.indexOf("	",s);y==-1&&(y=t.length);var k=y-s;if(y==t.length||h+k>=n)return s+Math.min(k,n-h);if(h+=y-s,h+=l-h%l,s=y+1,h>=n)return s}}var Ie=[""];function rn(t){for(;Ie.length<=t;)Ie.push(le(Ie)+" ");return Ie[t]}function le(t){return t[t.length-1]}function Ee(t,n){for(var l=[],s=0;s<t.length;s++)l[s]=n(t[s],s);return l}function ft(t,n,l){for(var s=0,h=l(n);s<t.length&&l(t[s])<=h;)s++;t.splice(s,0,n)}function Bt(){}function _t(t,n){var l;return Object.create?l=Object.create(t):(Bt.prototype=t,l=new Bt),n&&st(n,l),l}var Se=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Fn(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Se.test(t))}function Xn(t,n){return n?n.source.indexOf("\\w")>-1&&Fn(t)?!0:n.test(t):Fn(t)}function Wi(t){for(var n in t)if(t.hasOwnProperty(n)&&t[n])return!1;return!0}var Un=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function en(t){return t.charCodeAt(0)>=768&&Un.test(t)}function ai(t,n,l){for(;(l<0?n>0:n<t.length)&&en(t.charAt(n));)n+=l;return n}function Tn(t,n,l){for(var s=n>l?-1:1;;){if(n==l)return n;var h=(n+l)/2,y=s<0?Math.ceil(h):Math.floor(h);if(y==n)return t(y)?n:l;t(y)?l=y:n=y+s}}function Li(t,n,l,s){if(!t)return s(n,l,"ltr",0);for(var h=!1,y=0;y<t.length;++y){var k=t[y];(k.from<l&&k.to>n||n==l&&k.to==n)&&(s(Math.max(k.from,n),Math.min(k.to,l),k.level==1?"rtl":"ltr",y),h=!0)}h||s(n,l,"ltr")}var Ln=null;function he(t,n,l){var s;Ln=null;for(var h=0;h<t.length;++h){var y=t[h];if(y.from<n&&y.to>n)return h;y.to==n&&(y.from!=y.to&&l=="before"?s=h:Ln=h),y.from==n&&(y.from!=y.to&&l!="before"?s=h:Ln=h)}return s??Ln}var ar=(function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function l(L){return L<=247?t.charAt(L):1424<=L&&L<=1524?"R":1536<=L&&L<=1785?n.charAt(L-1536):1774<=L&&L<=2220?"r":8192<=L&&L<=8203?"w":L==8204?"b":"L"}var s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,h=/[stwN]/,y=/[LRr]/,k=/[Lb1n]/,T=/[1n]/;function D(L,G,Z){this.level=L,this.from=G,this.to=Z}return function(L,G){var Z=G=="ltr"?"L":"R";if(L.length==0||G=="ltr"&&!s.test(L))return!1;for(var lt=L.length,ot=[],St=0;St<lt;++St)ot.push(l(L.charCodeAt(St)));for(var Nt=0,Gt=Z;Nt<lt;++Nt){var Jt=ot[Nt];Jt=="m"?ot[Nt]=Gt:Gt=Jt}for(var ee=0,Vt=Z;ee<lt;++ee){var re=ot[ee];re=="1"&&Vt=="r"?ot[ee]="n":y.test(re)&&(Vt=re,re=="r"&&(ot[ee]="R"))}for(var be=1,ve=ot[0];be<lt-1;++be){var Fe=ot[be];Fe=="+"&&ve=="1"&&ot[be+1]=="1"?ot[be]="1":Fe==","&&ve==ot[be+1]&&(ve=="1"||ve=="n")&&(ot[be]=ve),ve=Fe}for(var Sn=0;Sn<lt;++Sn){var Kn=ot[Sn];if(Kn==",")ot[Sn]="N";else if(Kn=="%"){var Pn=void 0;for(Pn=Sn+1;Pn<lt&&ot[Pn]=="%";++Pn);for(var Yn=Sn&&ot[Sn-1]=="!"||Pn<lt&&ot[Pn]=="1"?"1":"N",ti=Sn;ti<Pn;++ti)ot[ti]=Yn;Sn=Pn-1}}for(var ei=0,Gi=Z;ei<lt;++ei){var Ni=ot[ei];Gi=="L"&&Ni=="1"?ot[ei]="L":y.test(Ni)&&(Gi=Ni)}for(var fi=0;fi<lt;++fi)if(h.test(ot[fi])){var ni=void 0;for(ni=fi+1;ni<lt&&h.test(ot[ni]);++ni);for(var jn=(fi?ot[fi-1]:Z)=="L",Ji=(ni<lt?ot[ni]:Z)=="L",ts=jn==Ji?jn?"L":"R":Z,qo=fi;qo<ni;++qo)ot[qo]=ts;fi=ni-1}for(var Yi=[],ao,Ti=0;Ti<lt;)if(k.test(ot[Ti])){var Nu=Ti;for(++Ti;Ti<lt&&k.test(ot[Ti]);++Ti);Yi.push(new D(0,Nu,Ti))}else{var so=Ti,Ko=Yi.length,Uo=G=="rtl"?1:0;for(++Ti;Ti<lt&&ot[Ti]!="L";++Ti);for(var qi=so;qi<Ti;)if(T.test(ot[qi])){so<qi&&(Yi.splice(Ko,0,new D(1,so,qi)),Ko+=Uo);var es=qi;for(++qi;qi<Ti&&T.test(ot[qi]);++qi);Yi.splice(Ko,0,new D(2,es,qi)),Ko+=Uo,so=qi}else++qi;so<Ti&&Yi.splice(Ko,0,new D(1,so,Ti))}return G=="ltr"&&(Yi[0].level==1&&(ao=L.match(/^\s+/))&&(Yi[0].from=ao[0].length,Yi.unshift(new D(0,0,ao[0].length))),le(Yi).level==1&&(ao=L.match(/\s+$/))&&(le(Yi).to-=ao[0].length,Yi.push(new D(0,lt-ao[0].length,lt)))),G=="rtl"?Yi.reverse():Yi}})();function Me(t,n){var l=t.order;return l==null&&(l=t.order=ar(t.text,n)),l}var Oi=[],ge=function(t,n,l){if(t.addEventListener)t.addEventListener(n,l,!1);else if(t.attachEvent)t.attachEvent("on"+n,l);else{var s=t._handlers||(t._handlers={});s[n]=(s[n]||Oi).concat(l)}};function Hn(t,n){return t._handlers&&t._handlers[n]||Oi}function Ue(t,n,l){if(t.removeEventListener)t.removeEventListener(n,l,!1);else if(t.detachEvent)t.detachEvent("on"+n,l);else{var s=t._handlers,h=s&&s[n];if(h){var y=zt(h,l);y>-1&&(s[n]=h.slice(0,y).concat(h.slice(y+1)))}}}function dn(t,n){var l=Hn(t,n);if(l.length)for(var s=Array.prototype.slice.call(arguments,2),h=0;h<l.length;++h)l[h].apply(null,s)}function ze(t,n,l){return typeof n=="string"&&(n={type:n,preventDefault:function(){this.defaultPrevented=!0}}),dn(t,l||n.type,t,n),se(n)||n.codemirrorIgnore}function Be(t){var n=t._handlers&&t._handlers.cursorActivity;if(n)for(var l=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),s=0;s<n.length;++s)zt(l,n[s])==-1&&l.push(n[s])}function $t(t,n){return Hn(t,n).length>0}function Et(t){t.prototype.on=function(n,l){ge(this,n,l)},t.prototype.off=function(n,l){Ue(this,n,l)}}function Yt(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function Ce(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function se(t){return t.defaultPrevented!=null?t.defaultPrevented:t.returnValue==!1}function We(t){Yt(t),Ce(t)}function ue(t){return t.target||t.srcElement}function _e(t){var n=t.which;return n==null&&(t.button&1?n=1:t.button&2?n=3:t.button&4&&(n=2)),U&&t.ctrlKey&&n==1&&(n=3),n}var on=(function(){if(b&&C<9)return!1;var t=M("div");return"draggable"in t||"dragDrop"in t})(),mi;function si(t){if(mi==null){var n=M("span","");Tt(t,M("span",[n,document.createTextNode("x")])),t.firstChild.offsetHeight!=0&&(mi=n.offsetWidth<=1&&n.offsetHeight>2&&!(b&&C<8))}var l=mi?M("span",""):M("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return l.setAttribute("cm-text",""),l}var En;function Te(t){if(En!=null)return En;var n=Tt(t,document.createTextNode("AA")),l=vt(n,0,1).getBoundingClientRect(),s=vt(n,1,2).getBoundingClientRect();return it(t),!l||l.left==l.right?!1:En=s.right-l.right<3}var Xe=`

b`.split(/\n/).length!=3?function(t){for(var n=0,l=[],s=t.length;n<=s;){var h=t.indexOf(`
`,n);h==-1&&(h=t.length);var y=t.slice(n,t.charAt(h-1)=="\r"?h-1:h),k=y.indexOf("\r");k!=-1?(l.push(y.slice(0,k)),n+=k+1):(l.push(y),n=h+1)}return l}:function(t){return t.split(/\r\n?|\n/)},an=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch{return!1}}:function(t){var n;try{n=t.ownerDocument.selection.createRange()}catch{}return!n||n.parentElement()!=t?!1:n.compareEndPoints("StartToEnd",n)!=0},Nn=(function(){var t=M("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),typeof t.oncopy=="function")})(),bn=null;function tn(t){if(bn!=null)return bn;var n=Tt(t,M("span","x")),l=n.getBoundingClientRect(),s=vt(n,0,1).getBoundingClientRect();return bn=Math.abs(l.left-s.left)>1}var vi={},Mi={};function bi(t,n){arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),vi[t]=n}function Ar(t,n){Mi[t]=n}function Lr(t){if(typeof t=="string"&&Mi.hasOwnProperty(t))t=Mi[t];else if(t&&typeof t.name=="string"&&Mi.hasOwnProperty(t.name)){var n=Mi[t.name];typeof n=="string"&&(n={name:n}),t=_t(n,t),t.name=n.name}else{if(typeof t=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return Lr("application/xml");if(typeof t=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return Lr("application/json")}return typeof t=="string"?{name:t}:t||{name:"null"}}function sr(t,n){n=Lr(n);var l=vi[n.name];if(!l)return sr(t,"text/plain");var s=l(t,n);if(yi.hasOwnProperty(n.name)){var h=yi[n.name];for(var y in h)h.hasOwnProperty(y)&&(s.hasOwnProperty(y)&&(s["_"+y]=s[y]),s[y]=h[y])}if(s.name=n.name,n.helperType&&(s.helperType=n.helperType),n.modeProps)for(var k in n.modeProps)s[k]=n.modeProps[k];return s}var yi={};function Kr(t,n){var l=yi.hasOwnProperty(t)?yi[t]:yi[t]={};st(n,l)}function li(t,n){if(n===!0)return n;if(t.copyState)return t.copyState(n);var l={};for(var s in n){var h=n[s];h instanceof Array&&(h=h.concat([])),l[s]=h}return l}function Ur(t,n){for(var l;t.innerMode&&(l=t.innerMode(n),!(!l||l.mode==t));)n=l.state,t=l.mode;return l||{mode:t,state:n}}function Fi(t,n,l){return t.startState?t.startState(n,l):!0}var On=function(t,n,l){this.pos=this.start=0,this.string=t,this.tabSize=n||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=l};On.prototype.eol=function(){return this.pos>=this.string.length},On.prototype.sol=function(){return this.pos==this.lineStart},On.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},On.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},On.prototype.eat=function(t){var n=this.string.charAt(this.pos),l;if(typeof t=="string"?l=n==t:l=n&&(t.test?t.test(n):t(n)),l)return++this.pos,n},On.prototype.eatWhile=function(t){for(var n=this.pos;this.eat(t););return this.pos>n},On.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},On.prototype.skipToEnd=function(){this.pos=this.string.length},On.prototype.skipTo=function(t){var n=this.string.indexOf(t,this.pos);if(n>-1)return this.pos=n,!0},On.prototype.backUp=function(t){this.pos-=t},On.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=At(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?At(this.string,this.lineStart,this.tabSize):0)},On.prototype.indentation=function(){return At(this.string,null,this.tabSize)-(this.lineStart?At(this.string,this.lineStart,this.tabSize):0)},On.prototype.match=function(t,n,l){if(typeof t=="string"){var s=function(k){return l?k.toLowerCase():k},h=this.string.substr(this.pos,t.length);if(s(h)==s(t))return n!==!1&&(this.pos+=t.length),!0}else{var y=this.string.slice(this.pos).match(t);return y&&y.index>0?null:(y&&n!==!1&&(this.pos+=y[0].length),y)}},On.prototype.current=function(){return this.string.slice(this.start,this.pos)},On.prototype.hideFirstChars=function(t,n){this.lineStart+=t;try{return n()}finally{this.lineStart-=t}},On.prototype.lookAhead=function(t){var n=this.lineOracle;return n&&n.lookAhead(t)},On.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};function de(t,n){if(n-=t.first,n<0||n>=t.size)throw new Error("There is no line "+(n+t.first)+" in the document.");for(var l=t;!l.lines;)for(var s=0;;++s){var h=l.children[s],y=h.chunkSize();if(n<y){l=h;break}n-=y}return l.lines[n]}function Vi(t,n,l){var s=[],h=n.line;return t.iter(n.line,l.line+1,function(y){var k=y.text;h==l.line&&(k=k.slice(0,l.ch)),h==n.line&&(k=k.slice(n.ch)),s.push(k),++h}),s}function vr(t,n,l){var s=[];return t.iter(n,l,function(h){s.push(h.text)}),s}function Hi(t,n){var l=n-t.height;if(l)for(var s=t;s;s=s.parent)s.height+=l}function P(t){if(t.parent==null)return null;for(var n=t.parent,l=zt(n.lines,t),s=n.parent;s;n=s,s=s.parent)for(var h=0;s.children[h]!=n;++h)l+=s.children[h].chunkSize();return l+n.first}function V(t,n){var l=t.first;t:do{for(var s=0;s<t.children.length;++s){var h=t.children[s],y=h.height;if(n<y){t=h;continue t}n-=y,l+=h.chunkSize()}return l}while(!t.lines);for(var k=0;k<t.lines.length;++k){var T=t.lines[k],D=T.height;if(n<D)break;n-=D}return l+k}function Dt(t,n){return n>=t.first&&n<t.first+t.size}function jt(t,n){return String(t.lineNumberFormatter(n+t.firstLineNumber))}function bt(t,n,l){if(l===void 0&&(l=null),!(this instanceof bt))return new bt(t,n,l);this.line=t,this.ch=n,this.sticky=l}function Zt(t,n){return t.line-n.line||t.ch-n.ch}function Ge(t,n){return t.sticky==n.sticky&&Zt(t,n)==0}function Rn(t){return bt(t.line,t.ch)}function Vn(t,n){return Zt(t,n)<0?n:t}function Zn(t,n){return Zt(t,n)<0?t:n}function Lo(t,n){return Math.max(t.first,Math.min(n,t.first+t.size-1))}function De(t,n){if(n.line<t.first)return bt(t.first,0);var l=t.first+t.size-1;return n.line>l?bt(l,de(t,l).text.length):Q(n,de(t,n.line).text.length)}function Q(t,n){var l=t.ch;return l==null||l>n?bt(t.line,n):l<0?bt(t.line,0):t}function m(t,n){for(var l=[],s=0;s<n.length;s++)l[s]=De(t,n[s]);return l}var w=function(t,n){this.state=t,this.lookAhead=n},E=function(t,n,l,s){this.state=n,this.doc=t,this.line=l,this.maxLookAhead=s||0,this.baseTokens=null,this.baseTokenPos=1};E.prototype.lookAhead=function(t){var n=this.doc.getLine(this.line+t);return n!=null&&t>this.maxLookAhead&&(this.maxLookAhead=t),n},E.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var n=this.baseTokens[this.baseTokenPos+1];return{type:n&&n.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},E.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},E.fromSaved=function(t,n,l){return n instanceof w?new E(t,li(t.mode,n.state),l,n.lookAhead):new E(t,li(t.mode,n),l)},E.prototype.save=function(t){var n=t!==!1?li(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new w(n,this.maxLookAhead):n};function z(t,n,l,s){var h=[t.state.modeGen],y={};Ve(t,n.text,t.doc.mode,l,function(L,G){return h.push(L,G)},y,s);for(var k=l.state,T=function(L){l.baseTokens=h;var G=t.state.overlays[L],Z=1,lt=0;l.state=!0,Ve(t,n.text,G.mode,l,function(ot,St){for(var Nt=Z;lt<ot;){var Gt=h[Z];Gt>ot&&h.splice(Z,1,ot,h[Z+1],Gt),Z+=2,lt=Math.min(ot,Gt)}if(St)if(G.opaque)h.splice(Nt,Z-Nt,ot,"overlay "+St),Z=Nt+2;else for(;Nt<Z;Nt+=2){var Jt=h[Nt+1];h[Nt+1]=(Jt?Jt+" ":"")+"overlay "+St}},y),l.state=k,l.baseTokens=null,l.baseTokenPos=1},D=0;D<t.state.overlays.length;++D)T(D);return{styles:h,classes:y.bgClass||y.textClass?y:null}}function W(t,n,l){if(!n.styles||n.styles[0]!=t.state.modeGen){var s=q(t,P(n)),h=n.text.length>t.options.maxHighlightLength&&li(t.doc.mode,s.state),y=z(t,n,s);h&&(s.state=h),n.stateAfter=s.save(!h),n.styles=y.styles,y.classes?n.styleClasses=y.classes:n.styleClasses&&(n.styleClasses=null),l===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return n.styles}function q(t,n,l){var s=t.doc,h=t.display;if(!s.mode.startState)return new E(s,!0,n);var y=Ze(t,n,l),k=y>s.first&&de(s,y-1).stateAfter,T=k?E.fromSaved(s,k,y):new E(s,Fi(s.mode),y);return s.iter(y,n,function(D){at(t,D.text,T);var L=T.line;D.stateAfter=L==n-1||L%5==0||L>=h.viewFrom&&L<h.viewTo?T.save():null,T.nextLine()}),l&&(s.modeFrontier=T.line),T}function at(t,n,l,s){var h=t.doc.mode,y=new On(n,t.options.tabSize,l);for(y.start=y.pos=s||0,n==""&&Mt(h,l.state);!y.eol();)Pt(h,y,l.state),y.start=y.pos}function Mt(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var l=Ur(t,n);if(l.mode.blankLine)return l.mode.blankLine(l.state)}}function Pt(t,n,l,s){for(var h=0;h<10;h++){s&&(s[0]=Ur(t,l).mode);var y=t.token(n,l);if(n.pos>n.start)return y}throw new Error("Mode "+t.name+" failed to advance stream.")}var Lt=function(t,n,l){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=n||null,this.state=l};function Ot(t,n,l,s){var h=t.doc,y=h.mode,k;n=De(h,n);var T=de(h,n.line),D=q(t,n.line,l),L=new On(T.text,t.options.tabSize,D),G;for(s&&(G=[]);(s||L.pos<n.ch)&&!L.eol();)L.start=L.pos,k=Pt(y,L,D.state),s&&G.push(new Lt(L,k,li(h.mode,D.state)));return s?G:new Lt(L,k,D.state)}function qt(t,n){if(t)for(;;){var l=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!l)break;t=t.slice(0,l.index)+t.slice(l.index+l[0].length);var s=l[1]?"bgClass":"textClass";n[s]==null?n[s]=l[2]:new RegExp("(?:^|\\s)"+l[2]+"(?:$|\\s)").test(n[s])||(n[s]+=" "+l[2])}return t}function Ve(t,n,l,s,h,y,k){var T=l.flattenSpans;T==null&&(T=t.options.flattenSpans);var D=0,L=null,G=new On(n,t.options.tabSize,s),Z,lt=t.options.addModeClass&&[null];for(n==""&&qt(Mt(l,s.state),y);!G.eol();){if(G.pos>t.options.maxHighlightLength?(T=!1,k&&at(t,n,s,G.pos),G.pos=n.length,Z=null):Z=qt(Pt(l,G,s.state,lt),y),lt){var ot=lt[0].name;ot&&(Z="m-"+(Z?ot+" "+Z:ot))}if(!T||L!=Z){for(;D<G.start;)D=Math.min(G.start,D+5e3),h(D,L);L=Z}G.start=G.pos}for(;D<G.pos;){var St=Math.min(G.pos,D+5e3);h(St,L),D=St}}function Ze(t,n,l){for(var s,h,y=t.doc,k=l?-1:n-(t.doc.mode.innerMode?1e3:100),T=n;T>k;--T){if(T<=y.first)return y.first;var D=de(y,T-1),L=D.stateAfter;if(L&&(!l||T+(L instanceof w?L.lookAhead:0)<=y.modeFrontier))return T;var G=At(D.text,null,t.options.tabSize);(h==null||s>G)&&(h=T-1,s=G)}return h}function Mn(t,n){if(t.modeFrontier=Math.min(t.modeFrontier,n),!(t.highlightFrontier<n-10)){for(var l=t.first,s=n-1;s>l;s--){var h=de(t,s).stateAfter;if(h&&(!(h instanceof w)||s+h.lookAhead<n)){l=s+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,l)}}var pn=!1,_n=!1;function Jn(){pn=!0}function Gn(){_n=!0}function tr(t,n,l){this.marker=t,this.from=n,this.to=l}function wi(t,n){if(t)for(var l=0;l<t.length;++l){var s=t[l];if(s.marker==n)return s}}function te(t,n){for(var l,s=0;s<t.length;++s)t[s]!=n&&(l||(l=[])).push(t[s]);return l}function un(t,n,l){var s=l&&window.WeakSet&&(l.markedSpans||(l.markedSpans=new WeakSet));s&&t.markedSpans&&s.has(t.markedSpans)?t.markedSpans.push(n):(t.markedSpans=t.markedSpans?t.markedSpans.concat([n]):[n],s&&s.add(t.markedSpans)),n.marker.attachLine(t)}function Qn(t,n,l){var s;if(t)for(var h=0;h<t.length;++h){var y=t[h],k=y.marker,T=y.from==null||(k.inclusiveLeft?y.from<=n:y.from<n);if(T||y.from==n&&k.type=="bookmark"&&(!l||!y.marker.insertLeft)){var D=y.to==null||(k.inclusiveRight?y.to>=n:y.to>n);(s||(s=[])).push(new tr(k,y.from,D?null:y.to))}}return s}function er(t,n,l){var s;if(t)for(var h=0;h<t.length;++h){var y=t[h],k=y.marker,T=y.to==null||(k.inclusiveRight?y.to>=n:y.to>n);if(T||y.from==n&&k.type=="bookmark"&&(!l||y.marker.insertLeft)){var D=y.from==null||(k.inclusiveLeft?y.from<=n:y.from<n);(s||(s=[])).push(new tr(k,D?null:y.from-n,y.to==null?null:y.to-n))}}return s}function lr(t,n){if(n.full)return null;var l=Dt(t,n.from.line)&&de(t,n.from.line).markedSpans,s=Dt(t,n.to.line)&&de(t,n.to.line).markedSpans;if(!l&&!s)return null;var h=n.from.ch,y=n.to.ch,k=Zt(n.from,n.to)==0,T=Qn(l,h,k),D=er(s,y,k),L=n.text.length==1,G=le(n.text).length+(L?h:0);if(T)for(var Z=0;Z<T.length;++Z){var lt=T[Z];if(lt.to==null){var ot=wi(D,lt.marker);ot?L&&(lt.to=ot.to==null?null:ot.to+G):lt.to=h}}if(D)for(var St=0;St<D.length;++St){var Nt=D[St];if(Nt.to!=null&&(Nt.to+=G),Nt.from==null){var Gt=wi(T,Nt.marker);Gt||(Nt.from=G,L&&(T||(T=[])).push(Nt))}else Nt.from+=G,L&&(T||(T=[])).push(Nt)}T&&(T=Vr(T)),D&&D!=T&&(D=Vr(D));var Jt=[T];if(!L){var ee=n.text.length-2,Vt;if(ee>0&&T)for(var re=0;re<T.length;++re)T[re].to==null&&(Vt||(Vt=[])).push(new tr(T[re].marker,null,null));for(var be=0;be<ee;++be)Jt.push(Vt);Jt.push(D)}return Jt}function Vr(t){for(var n=0;n<t.length;++n){var l=t[n];l.from!=null&&l.from==l.to&&l.marker.clearWhenEmpty!==!1&&t.splice(n--,1)}return t.length?t:null}function ho(t,n,l){var s=null;if(t.iter(n.line,l.line+1,function(ot){if(ot.markedSpans)for(var St=0;St<ot.markedSpans.length;++St){var Nt=ot.markedSpans[St].marker;Nt.readOnly&&(!s||zt(s,Nt)==-1)&&(s||(s=[])).push(Nt)}}),!s)return null;for(var h=[{from:n,to:l}],y=0;y<s.length;++y)for(var k=s[y],T=k.find(0),D=0;D<h.length;++D){var L=h[D];if(!(Zt(L.to,T.from)<0||Zt(L.from,T.to)>0)){var G=[D,1],Z=Zt(L.from,T.from),lt=Zt(L.to,T.to);(Z<0||!k.inclusiveLeft&&!Z)&&G.push({from:L.from,to:T.from}),(lt>0||!k.inclusiveRight&&!lt)&&G.push({from:T.to,to:L.to}),h.splice.apply(h,G),D+=G.length-3}}return h}function sn(t){var n=t.markedSpans;if(n){for(var l=0;l<n.length;++l)n[l].marker.detachLine(t);t.markedSpans=null}}function Je(t,n){if(n){for(var l=0;l<n.length;++l)n[l].marker.attachLine(t);t.markedSpans=n}}function xi(t){return t.inclusiveLeft?-1:0}function br(t){return t.inclusiveRight?1:0}function Oo(t,n){var l=t.lines.length-n.lines.length;if(l!=0)return l;var s=t.find(),h=n.find(),y=Zt(s.from,h.from)||xi(t)-xi(n);if(y)return-y;var k=Zt(s.to,h.to)||br(t)-br(n);return k||n.id-t.id}function _a(t,n){var l=_n&&t.markedSpans,s;if(l)for(var h=void 0,y=0;y<l.length;++y)h=l[y],h.marker.collapsed&&(n?h.from:h.to)==null&&(!s||Oo(s,h.marker)<0)&&(s=h.marker);return s}function Sa(t){return _a(t,!0)}function Qo(t){return _a(t,!1)}function hs(t,n){var l=_n&&t.markedSpans,s;if(l)for(var h=0;h<l.length;++h){var y=l[h];y.marker.collapsed&&(y.from==null||y.from<n)&&(y.to==null||y.to>n)&&(!s||Oo(s,y.marker)<0)&&(s=y.marker)}return s}function ds(t,n,l,s,h){var y=de(t,n),k=_n&&y.markedSpans;if(k)for(var T=0;T<k.length;++T){var D=k[T];if(D.marker.collapsed){var L=D.marker.find(0),G=Zt(L.from,l)||xi(D.marker)-xi(h),Z=Zt(L.to,s)||br(D.marker)-br(h);if(!(G>=0&&Z<=0||G<=0&&Z>=0)&&(G<=0&&(D.marker.inclusiveRight&&h.inclusiveLeft?Zt(L.to,l)>=0:Zt(L.to,l)>0)||G>=0&&(D.marker.inclusiveRight&&h.inclusiveLeft?Zt(L.from,s)<=0:Zt(L.from,s)<0)))return!0}}}function Cn(t){for(var n;n=Sa(t);)t=n.find(-1,!0).line;return t}function ps(t){for(var n;n=Qo(t);)t=n.find(1,!0).line;return t}function po(t){for(var n,l;n=Qo(t);)t=n.find(1,!0).line,(l||(l=[])).push(t);return l}function Zs(t,n){var l=de(t,n),s=Cn(l);return l==s?n:P(s)}function Js(t,n){if(n>t.lastLine())return n;var l=de(t,n),s;if(!Ci(t,l))return n;for(;s=Qo(l);)l=s.find(1,!0).line;return P(l)+1}function Ci(t,n){var l=_n&&n.markedSpans;if(l){for(var s=void 0,h=0;h<l.length;++h)if(s=l[h],!!s.marker.collapsed){if(s.from==null)return!0;if(!s.marker.widgetNode&&s.from==0&&s.marker.inclusiveLeft&&Qs(t,n,s))return!0}}}function Qs(t,n,l){if(l.to==null){var s=l.marker.find(1,!0);return Qs(t,s.line,wi(s.line.markedSpans,l.marker))}if(l.marker.inclusiveRight&&l.to==n.text.length)return!0;for(var h=void 0,y=0;y<n.markedSpans.length;++y)if(h=n.markedSpans[y],h.marker.collapsed&&!h.marker.widgetNode&&h.from==l.to&&(h.to==null||h.to!=l.from)&&(h.marker.inclusiveLeft||l.marker.inclusiveRight)&&Qs(t,n,h))return!0}function Zr(t){t=Cn(t);for(var n=0,l=t.parent,s=0;s<l.lines.length;++s){var h=l.lines[s];if(h==t)break;n+=h.height}for(var y=l.parent;y;l=y,y=l.parent)for(var k=0;k<y.children.length;++k){var T=y.children[k];if(T==l)break;n+=T.height}return n}function gs(t){if(t.height==0)return 0;for(var n=t.text.length,l,s=t;l=Sa(s);){var h=l.find(0,!0);s=h.from.line,n+=h.from.ch-h.to.ch}for(s=t;l=Qo(s);){var y=l.find(0,!0);n-=s.text.length-y.from.ch,s=y.to.line,n+=s.text.length-y.to.ch}return n}function tl(t){var n=t.display,l=t.doc;n.maxLine=de(l,l.first),n.maxLineLength=gs(n.maxLine),n.maxLineChanged=!0,l.iter(function(s){var h=gs(s);h>n.maxLineLength&&(n.maxLineLength=h,n.maxLine=s)})}var ta=function(t,n,l){this.text=t,Je(this,n),this.height=l?l(this):1};ta.prototype.lineNo=function(){return P(this)},Et(ta);function oc(t,n,l,s){t.text=n,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),t.order!=null&&(t.order=null),sn(t),Je(t,l);var h=s?s(t):1;h!=t.height&&Hi(t,h)}function ur(t){t.parent=null,sn(t)}var Jf={},yr={};function ac(t,n){if(!t||/^\s*$/.test(t))return null;var l=n.addModeClass?yr:Jf;return l[t]||(l[t]=t.replace(/\S+/g,"cm-$&"))}function Xl(t,n){var l=xt("span",null,null,x?"padding-right: .1px":null),s={pre:xt("pre",[l],"CodeMirror-line"),content:l,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};n.measure={};for(var h=0;h<=(n.rest?n.rest.length:0);h++){var y=h?n.rest[h-1]:n.line,k=void 0;s.pos=0,s.addToken=el,Te(t.display.measure)&&(k=Me(y,t.doc.direction))&&(s.addToken=$n(s.addToken,k)),s.map=[];var T=n!=t.display.externalMeasured&&P(y);ql(y,s,W(t,y,T)),y.styleClasses&&(y.styleClasses.bgClass&&(s.bgClass=Ct(y.styleClasses.bgClass,s.bgClass||"")),y.styleClasses.textClass&&(s.textClass=Ct(y.styleClasses.textClass,s.textClass||""))),s.map.length==0&&s.map.push(0,0,s.content.appendChild(si(t.display.measure))),h==0?(n.measure.map=s.map,n.measure.cache={}):((n.measure.maps||(n.measure.maps=[])).push(s.map),(n.measure.caches||(n.measure.caches=[])).push({}))}if(x){var D=s.content.lastChild;(/\bcm-tab\b/.test(D.className)||D.querySelector&&D.querySelector(".cm-tab"))&&(s.content.className="cm-tab-wrap-hack")}return dn(t,"renderLine",t,n.line,s.pre),s.pre.className&&(s.textClass=Ct(s.pre.className,s.textClass||"")),s}function Mo(t){var n=M("span","","cm-invalidchar");return n.title="\\u"+t.charCodeAt(0).toString(16),n.setAttribute("aria-label",n.title),n}function el(t,n,l,s,h,y,k){if(n){var T=t.splitSpaces?Gl(n,t.trailingSpace):n,D=t.cm.state.specialChars,L=!1,G;if(!D.test(n))t.col+=n.length,G=document.createTextNode(T),t.map.push(t.pos,t.pos+n.length,G),b&&C<9&&(L=!0),t.pos+=n.length;else{G=document.createDocumentFragment();for(var Z=0;;){D.lastIndex=Z;var lt=D.exec(n),ot=lt?lt.index-Z:n.length-Z;if(ot){var St=document.createTextNode(T.slice(Z,Z+ot));b&&C<9?G.appendChild(M("span",[St])):G.appendChild(St),t.map.push(t.pos,t.pos+ot,St),t.col+=ot,t.pos+=ot}if(!lt)break;Z+=ot+1;var Nt=void 0;if(lt[0]=="	"){var Gt=t.cm.options.tabSize,Jt=Gt-t.col%Gt;Nt=G.appendChild(M("span",rn(Jt),"cm-tab")),Nt.setAttribute("role","presentation"),Nt.setAttribute("cm-text","	"),t.col+=Jt}else lt[0]=="\r"||lt[0]==`
`?(Nt=G.appendChild(M("span",lt[0]=="\r"?"":"","cm-invalidchar")),Nt.setAttribute("cm-text",lt[0]),t.col+=1):(Nt=t.cm.options.specialCharPlaceholder(lt[0]),Nt.setAttribute("cm-text",lt[0]),b&&C<9?G.appendChild(M("span",[Nt])):G.appendChild(Nt),t.col+=1);t.map.push(t.pos,t.pos+1,Nt),t.pos++}}if(t.trailingSpace=T.charCodeAt(n.length-1)==32,l||s||h||L||y||k){var ee=l||"";s&&(ee+=s),h&&(ee+=h);var Vt=M("span",[G],ee,y);if(k)for(var re in k)k.hasOwnProperty(re)&&re!="style"&&re!="class"&&Vt.setAttribute(re,k[re]);return t.content.appendChild(Vt)}t.content.appendChild(G)}}function Gl(t,n){if(t.length>1&&!/  /.test(t))return t;for(var l=n,s="",h=0;h<t.length;h++){var y=t.charAt(h);y==" "&&l&&(h==t.length-1||t.charCodeAt(h+1)==32)&&(y=""),s+=y,l=y==" "}return s}function $n(t,n){return function(l,s,h,y,k,T,D){h=h?h+" cm-force-border":"cm-force-border";for(var L=l.pos,G=L+s.length;;){for(var Z=void 0,lt=0;lt<n.length&&(Z=n[lt],!(Z.to>L&&Z.from<=L));lt++);if(Z.to>=G)return t(l,s,h,y,k,T,D);t(l,s.slice(0,Z.to-L),h,y,null,T,D),y=null,s=s.slice(Z.to-L),L=Z.to}}}function go(t,n,l,s){var h=!s&&l.widgetNode;h&&t.map.push(t.pos,t.pos+n,h),!s&&t.cm.display.input.needsContentAttribute&&(h||(h=t.content.appendChild(document.createElement("span"))),h.setAttribute("cm-marker",l.id)),h&&(t.cm.display.input.setUneditable(h),t.content.appendChild(h)),t.pos+=n,t.trailingSpace=!1}function ql(t,n,l){var s=t.markedSpans,h=t.text,y=0;if(!s){for(var k=1;k<l.length;k+=2)n.addToken(n,h.slice(y,y=l[k]),ac(l[k+1],n.cm.options));return}for(var T=h.length,D=0,L=1,G="",Z,lt,ot=0,St,Nt,Gt,Jt,ee;;){if(ot==D){St=Nt=Gt=lt="",ee=null,Jt=null,ot=1/0;for(var Vt=[],re=void 0,be=0;be<s.length;++be){var ve=s[be],Fe=ve.marker;if(Fe.type=="bookmark"&&ve.from==D&&Fe.widgetNode)Vt.push(Fe);else if(ve.from<=D&&(ve.to==null||ve.to>D||Fe.collapsed&&ve.to==D&&ve.from==D)){if(ve.to!=null&&ve.to!=D&&ot>ve.to&&(ot=ve.to,Nt=""),Fe.className&&(St+=" "+Fe.className),Fe.css&&(lt=(lt?lt+";":"")+Fe.css),Fe.startStyle&&ve.from==D&&(Gt+=" "+Fe.startStyle),Fe.endStyle&&ve.to==ot&&(re||(re=[])).push(Fe.endStyle,ve.to),Fe.title&&((ee||(ee={})).title=Fe.title),Fe.attributes)for(var Sn in Fe.attributes)(ee||(ee={}))[Sn]=Fe.attributes[Sn];Fe.collapsed&&(!Jt||Oo(Jt.marker,Fe)<0)&&(Jt=ve)}else ve.from>D&&ot>ve.from&&(ot=ve.from)}if(re)for(var Kn=0;Kn<re.length;Kn+=2)re[Kn+1]==ot&&(Nt+=" "+re[Kn]);if(!Jt||Jt.from==D)for(var Pn=0;Pn<Vt.length;++Pn)go(n,0,Vt[Pn]);if(Jt&&(Jt.from||0)==D){if(go(n,(Jt.to==null?T+1:Jt.to)-D,Jt.marker,Jt.from==null),Jt.to==null)return;Jt.to==D&&(Jt=!1)}}if(D>=T)break;for(var Yn=Math.min(T,ot);;){if(G){var ti=D+G.length;if(!Jt){var ei=ti>Yn?G.slice(0,Yn-D):G;n.addToken(n,ei,Z?Z+St:St,Gt,D+ei.length==ot?Nt:"",lt,ee)}if(ti>=Yn){G=G.slice(Yn-D),D=Yn;break}D=ti,Gt=""}G=h.slice(y,y=l[L++]),Z=ac(l[L++],n.cm.options)}}}function sc(t,n,l){this.line=n,this.rest=po(n),this.size=this.rest?P(le(this.rest))-l+1:1,this.node=this.text=null,this.hidden=Ci(t,n)}function Ta(t,n,l){for(var s=[],h,y=n;y<l;y=h){var k=new sc(t.doc,de(t.doc,y),y);h=y+k.size,s.push(k)}return s}var Da=null;function Qf(t){Da?Da.ops.push(t):t.ownsGroup=Da={ops:[t],delayedCallbacks:[]}}function th(t){var n=t.delayedCallbacks,l=0;do{for(;l<n.length;l++)n[l].call(null);for(var s=0;s<t.ops.length;s++){var h=t.ops[s];if(h.cursorActivityHandlers)for(;h.cursorActivityCalled<h.cursorActivityHandlers.length;)h.cursorActivityHandlers[h.cursorActivityCalled++].call(null,h.cm)}}while(l<n.length)}function lc(t,n){var l=t.ownsGroup;if(l)try{th(l)}finally{Da=null,n(l)}}var Ro=null;function In(t,n){var l=Hn(t,n);if(l.length){var s=Array.prototype.slice.call(arguments,2),h;Da?h=Da.delayedCallbacks:Ro?h=Ro:(h=Ro=[],setTimeout(eh,0));for(var y=function(T){h.push(function(){return l[T].apply(null,s)})},k=0;k<l.length;++k)y(k)}}function eh(){var t=Ro;Ro=null;for(var n=0;n<t.length;++n)t[n]()}function Kl(t,n,l,s){for(var h=0;h<n.changes.length;h++){var y=n.changes[h];y=="text"?uc(t,n):y=="gutter"?il(t,n,l,s):y=="class"?Vl(t,n):y=="widget"&&Zl(t,n,s)}n.changes=null}function Aa(t){return t.node==t.text&&(t.node=M("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),b&&C<8&&(t.node.style.zIndex=2)),t.node}function Ul(t,n){var l=n.bgClass?n.bgClass+" "+(n.line.bgClass||""):n.line.bgClass;if(l&&(l+=" CodeMirror-linebackground"),n.background)l?n.background.className=l:(n.background.parentNode.removeChild(n.background),n.background=null);else if(l){var s=Aa(n);n.background=s.insertBefore(M("div",null,l),s.firstChild),t.display.input.setUneditable(n.background)}}function nl(t,n){var l=t.display.externalMeasured;return l&&l.line==n.line?(t.display.externalMeasured=null,n.measure=l.measure,l.built):Xl(t,n)}function uc(t,n){var l=n.text.className,s=nl(t,n);n.text==n.node&&(n.node=s.pre),n.text.parentNode.replaceChild(s.pre,n.text),n.text=s.pre,s.bgClass!=n.bgClass||s.textClass!=n.textClass?(n.bgClass=s.bgClass,n.textClass=s.textClass,Vl(t,n)):l&&(n.text.className=l)}function Vl(t,n){Ul(t,n),n.line.wrapClass?Aa(n).className=n.line.wrapClass:n.node!=n.text&&(n.node.className="");var l=n.textClass?n.textClass+" "+(n.line.textClass||""):n.line.textClass;n.text.className=l||""}function il(t,n,l,s){if(n.gutter&&(n.node.removeChild(n.gutter),n.gutter=null),n.gutterBackground&&(n.node.removeChild(n.gutterBackground),n.gutterBackground=null),n.line.gutterClass){var h=Aa(n);n.gutterBackground=M("div",null,"CodeMirror-gutter-background "+n.line.gutterClass,"left: "+(t.options.fixedGutter?s.fixedPos:-s.gutterTotalWidth)+"px; width: "+s.gutterTotalWidth+"px"),t.display.input.setUneditable(n.gutterBackground),h.insertBefore(n.gutterBackground,n.text)}var y=n.line.gutterMarkers;if(t.options.lineNumbers||y){var k=Aa(n),T=n.gutter=M("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?s.fixedPos:-s.gutterTotalWidth)+"px");if(T.setAttribute("aria-hidden","true"),t.display.input.setUneditable(T),k.insertBefore(T,n.text),n.line.gutterClass&&(T.className+=" "+n.line.gutterClass),t.options.lineNumbers&&(!y||!y["CodeMirror-linenumbers"])&&(n.lineNumber=T.appendChild(M("div",jt(t.options,l),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+s.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),y)for(var D=0;D<t.display.gutterSpecs.length;++D){var L=t.display.gutterSpecs[D].className,G=y.hasOwnProperty(L)&&y[L];G&&T.appendChild(M("div",[G],"CodeMirror-gutter-elt","left: "+s.gutterLeft[L]+"px; width: "+s.gutterWidth[L]+"px"))}}}function Zl(t,n,l){n.alignable&&(n.alignable=null);for(var s=ht("CodeMirror-linewidget"),h=n.node.firstChild,y=void 0;h;h=y)y=h.nextSibling,s.test(h.className)&&n.node.removeChild(h);Jl(t,n,l)}function nh(t,n,l,s){var h=nl(t,n);return n.text=n.node=h.pre,h.bgClass&&(n.bgClass=h.bgClass),h.textClass&&(n.textClass=h.textClass),Vl(t,n),il(t,n,l,s),Jl(t,n,s),n.node}function Jl(t,n,l){if(nr(t,n.line,n,l,!0),n.rest)for(var s=0;s<n.rest.length;s++)nr(t,n.rest[s],n,l,!1)}function nr(t,n,l,s,h){if(n.widgets)for(var y=Aa(l),k=0,T=n.widgets;k<T.length;++k){var D=T[k],L=M("div",[D.node],"CodeMirror-linewidget"+(D.className?" "+D.className:""));D.handleMouseEvents||L.setAttribute("cm-ignore-events","true"),Ql(D,L,l,s),t.display.input.setUneditable(L),h&&D.above?y.insertBefore(L,l.gutter||l.text):y.appendChild(L),In(D,"redraw")}}function Ql(t,n,l,s){if(t.noHScroll){(l.alignable||(l.alignable=[])).push(n);var h=s.wrapperWidth;n.style.left=s.fixedPos+"px",t.coverGutter||(h-=s.gutterTotalWidth,n.style.paddingLeft=s.gutterTotalWidth+"px"),n.style.width=h+"px"}t.coverGutter&&(n.style.zIndex=5,n.style.position="relative",t.noHScroll||(n.style.marginLeft=-s.gutterTotalWidth+"px"))}function mo(t){if(t.height!=null)return t.height;var n=t.doc.cm;if(!n)return 0;if(!Kt(document.body,t.node)){var l="position: relative;";t.coverGutter&&(l+="margin-left: -"+n.display.gutters.offsetWidth+"px;"),t.noHScroll&&(l+="width: "+n.display.wrapper.clientWidth+"px;"),Tt(n.display.measure,M("div",[t.node],null,l))}return t.height=t.node.parentNode.offsetHeight}function Jr(t,n){for(var l=ue(n);l!=t.wrapper;l=l.parentNode)if(!l||l.nodeType==1&&l.getAttribute("cm-ignore-events")=="true"||l.parentNode==t.sizer&&l!=t.mover)return!0}function ms(t){return t.lineSpace.offsetTop}function tu(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function cc(t){if(t.cachedPaddingH)return t.cachedPaddingH;var n=Tt(t.measure,M("pre","x","CodeMirror-line-like")),l=window.getComputedStyle?window.getComputedStyle(n):n.currentStyle,s={left:parseInt(l.paddingLeft),right:parseInt(l.paddingRight)};return!isNaN(s.left)&&!isNaN(s.right)&&(t.cachedPaddingH=s),s}function Qr(t){return ce-t.display.nativeBarWidth}function ea(t){return t.display.scroller.clientWidth-Qr(t)-t.display.barWidth}function eu(t){return t.display.scroller.clientHeight-Qr(t)-t.display.barHeight}function La(t,n,l){var s=t.options.lineWrapping,h=s&&ea(t);if(!n.measure.heights||s&&n.measure.width!=h){var y=n.measure.heights=[];if(s){n.measure.width=h;for(var k=n.text.firstChild.getClientRects(),T=0;T<k.length-1;T++){var D=k[T],L=k[T+1];Math.abs(D.bottom-L.bottom)>2&&y.push((D.bottom+L.top)/2-l.top)}}y.push(l.bottom-l.top)}}function fc(t,n,l){if(t.line==n)return{map:t.measure.map,cache:t.measure.cache};if(t.rest){for(var s=0;s<t.rest.length;s++)if(t.rest[s]==n)return{map:t.measure.maps[s],cache:t.measure.caches[s]};for(var h=0;h<t.rest.length;h++)if(P(t.rest[h])>l)return{map:t.measure.maps[h],cache:t.measure.caches[h],before:!0}}}function ih(t,n){n=Cn(n);var l=P(n),s=t.display.externalMeasured=new sc(t.doc,n,l);s.lineN=l;var h=s.built=Xl(t,s);return s.text=h.pre,Tt(t.display.lineMeasure,h.pre),s}function rl(t,n,l,s){return fr(t,cr(t,n),l,s)}function ol(t,n){if(n>=t.display.viewFrom&&n<t.display.viewTo)return t.display.view[ia(t,n)];var l=t.display.externalMeasured;if(l&&n>=l.lineN&&n<l.lineN+l.size)return l}function cr(t,n){var l=P(n),s=ol(t,l);s&&!s.text?s=null:s&&s.changes&&(Kl(t,s,l,Ma(t)),t.curOp.forceUpdate=!0),s||(s=ih(t,n));var h=fc(s,n,l);return{line:n,view:s,rect:null,map:h.map,cache:h.cache,before:h.before,hasHeights:!1}}function fr(t,n,l,s,h){n.before&&(l=-1);var y=l+(s||""),k;return n.cache.hasOwnProperty(y)?k=n.cache[y]:(n.rect||(n.rect=n.view.text.getBoundingClientRect()),n.hasHeights||(La(t,n.view,n.rect),n.hasHeights=!0),k=Oa(t,n,l,s),k.bogus||(n.cache[y]=k)),{left:k.left,right:k.right,top:h?k.rtop:k.top,bottom:h?k.rbottom:k.bottom}}var hc={left:0,right:0,top:0,bottom:0};function dc(t,n,l){for(var s,h,y,k,T,D,L=0;L<t.length;L+=3)if(T=t[L],D=t[L+1],n<T?(h=0,y=1,k="left"):n<D?(h=n-T,y=h+1):(L==t.length-3||n==D&&t[L+3]>n)&&(y=D-T,h=y-1,n>=D&&(k="right")),h!=null){if(s=t[L+2],T==D&&l==(s.insertLeft?"left":"right")&&(k=l),l=="left"&&h==0)for(;L&&t[L-2]==t[L-3]&&t[L-1].insertLeft;)s=t[(L-=3)+2],k="left";if(l=="right"&&h==D-T)for(;L<t.length-3&&t[L+3]==t[L+4]&&!t[L+5].insertLeft;)s=t[(L+=3)+2],k="right";break}return{node:s,start:h,end:y,collapse:k,coverStart:T,coverEnd:D}}function rh(t,n){var l=hc;if(n=="left")for(var s=0;s<t.length&&(l=t[s]).left==l.right;s++);else for(var h=t.length-1;h>=0&&(l=t[h]).left==l.right;h--);return l}function Oa(t,n,l,s){var h=dc(n.map,l,s),y=h.node,k=h.start,T=h.end,D=h.collapse,L;if(y.nodeType==3){for(var G=0;G<4;G++){for(;k&&en(n.line.text.charAt(h.coverStart+k));)--k;for(;h.coverStart+T<h.coverEnd&&en(n.line.text.charAt(h.coverStart+T));)++T;if(b&&C<9&&k==0&&T==h.coverEnd-h.coverStart?L=y.parentNode.getBoundingClientRect():L=rh(vt(y,k,T).getClientRects(),s),L.left||L.right||k==0)break;T=k,k=k-1,D="right"}b&&C<11&&(L=Or(t.display.measure,L))}else{k>0&&(D=s="right");var Z;t.options.lineWrapping&&(Z=y.getClientRects()).length>1?L=Z[s=="right"?Z.length-1:0]:L=y.getBoundingClientRect()}if(b&&C<9&&!k&&(!L||!L.left&&!L.right)){var lt=y.parentNode.getClientRects()[0];lt?L={left:lt.left,right:lt.left+bo(t.display),top:lt.top,bottom:lt.bottom}:L=hc}for(var ot=L.top-n.rect.top,St=L.bottom-n.rect.top,Nt=(ot+St)/2,Gt=n.view.measure.heights,Jt=0;Jt<Gt.length-1&&!(Nt<Gt[Jt]);Jt++);var ee=Jt?Gt[Jt-1]:0,Vt=Gt[Jt],re={left:(D=="right"?L.right:L.left)-n.rect.left,right:(D=="left"?L.left:L.right)-n.rect.left,top:ee,bottom:Vt};return!L.left&&!L.right&&(re.bogus=!0),t.options.singleCursorHeightPerLine||(re.rtop=ot,re.rbottom=St),re}function Or(t,n){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!tn(t))return n;var l=screen.logicalXDPI/screen.deviceXDPI,s=screen.logicalYDPI/screen.deviceYDPI;return{left:n.left*l,right:n.right*l,top:n.top*s,bottom:n.bottom*s}}function nu(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var n=0;n<t.rest.length;n++)t.measure.caches[n]={}}function pc(t){t.display.externalMeasure=null,it(t.display.lineMeasure);for(var n=0;n<t.display.view.length;n++)nu(t.display.view[n])}function vs(t){pc(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function gc(t){return O&&K?-(t.body.getBoundingClientRect().left-parseInt(getComputedStyle(t.body).marginLeft)):t.defaultView.pageXOffset||(t.documentElement||t.body).scrollLeft}function mc(t){return O&&K?-(t.body.getBoundingClientRect().top-parseInt(getComputedStyle(t.body).marginTop)):t.defaultView.pageYOffset||(t.documentElement||t.body).scrollTop}function iu(t){var n=Cn(t),l=n.widgets,s=0;if(l)for(var h=0;h<l.length;++h)l[h].above&&(s+=mo(l[h]));return s}function vo(t,n,l,s,h){if(!h){var y=iu(n);l.top+=y,l.bottom+=y}if(s=="line")return l;s||(s="local");var k=Zr(n);if(s=="local"?k+=ms(t.display):k-=t.display.viewOffset,s=="page"||s=="window"){var T=t.display.lineSpace.getBoundingClientRect();k+=T.top+(s=="window"?0:mc(kt(t)));var D=T.left+(s=="window"?0:gc(kt(t)));l.left+=D,l.right+=D}return l.top+=k,l.bottom+=k,l}function ut(t,n,l){if(l=="div")return n;var s=n.left,h=n.top;if(l=="page")s-=gc(kt(t)),h-=mc(kt(t));else if(l=="local"||!l){var y=t.display.sizer.getBoundingClientRect();s+=y.left,h+=y.top}var k=t.display.lineSpace.getBoundingClientRect();return{left:s-k.left,top:h-k.top}}function Rt(t,n,l,s,h){return s||(s=de(t.doc,n.line)),vo(t,s,rl(t,s,n.ch,h),l)}function wt(t,n,l,s,h,y){s=s||de(t.doc,n.line),h||(h=cr(t,s));function k(St,Nt){var Gt=fr(t,h,St,Nt?"right":"left",y);return Nt?Gt.left=Gt.right:Gt.right=Gt.left,vo(t,s,Gt,l)}var T=Me(s,t.doc.direction),D=n.ch,L=n.sticky;if(D>=s.text.length?(D=s.text.length,L="before"):D<=0&&(D=0,L="after"),!T)return k(L=="before"?D-1:D,L=="before");function G(St,Nt,Gt){var Jt=T[Nt],ee=Jt.level==1;return k(Gt?St-1:St,ee!=Gt)}var Z=he(T,D,L),lt=Ln,ot=G(D,Z,L=="before");return lt!=null&&(ot.other=G(D,lt,L!="before")),ot}function pe(t,n){var l=0;n=De(t.doc,n),t.options.lineWrapping||(l=bo(t.display)*n.ch);var s=de(t.doc,n.line),h=Zr(s)+ms(t.display);return{left:l,right:l,top:h,bottom:h+s.height}}function $e(t,n,l,s,h){var y=bt(t,n,l);return y.xRel=h,s&&(y.outside=s),y}function gn(t,n,l){var s=t.doc;if(l+=t.display.viewOffset,l<0)return $e(s.first,0,null,-1,-1);var h=V(s,l),y=s.first+s.size-1;if(h>y)return $e(s.first+s.size-1,de(s,y).text.length,null,1,1);n<0&&(n=0);for(var k=de(s,h);;){var T=oh(t,k,h,n,l),D=hs(k,T.ch+(T.xRel>0||T.outside>0?1:0));if(!D)return T;var L=D.find(1);if(L.line==h)return L;k=de(s,h=L.line)}}function ui(t,n,l,s){s-=iu(n);var h=n.text.length,y=Tn(function(k){return fr(t,l,k-1).bottom<=s},h,0);return h=Tn(function(k){return fr(t,l,k).top>s},y,h),{begin:y,end:h}}function Dn(t,n,l,s){l||(l=cr(t,n));var h=vo(t,n,fr(t,l,s),"line").top;return ui(t,n,l,h)}function bs(t,n,l,s){return t.bottom<=l?!1:t.top>l?!0:(s?t.left:t.right)>n}function oh(t,n,l,s,h){h-=Zr(n);var y=cr(t,n),k=iu(n),T=0,D=n.text.length,L=!0,G=Me(n,t.doc.direction);if(G){var Z=(t.options.lineWrapping?al:wr)(t,n,l,y,G,s,h);L=Z.level!=1,T=L?Z.from:Z.to-1,D=L?Z.to:Z.from-1}var lt=null,ot=null,St=Tn(function(be){var ve=fr(t,y,be);return ve.top+=k,ve.bottom+=k,bs(ve,s,h,!1)?(ve.top<=h&&ve.left<=s&&(lt=be,ot=ve),!0):!1},T,D),Nt,Gt,Jt=!1;if(ot){var ee=s-ot.left<ot.right-s,Vt=ee==L;St=lt+(Vt?0:1),Gt=Vt?"after":"before",Nt=ee?ot.left:ot.right}else{!L&&(St==D||St==T)&&St++,Gt=St==0?"after":St==n.text.length?"before":fr(t,y,St-(L?1:0)).bottom+k<=h==L?"after":"before";var re=wt(t,bt(l,St,Gt),"line",n,y);Nt=re.left,Jt=h<re.top?-1:h>=re.bottom?1:0}return St=ai(n.text,St,1),$e(l,St,Gt,Jt,s-Nt)}function wr(t,n,l,s,h,y,k){var T=Tn(function(Z){var lt=h[Z],ot=lt.level!=1;return bs(wt(t,bt(l,ot?lt.to:lt.from,ot?"before":"after"),"line",n,s),y,k,!0)},0,h.length-1),D=h[T];if(T>0){var L=D.level!=1,G=wt(t,bt(l,L?D.from:D.to,L?"after":"before"),"line",n,s);bs(G,y,k,!0)&&G.top>k&&(D=h[T-1])}return D}function al(t,n,l,s,h,y,k){var T=ui(t,n,s,k),D=T.begin,L=T.end;/\s/.test(n.text.charAt(L-1))&&L--;for(var G=null,Z=null,lt=0;lt<h.length;lt++){var ot=h[lt];if(!(ot.from>=L||ot.to<=D)){var St=ot.level!=1,Nt=fr(t,s,St?Math.min(L,ot.to)-1:Math.max(D,ot.from)).right,Gt=Nt<y?y-Nt+1e9:Nt-y;(!G||Z>Gt)&&(G=ot,Z=Gt)}}return G||(G=h[h.length-1]),G.from<D&&(G={from:D,to:G.to,level:G.level}),G.to>L&&(G={from:G.from,to:L,level:G.level}),G}var na;function Mr(t){if(t.cachedTextHeight!=null)return t.cachedTextHeight;if(na==null){na=M("pre",null,"CodeMirror-line-like");for(var n=0;n<49;++n)na.appendChild(document.createTextNode("x")),na.appendChild(M("br"));na.appendChild(document.createTextNode("x"))}Tt(t.measure,na);var l=na.offsetHeight/50;return l>3&&(t.cachedTextHeight=l),it(t.measure),l||1}function bo(t){if(t.cachedCharWidth!=null)return t.cachedCharWidth;var n=M("span","xxxxxxxxxx"),l=M("pre",[n],"CodeMirror-line-like");Tt(t.measure,l);var s=n.getBoundingClientRect(),h=(s.right-s.left)/10;return h>2&&(t.cachedCharWidth=h),h||10}function Ma(t){for(var n=t.display,l={},s={},h=n.gutters.clientLeft,y=n.gutters.firstChild,k=0;y;y=y.nextSibling,++k){var T=t.display.gutterSpecs[k].className;l[T]=y.offsetLeft+y.clientLeft+h,s[T]=y.clientWidth}return{fixedPos:xn(n),gutterTotalWidth:n.gutters.offsetWidth,gutterLeft:l,gutterWidth:s,wrapperWidth:n.wrapper.clientWidth}}function xn(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function vc(t){var n=Mr(t.display),l=t.options.lineWrapping,s=l&&Math.max(5,t.display.scroller.clientWidth/bo(t.display)-3);return function(h){if(Ci(t.doc,h))return 0;var y=0;if(h.widgets)for(var k=0;k<h.widgets.length;k++)h.widgets[k].height&&(y+=h.widgets[k].height);return l?y+(Math.ceil(h.text.length/s)||1)*n:y+n}}function sl(t){var n=t.doc,l=vc(t);n.iter(function(s){var h=l(s);h!=s.height&&Hi(s,h)})}function to(t,n,l,s){var h=t.display;if(!l&&ue(n).getAttribute("cm-not-content")=="true")return null;var y,k,T=h.lineSpace.getBoundingClientRect();try{y=n.clientX-T.left,k=n.clientY-T.top}catch{return null}var D=gn(t,y,k),L;if(s&&D.xRel>0&&(L=de(t.doc,D.line).text).length==D.ch){var G=At(L,L.length,t.options.tabSize)-L.length;D=bt(D.line,Math.max(0,Math.round((y-cc(t.display).left)/bo(t.display))-G))}return D}function ia(t,n){if(n>=t.display.viewTo||(n-=t.display.viewFrom,n<0))return null;for(var l=t.display.view,s=0;s<l.length;s++)if(n-=l[s].size,n<0)return s}function Zi(t,n,l,s){n==null&&(n=t.doc.first),l==null&&(l=t.doc.first+t.doc.size),s||(s=0);var h=t.display;if(s&&l<h.viewTo&&(h.updateLineNumbers==null||h.updateLineNumbers>n)&&(h.updateLineNumbers=n),t.curOp.viewChanged=!0,n>=h.viewTo)_n&&Zs(t.doc,n)<h.viewTo&&Rr(t);else if(l<=h.viewFrom)_n&&Js(t.doc,l+s)>h.viewFrom?Rr(t):(h.viewFrom+=s,h.viewTo+=s);else if(n<=h.viewFrom&&l>=h.viewTo)Rr(t);else if(n<=h.viewFrom){var y=Pr(t,l,l+s,1);y?(h.view=h.view.slice(y.index),h.viewFrom=y.lineN,h.viewTo+=s):Rr(t)}else if(l>=h.viewTo){var k=Pr(t,n,n,-1);k?(h.view=h.view.slice(0,k.index),h.viewTo=k.lineN):Rr(t)}else{var T=Pr(t,n,n,-1),D=Pr(t,l,l+s,1);T&&D?(h.view=h.view.slice(0,T.index).concat(Ta(t,T.lineN,D.lineN)).concat(h.view.slice(D.index)),h.viewTo+=s):Rr(t)}var L=h.externalMeasured;L&&(l<L.lineN?L.lineN+=s:n<L.lineN+L.size&&(h.externalMeasured=null))}function Po(t,n,l){t.curOp.viewChanged=!0;var s=t.display,h=t.display.externalMeasured;if(h&&n>=h.lineN&&n<h.lineN+h.size&&(s.externalMeasured=null),!(n<s.viewFrom||n>=s.viewTo)){var y=s.view[ia(t,n)];if(y.node!=null){var k=y.changes||(y.changes=[]);zt(k,l)==-1&&k.push(l)}}}function Rr(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function Pr(t,n,l,s){var h=ia(t,n),y,k=t.display.view;if(!_n||l==t.doc.first+t.doc.size)return{index:h,lineN:l};for(var T=t.display.viewFrom,D=0;D<h;D++)T+=k[D].size;if(T!=n){if(s>0){if(h==k.length-1)return null;y=T+k[h].size-n,h++}else y=T-n;n+=y,l+=y}for(;Zs(t.doc,l)!=l;){if(h==(s<0?0:k.length-1))return null;l+=s*k[h-(s<0?1:0)].size,h+=s}return{index:h,lineN:l}}function ll(t,n,l){var s=t.display,h=s.view;h.length==0||n>=s.viewTo||l<=s.viewFrom?(s.view=Ta(t,n,l),s.viewFrom=n):(s.viewFrom>n?s.view=Ta(t,n,s.viewFrom).concat(s.view):s.viewFrom<n&&(s.view=s.view.slice(ia(t,n))),s.viewFrom=n,s.viewTo<l?s.view=s.view.concat(Ta(t,s.viewTo,l)):s.viewTo>l&&(s.view=s.view.slice(0,ia(t,l)))),s.viewTo=l}function ru(t){for(var n=t.display.view,l=0,s=0;s<n.length;s++){var h=n[s];!h.hidden&&(!h.node||h.changes)&&++l}return l}function No(t){t.display.input.showSelection(t.display.input.prepareSelection())}function ou(t,n){n===void 0&&(n=!0);var l=t.doc,s={},h=s.cursors=document.createDocumentFragment(),y=s.selection=document.createDocumentFragment(),k=t.options.$customCursor;k&&(n=!0);for(var T=0;T<l.sel.ranges.length;T++)if(!(!n&&T==l.sel.primIndex)){var D=l.sel.ranges[T];if(!(D.from().line>=t.display.viewTo||D.to().line<t.display.viewFrom)){var L=D.empty();if(k){var G=k(t,D);G&&ul(t,G,h)}else(L||t.options.showCursorWhenSelecting)&&ul(t,D.head,h);L||bc(t,D,y)}}return s}function ul(t,n,l){var s=wt(t,n,"div",null,null,!t.options.singleCursorHeightPerLine),h=l.appendChild(M("div","","CodeMirror-cursor"));if(h.style.left=s.left+"px",h.style.top=s.top+"px",h.style.height=Math.max(0,s.bottom-s.top)*t.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(t.getWrapperElement().className)){var y=Rt(t,n,"div",null,null),k=y.right-y.left;h.style.width=(k>0?k:t.defaultCharWidth())+"px"}if(s.other){var T=l.appendChild(M("div","","CodeMirror-cursor CodeMirror-secondarycursor"));T.style.display="",T.style.left=s.other.left+"px",T.style.top=s.other.top+"px",T.style.height=(s.other.bottom-s.other.top)*.85+"px"}}function ra(t,n){return t.top-n.top||t.left-n.left}function bc(t,n,l){var s=t.display,h=t.doc,y=document.createDocumentFragment(),k=cc(t.display),T=k.left,D=Math.max(s.sizerWidth,ea(t)-s.sizer.offsetLeft)-k.right,L=h.direction=="ltr";function G(Vt,re,be,ve){re<0&&(re=0),re=Math.round(re),ve=Math.round(ve),y.appendChild(M("div",null,"CodeMirror-selected","position: absolute; left: "+Vt+`px;
                             top: `+re+"px; width: "+(be??D-Vt)+`px;
                             height: `+(ve-re)+"px"))}function Z(Vt,re,be){var ve=de(h,Vt),Fe=ve.text.length,Sn,Kn;function Pn(ei,Gi){return Rt(t,bt(Vt,ei),"div",ve,Gi)}function Yn(ei,Gi,Ni){var fi=Dn(t,ve,null,ei),ni=Gi=="ltr"==(Ni=="after")?"left":"right",jn=Ni=="after"?fi.begin:fi.end-(/\s/.test(ve.text.charAt(fi.end-1))?2:1);return Pn(jn,ni)[ni]}var ti=Me(ve,h.direction);return Li(ti,re||0,be??Fe,function(ei,Gi,Ni,fi){var ni=Ni=="ltr",jn=Pn(ei,ni?"left":"right"),Ji=Pn(Gi-1,ni?"right":"left"),ts=re==null&&ei==0,qo=be==null&&Gi==Fe,Yi=fi==0,ao=!ti||fi==ti.length-1;if(Ji.top-jn.top<=3){var Ti=(L?ts:qo)&&Yi,Nu=(L?qo:ts)&&ao,so=Ti?T:(ni?jn:Ji).left,Ko=Nu?D:(ni?Ji:jn).right;G(so,jn.top,Ko-so,jn.bottom)}else{var Uo,qi,es,$u;ni?(Uo=L&&ts&&Yi?T:jn.left,qi=L?D:Yn(ei,Ni,"before"),es=L?T:Yn(Gi,Ni,"after"),$u=L&&qo&&ao?D:Ji.right):(Uo=L?Yn(ei,Ni,"before"):T,qi=!L&&ts&&Yi?D:jn.right,es=!L&&qo&&ao?T:Ji.left,$u=L?Yn(Gi,Ni,"after"):D),G(Uo,jn.top,qi-Uo,jn.bottom),jn.bottom<Ji.top&&G(T,jn.bottom,null,Ji.top),G(es,Ji.top,$u-es,Ji.bottom)}(!Sn||ra(jn,Sn)<0)&&(Sn=jn),ra(Ji,Sn)<0&&(Sn=Ji),(!Kn||ra(jn,Kn)<0)&&(Kn=jn),ra(Ji,Kn)<0&&(Kn=Ji)}),{start:Sn,end:Kn}}var lt=n.from(),ot=n.to();if(lt.line==ot.line)Z(lt.line,lt.ch,ot.ch);else{var St=de(h,lt.line),Nt=de(h,ot.line),Gt=Cn(St)==Cn(Nt),Jt=Z(lt.line,lt.ch,Gt?St.text.length+1:null).end,ee=Z(ot.line,Gt?0:null,ot.ch).start;Gt&&(Jt.top<ee.top-2?(G(Jt.right,Jt.top,null,Jt.bottom),G(T,ee.top,ee.left,ee.bottom)):G(Jt.right,Jt.top,ee.left-Jt.right,Jt.bottom)),Jt.bottom<ee.top&&G(T,Jt.bottom,null,ee.top)}l.appendChild(y)}function oa(t){if(t.state.focused){var n=t.display;clearInterval(n.blinker);var l=!0;n.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?n.blinker=setInterval(function(){t.hasFocus()||Pa(t),n.cursorDiv.style.visibility=(l=!l)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(n.cursorDiv.style.visibility="hidden")}}function $o(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||au(t))}function Ra(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&Pa(t))},100)}function au(t,n){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),t.options.readOnly!="nocursor"&&(t.state.focused||(dn(t,"focus",t,n),t.state.focused=!0,oe(t.display.wrapper,"CodeMirror-focused"),!t.curOp&&t.display.selForContextMenu!=t.doc.sel&&(t.display.input.reset(),x&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),oa(t))}function Pa(t,n){t.state.delayingBlurEvent||(t.state.focused&&(dn(t,"blur",t,n),t.state.focused=!1,It(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function cl(t){for(var n=t.display,l=n.lineDiv.offsetTop,s=Math.max(0,n.scroller.getBoundingClientRect().top),h=n.lineDiv.getBoundingClientRect().top,y=0,k=0;k<n.view.length;k++){var T=n.view[k],D=t.options.lineWrapping,L=void 0,G=0;if(!T.hidden){if(h+=T.line.height,b&&C<8){var Z=T.node.offsetTop+T.node.offsetHeight;L=Z-l,l=Z}else{var lt=T.node.getBoundingClientRect();L=lt.bottom-lt.top,!D&&T.text.firstChild&&(G=T.text.firstChild.getBoundingClientRect().right-lt.left-1)}var ot=T.line.height-L;if((ot>.005||ot<-.005)&&(h<s&&(y-=ot),Hi(T.line,L),ys(T.line),T.rest))for(var St=0;St<T.rest.length;St++)ys(T.rest[St]);if(G>t.display.sizerWidth){var Nt=Math.ceil(G/bo(t.display));Nt>t.display.maxLineLength&&(t.display.maxLineLength=Nt,t.display.maxLine=T.line,t.display.maxLineChanged=!0)}}}Math.abs(y)>2&&(n.scroller.scrollTop+=y)}function ys(t){if(t.widgets)for(var n=0;n<t.widgets.length;++n){var l=t.widgets[n],s=l.node.parentNode;s&&(l.height=s.offsetHeight)}}function aa(t,n,l){var s=l&&l.top!=null?Math.max(0,l.top):t.scroller.scrollTop;s=Math.floor(s-ms(t));var h=l&&l.bottom!=null?l.bottom:s+t.wrapper.clientHeight,y=V(n,s),k=V(n,h);if(l&&l.ensure){var T=l.ensure.from.line,D=l.ensure.to.line;T<y?(y=T,k=V(n,Zr(de(n,T))+t.wrapper.clientHeight)):Math.min(D,n.lastLine())>=k&&(y=V(n,Zr(de(n,D))-t.wrapper.clientHeight),k=D)}return{from:y,to:Math.max(k,y+1)}}function su(t,n){if(!ze(t,"scrollCursorIntoView")){var l=t.display,s=l.sizer.getBoundingClientRect(),h=null,y=l.wrapper.ownerDocument;if(n.top+s.top<0?h=!0:n.bottom+s.top>(y.defaultView.innerHeight||y.documentElement.clientHeight)&&(h=!1),h!=null&&!Y){var k=M("div","",null,`position: absolute;
                         top: `+(n.top-l.viewOffset-ms(t.display))+`px;
                         height: `+(n.bottom-n.top+Qr(t)+l.barHeight)+`px;
                         left: `+n.left+"px; width: "+Math.max(2,n.right-n.left)+"px;");t.display.lineSpace.appendChild(k),k.scrollIntoView(h),t.display.lineSpace.removeChild(k)}}}function ah(t,n,l,s){s==null&&(s=0);var h;!t.options.lineWrapping&&n==l&&(l=n.sticky=="before"?bt(n.line,n.ch+1,"before"):n,n=n.ch?bt(n.line,n.sticky=="before"?n.ch-1:n.ch,"after"):n);for(var y=0;y<5;y++){var k=!1,T=wt(t,n),D=!l||l==n?T:wt(t,l);h={left:Math.min(T.left,D.left),top:Math.min(T.top,D.top)-s,right:Math.max(T.left,D.left),bottom:Math.max(T.bottom,D.bottom)+s};var L=lu(t,h),G=t.doc.scrollTop,Z=t.doc.scrollLeft;if(L.scrollTop!=null&&(ws(t,L.scrollTop),Math.abs(t.doc.scrollTop-G)>1&&(k=!0)),L.scrollLeft!=null&&(Nr(t,L.scrollLeft),Math.abs(t.doc.scrollLeft-Z)>1&&(k=!0)),!k)break}return h}function yc(t,n){var l=lu(t,n);l.scrollTop!=null&&ws(t,l.scrollTop),l.scrollLeft!=null&&Nr(t,l.scrollLeft)}function lu(t,n){var l=t.display,s=Mr(t.display);n.top<0&&(n.top=0);var h=t.curOp&&t.curOp.scrollTop!=null?t.curOp.scrollTop:l.scroller.scrollTop,y=eu(t),k={};n.bottom-n.top>y&&(n.bottom=n.top+y);var T=t.doc.height+tu(l),D=n.top<s,L=n.bottom>T-s;if(n.top<h)k.scrollTop=D?0:n.top;else if(n.bottom>h+y){var G=Math.min(n.top,(L?T:n.bottom)-y);G!=h&&(k.scrollTop=G)}var Z=t.options.fixedGutter?0:l.gutters.offsetWidth,lt=t.curOp&&t.curOp.scrollLeft!=null?t.curOp.scrollLeft:l.scroller.scrollLeft-Z,ot=ea(t)-l.gutters.offsetWidth,St=n.right-n.left>ot;return St&&(n.right=n.left+ot),n.left<10?k.scrollLeft=0:n.left<lt?k.scrollLeft=Math.max(0,n.left+Z-(St?0:10)):n.right>ot+lt-3&&(k.scrollLeft=n.right+(St?0:10)-ot),k}function uu(t,n){n!=null&&(fl(t),t.curOp.scrollTop=(t.curOp.scrollTop==null?t.doc.scrollTop:t.curOp.scrollTop)+n)}function zn(t){fl(t);var n=t.getCursor();t.curOp.scrollToPos={from:n,to:n,margin:t.options.cursorScrollMargin}}function ci(t,n,l){(n!=null||l!=null)&&fl(t),n!=null&&(t.curOp.scrollLeft=n),l!=null&&(t.curOp.scrollTop=l)}function sh(t,n){fl(t),t.curOp.scrollToPos=n}function fl(t){var n=t.curOp.scrollToPos;if(n){t.curOp.scrollToPos=null;var l=pe(t,n.from),s=pe(t,n.to);cu(t,l,s,n.margin)}}function cu(t,n,l,s){var h=lu(t,{left:Math.min(n.left,l.left),top:Math.min(n.top,l.top)-s,right:Math.max(n.right,l.right),bottom:Math.max(n.bottom,l.bottom)+s});ci(t,h.scrollLeft,h.scrollTop)}function ws(t,n){Math.abs(t.doc.scrollTop-n)<2||(d||$r(t,{top:n}),hl(t,n,!0),d&&$r(t),ks(t,100))}function hl(t,n,l){n=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,n)),!(t.display.scroller.scrollTop==n&&!l)&&(t.doc.scrollTop=n,t.display.scrollbars.setScrollTop(n),t.display.scroller.scrollTop!=n&&(t.display.scroller.scrollTop=n))}function Nr(t,n,l,s){n=Math.max(0,Math.min(n,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),!((l?n==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-n)<2)&&!s)&&(t.doc.scrollLeft=n,kc(t),t.display.scroller.scrollLeft!=n&&(t.display.scroller.scrollLeft=n),t.display.scrollbars.setScrollLeft(n))}function sa(t){var n=t.display,l=n.gutters.offsetWidth,s=Math.round(t.doc.height+tu(t.display));return{clientHeight:n.scroller.clientHeight,viewHeight:n.wrapper.clientHeight,scrollWidth:n.scroller.scrollWidth,clientWidth:n.scroller.clientWidth,viewWidth:n.wrapper.clientWidth,barLeft:t.options.fixedGutter?l:0,docHeight:s,scrollHeight:s+Qr(t)+n.barHeight,nativeBarWidth:n.nativeBarWidth,gutterWidth:l}}var xr=function(t,n,l){this.cm=l;var s=this.vert=M("div",[M("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),h=this.horiz=M("div",[M("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");s.tabIndex=h.tabIndex=-1,t(s),t(h),ge(s,"scroll",function(){s.clientHeight&&n(s.scrollTop,"vertical")}),ge(h,"scroll",function(){h.clientWidth&&n(h.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,b&&C<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};xr.prototype.update=function(t){var n=t.scrollWidth>t.clientWidth+1,l=t.scrollHeight>t.clientHeight+1,s=t.nativeBarWidth;if(l){this.vert.style.display="block",this.vert.style.bottom=n?s+"px":"0";var h=t.viewHeight-(n?s:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+h)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(n){this.horiz.style.display="block",this.horiz.style.right=l?s+"px":"0",this.horiz.style.left=t.barLeft+"px";var y=t.viewWidth-t.barLeft-(l?s:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+y)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(s==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:l?s:0,bottom:n?s:0}},xr.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},xr.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},xr.prototype.zeroWidthHack=function(){var t=U&&!N?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Ht,this.disableVert=new Ht},xr.prototype.enableZeroWidthBar=function(t,n,l){t.style.visibility="";function s(){var h=t.getBoundingClientRect(),y=l=="vert"?document.elementFromPoint(h.right-1,(h.top+h.bottom)/2):document.elementFromPoint((h.right+h.left)/2,h.bottom-1);y!=t?t.style.visibility="hidden":n.set(1e3,s)}n.set(1e3,s)},xr.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var yo=function(){};yo.prototype.update=function(){return{bottom:0,right:0}},yo.prototype.setScrollLeft=function(){},yo.prototype.setScrollTop=function(){},yo.prototype.clear=function(){};function eo(t,n){n||(n=sa(t));var l=t.display.barWidth,s=t.display.barHeight;xs(t,n);for(var h=0;h<4&&l!=t.display.barWidth||s!=t.display.barHeight;h++)l!=t.display.barWidth&&t.options.lineWrapping&&cl(t),xs(t,sa(t)),l=t.display.barWidth,s=t.display.barHeight}function xs(t,n){var l=t.display,s=l.scrollbars.update(n);l.sizer.style.paddingRight=(l.barWidth=s.right)+"px",l.sizer.style.paddingBottom=(l.barHeight=s.bottom)+"px",l.heightForcer.style.borderBottom=s.bottom+"px solid transparent",s.right&&s.bottom?(l.scrollbarFiller.style.display="block",l.scrollbarFiller.style.height=s.bottom+"px",l.scrollbarFiller.style.width=s.right+"px"):l.scrollbarFiller.style.display="",s.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(l.gutterFiller.style.display="block",l.gutterFiller.style.height=s.bottom+"px",l.gutterFiller.style.width=n.gutterWidth+"px"):l.gutterFiller.style.display=""}var la={native:xr,null:yo};function wc(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&It(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new la[t.options.scrollbarStyle](function(n){t.display.wrapper.insertBefore(n,t.display.scrollbarFiller),ge(n,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),n.setAttribute("cm-not-content","true")},function(n,l){l=="horizontal"?Nr(t,n):ws(t,n)},t),t.display.scrollbars.addClass&&oe(t.display.wrapper,t.display.scrollbars.addClass)}var lh=0;function ua(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++lh,markArrays:null},Qf(t.curOp)}function ca(t){var n=t.curOp;n&&lc(n,function(l){for(var s=0;s<l.ops.length;s++)l.ops[s].cm.curOp=null;uh(l)})}function uh(t){for(var n=t.ops,l=0;l<n.length;l++)dl(n[l]);for(var s=0;s<n.length;s++)Cs(n[s]);for(var h=0;h<n.length;h++)xc(n[h]);for(var y=0;y<n.length;y++)B(n[y]);for(var k=0;k<n.length;k++)Na(n[k])}function dl(t){var n=t.cm,l=n.display;fh(n),t.updateMaxLine&&tl(n),t.mustUpdate=t.viewChanged||t.forceUpdate||t.scrollTop!=null||t.scrollToPos&&(t.scrollToPos.from.line<l.viewFrom||t.scrollToPos.to.line>=l.viewTo)||l.maxLineChanged&&n.options.lineWrapping,t.update=t.mustUpdate&&new no(n,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Cs(t){t.updatedDisplay=t.mustUpdate&&fu(t.cm,t.update)}function xc(t){var n=t.cm,l=n.display;t.updatedDisplay&&cl(n),t.barMeasure=sa(n),l.maxLineChanged&&!n.options.lineWrapping&&(t.adjustWidthTo=rl(n,l.maxLine,l.maxLine.text.length).left+3,n.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(l.scroller.clientWidth,l.sizer.offsetLeft+t.adjustWidthTo+Qr(n)+n.display.barWidth),t.maxScrollLeft=Math.max(0,l.sizer.offsetLeft+t.adjustWidthTo-ea(n))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=l.input.prepareSelection())}function B(t){var n=t.cm;t.adjustWidthTo!=null&&(n.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<n.doc.scrollLeft&&Nr(n,Math.min(n.display.scroller.scrollLeft,t.maxScrollLeft),!0),n.display.maxLineChanged=!1);var l=t.focus&&t.focus==ie(Ut(n));t.preparedSelection&&n.display.input.showSelection(t.preparedSelection,l),(t.updatedDisplay||t.startHeight!=n.doc.height)&&eo(n,t.barMeasure),t.updatedDisplay&&du(n,t.barMeasure),t.selectionChanged&&oa(n),n.state.focused&&t.updateInput&&n.display.input.reset(t.typing),l&&$o(t.cm)}function Na(t){var n=t.cm,l=n.display,s=n.doc;if(t.updatedDisplay&&Cc(n,t.update),l.wheelStartX!=null&&(t.scrollTop!=null||t.scrollLeft!=null||t.scrollToPos)&&(l.wheelStartX=l.wheelStartY=null),t.scrollTop!=null&&hl(n,t.scrollTop,t.forceScroll),t.scrollLeft!=null&&Nr(n,t.scrollLeft,!0,!0),t.scrollToPos){var h=ah(n,De(s,t.scrollToPos.from),De(s,t.scrollToPos.to),t.scrollToPos.margin);su(n,h)}var y=t.maybeHiddenMarkers,k=t.maybeUnhiddenMarkers;if(y)for(var T=0;T<y.length;++T)y[T].lines.length||dn(y[T],"hide");if(k)for(var D=0;D<k.length;++D)k[D].lines.length&&dn(k[D],"unhide");l.wrapper.offsetHeight&&(s.scrollTop=n.display.scroller.scrollTop),t.changeObjs&&dn(n,"changes",n,t.changeObjs),t.update&&t.update.finish()}function Bi(t,n){if(t.curOp)return n();ua(t);try{return n()}finally{ca(t)}}function kn(t,n){return function(){if(t.curOp)return n.apply(t,arguments);ua(t);try{return n.apply(t,arguments)}finally{ca(t)}}}function Le(t){return function(){if(this.curOp)return t.apply(this,arguments);ua(this);try{return t.apply(this,arguments)}finally{ca(this)}}}function ki(t){return function(){var n=this.cm;if(!n||n.curOp)return t.apply(this,arguments);ua(n);try{return t.apply(this,arguments)}finally{ca(n)}}}function ks(t,n){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(n,et(ch,t))}function ch(t){var n=t.doc;if(!(n.highlightFrontier>=t.display.viewTo)){var l=+new Date+t.options.workTime,s=q(t,n.highlightFrontier),h=[];n.iter(s.line,Math.min(n.first+n.size,t.display.viewTo+500),function(y){if(s.line>=t.display.viewFrom){var k=y.styles,T=y.text.length>t.options.maxHighlightLength?li(n.mode,s.state):null,D=z(t,y,s,!0);T&&(s.state=T),y.styles=D.styles;var L=y.styleClasses,G=D.classes;G?y.styleClasses=G:L&&(y.styleClasses=null);for(var Z=!k||k.length!=y.styles.length||L!=G&&(!L||!G||L.bgClass!=G.bgClass||L.textClass!=G.textClass),lt=0;!Z&&lt<k.length;++lt)Z=k[lt]!=y.styles[lt];Z&&h.push(s.line),y.stateAfter=s.save(),s.nextLine()}else y.text.length<=t.options.maxHighlightLength&&at(t,y.text,s),y.stateAfter=s.line%5==0?s.save():null,s.nextLine();if(+new Date>l)return ks(t,t.options.workDelay),!0}),n.highlightFrontier=s.line,n.modeFrontier=Math.max(n.modeFrontier,s.line),h.length&&Bi(t,function(){for(var y=0;y<h.length;y++)Po(t,h[y],"text")})}}var no=function(t,n,l){var s=t.display;this.viewport=n,this.visible=aa(s,t.doc,n),this.editorIsHidden=!s.wrapper.offsetWidth,this.wrapperHeight=s.wrapper.clientHeight,this.wrapperWidth=s.wrapper.clientWidth,this.oldDisplayWidth=ea(t),this.force=l,this.dims=Ma(t),this.events=[]};no.prototype.signal=function(t,n){$t(t,n)&&this.events.push(arguments)},no.prototype.finish=function(){for(var t=0;t<this.events.length;t++)dn.apply(null,this.events[t])};function fh(t){var n=t.display;!n.scrollbarsClipped&&n.scroller.offsetWidth&&(n.nativeBarWidth=n.scroller.offsetWidth-n.scroller.clientWidth,n.heightForcer.style.height=Qr(t)+"px",n.sizer.style.marginBottom=-n.nativeBarWidth+"px",n.sizer.style.borderRightWidth=Qr(t)+"px",n.scrollbarsClipped=!0)}function hh(t){if(t.hasFocus())return null;var n=ie(Ut(t));if(!n||!Kt(t.display.lineDiv,n))return null;var l={activeElt:n};if(window.getSelection){var s=j(t).getSelection();s.anchorNode&&s.extend&&Kt(t.display.lineDiv,s.anchorNode)&&(l.anchorNode=s.anchorNode,l.anchorOffset=s.anchorOffset,l.focusNode=s.focusNode,l.focusOffset=s.focusOffset)}return l}function dh(t){if(!(!t||!t.activeElt||t.activeElt==ie(Qt(t.activeElt)))&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(t.activeElt.nodeName)&&t.anchorNode&&Kt(document.body,t.anchorNode)&&Kt(document.body,t.focusNode))){var n=t.activeElt.ownerDocument,l=n.defaultView.getSelection(),s=n.createRange();s.setEnd(t.anchorNode,t.anchorOffset),s.collapse(!1),l.removeAllRanges(),l.addRange(s),l.extend(t.focusNode,t.focusOffset)}}function fu(t,n){var l=t.display,s=t.doc;if(n.editorIsHidden)return Rr(t),!1;if(!n.force&&n.visible.from>=l.viewFrom&&n.visible.to<=l.viewTo&&(l.updateLineNumbers==null||l.updateLineNumbers>=l.viewTo)&&l.renderedView==l.view&&ru(t)==0)return!1;Ec(t)&&(Rr(t),n.dims=Ma(t));var h=s.first+s.size,y=Math.max(n.visible.from-t.options.viewportMargin,s.first),k=Math.min(h,n.visible.to+t.options.viewportMargin);l.viewFrom<y&&y-l.viewFrom<20&&(y=Math.max(s.first,l.viewFrom)),l.viewTo>k&&l.viewTo-k<20&&(k=Math.min(h,l.viewTo)),_n&&(y=Zs(t.doc,y),k=Js(t.doc,k));var T=y!=l.viewFrom||k!=l.viewTo||l.lastWrapHeight!=n.wrapperHeight||l.lastWrapWidth!=n.wrapperWidth;ll(t,y,k),l.viewOffset=Zr(de(t.doc,l.viewFrom)),t.display.mover.style.top=l.viewOffset+"px";var D=ru(t);if(!T&&D==0&&!n.force&&l.renderedView==l.view&&(l.updateLineNumbers==null||l.updateLineNumbers>=l.viewTo))return!1;var L=hh(t);return D>4&&(l.lineDiv.style.display="none"),ph(t,l.updateLineNumbers,n.dims),D>4&&(l.lineDiv.style.display=""),l.renderedView=l.view,dh(L),it(l.cursorDiv),it(l.selectionDiv),l.gutters.style.height=l.sizer.style.minHeight=0,T&&(l.lastWrapHeight=n.wrapperHeight,l.lastWrapWidth=n.wrapperWidth,ks(t,400)),l.updateLineNumbers=null,!0}function Cc(t,n){for(var l=n.viewport,s=!0;;s=!1){if(!s||!t.options.lineWrapping||n.oldDisplayWidth==ea(t)){if(l&&l.top!=null&&(l={top:Math.min(t.doc.height+tu(t.display)-eu(t),l.top)}),n.visible=aa(t.display,t.doc,l),n.visible.from>=t.display.viewFrom&&n.visible.to<=t.display.viewTo)break}else s&&(n.visible=aa(t.display,t.doc,l));if(!fu(t,n))break;cl(t);var h=sa(t);No(t),eo(t,h),du(t,h),n.force=!1}n.signal(t,"update",t),(t.display.viewFrom!=t.display.reportedViewFrom||t.display.viewTo!=t.display.reportedViewTo)&&(n.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function $r(t,n){var l=new no(t,n);if(fu(t,l)){cl(t),Cc(t,l);var s=sa(t);No(t),eo(t,s),du(t,s),l.finish()}}function ph(t,n,l){var s=t.display,h=t.options.lineNumbers,y=s.lineDiv,k=y.firstChild;function T(St){var Nt=St.nextSibling;return x&&U&&t.display.currentWheelTarget==St?St.style.display="none":St.parentNode.removeChild(St),Nt}for(var D=s.view,L=s.viewFrom,G=0;G<D.length;G++){var Z=D[G];if(!Z.hidden)if(!Z.node||Z.node.parentNode!=y){var lt=nh(t,Z,L,l);y.insertBefore(lt,k)}else{for(;k!=Z.node;)k=T(k);var ot=h&&n!=null&&n<=L&&Z.lineNumber;Z.changes&&(zt(Z.changes,"gutter")>-1&&(ot=!1),Kl(t,Z,L,l)),ot&&(it(Z.lineNumber),Z.lineNumber.appendChild(document.createTextNode(jt(t.options,L)))),k=Z.node.nextSibling}L+=Z.size}for(;k;)k=T(k)}function hu(t){var n=t.gutters.offsetWidth;t.sizer.style.marginLeft=n+"px",In(t,"gutterChanged",t)}function du(t,n){t.display.sizer.style.minHeight=n.docHeight+"px",t.display.heightForcer.style.top=n.docHeight+"px",t.display.gutters.style.height=n.docHeight+t.display.barHeight+Qr(t)+"px"}function kc(t){var n=t.display,l=n.view;if(!(!n.alignWidgets&&(!n.gutters.firstChild||!t.options.fixedGutter))){for(var s=xn(n)-n.scroller.scrollLeft+t.doc.scrollLeft,h=n.gutters.offsetWidth,y=s+"px",k=0;k<l.length;k++)if(!l[k].hidden){t.options.fixedGutter&&(l[k].gutter&&(l[k].gutter.style.left=y),l[k].gutterBackground&&(l[k].gutterBackground.style.left=y));var T=l[k].alignable;if(T)for(var D=0;D<T.length;D++)T[D].style.left=y}t.options.fixedGutter&&(n.gutters.style.left=s+h+"px")}}function Ec(t){if(!t.options.lineNumbers)return!1;var n=t.doc,l=jt(t.options,n.first+n.size-1),s=t.display;if(l.length!=s.lineNumChars){var h=s.measure.appendChild(M("div",[M("div",l)],"CodeMirror-linenumber CodeMirror-gutter-elt")),y=h.firstChild.offsetWidth,k=h.offsetWidth-y;return s.lineGutter.style.width="",s.lineNumInnerWidth=Math.max(y,s.lineGutter.offsetWidth-k)+1,s.lineNumWidth=s.lineNumInnerWidth+k,s.lineNumChars=s.lineNumInnerWidth?l.length:-1,s.lineGutter.style.width=s.lineNumWidth+"px",hu(t.display),!0}return!1}function Ir(t,n){for(var l=[],s=!1,h=0;h<t.length;h++){var y=t[h],k=null;if(typeof y!="string"&&(k=y.style,y=y.className),y=="CodeMirror-linenumbers")if(n)s=!0;else continue;l.push({className:y,style:k})}return n&&!s&&l.push({className:"CodeMirror-linenumbers",style:null}),l}function _c(t){var n=t.gutters,l=t.gutterSpecs;it(n),t.lineGutter=null;for(var s=0;s<l.length;++s){var h=l[s],y=h.className,k=h.style,T=n.appendChild(M("div",null,"CodeMirror-gutter "+y));k&&(T.style.cssText=k),y=="CodeMirror-linenumbers"&&(t.lineGutter=T,T.style.width=(t.lineNumWidth||1)+"px")}n.style.display=l.length?"":"none",hu(t)}function Es(t){_c(t.display),Zi(t),kc(t)}function gh(t,n,l,s){var h=this;this.input=l,h.scrollbarFiller=M("div",null,"CodeMirror-scrollbar-filler"),h.scrollbarFiller.setAttribute("cm-not-content","true"),h.gutterFiller=M("div",null,"CodeMirror-gutter-filler"),h.gutterFiller.setAttribute("cm-not-content","true"),h.lineDiv=xt("div",null,"CodeMirror-code"),h.selectionDiv=M("div",null,null,"position: relative; z-index: 1"),h.cursorDiv=M("div",null,"CodeMirror-cursors"),h.measure=M("div",null,"CodeMirror-measure"),h.lineMeasure=M("div",null,"CodeMirror-measure"),h.lineSpace=xt("div",[h.measure,h.lineMeasure,h.selectionDiv,h.cursorDiv,h.lineDiv],null,"position: relative; outline: none");var y=xt("div",[h.lineSpace],"CodeMirror-lines");h.mover=M("div",[y],null,"position: relative"),h.sizer=M("div",[h.mover],"CodeMirror-sizer"),h.sizerWidth=null,h.heightForcer=M("div",null,null,"position: absolute; height: "+ce+"px; width: 1px;"),h.gutters=M("div",null,"CodeMirror-gutters"),h.lineGutter=null,h.scroller=M("div",[h.sizer,h.heightForcer,h.gutters],"CodeMirror-scroll"),h.scroller.setAttribute("tabIndex","-1"),h.wrapper=M("div",[h.scrollbarFiller,h.gutterFiller,h.scroller],"CodeMirror"),O&&F===105&&(h.wrapper.style.clipPath="inset(0px)"),h.wrapper.setAttribute("translate","no"),b&&C<8&&(h.gutters.style.zIndex=-1,h.scroller.style.paddingRight=0),!x&&!(d&&J)&&(h.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(h.wrapper):t(h.wrapper)),h.viewFrom=h.viewTo=n.first,h.reportedViewFrom=h.reportedViewTo=n.first,h.view=[],h.renderedView=null,h.externalMeasured=null,h.viewOffset=0,h.lastWrapHeight=h.lastWrapWidth=0,h.updateLineNumbers=null,h.nativeBarWidth=h.barHeight=h.barWidth=0,h.scrollbarsClipped=!1,h.lineNumWidth=h.lineNumInnerWidth=h.lineNumChars=null,h.alignWidgets=!1,h.cachedCharWidth=h.cachedTextHeight=h.cachedPaddingH=null,h.maxLine=null,h.maxLineLength=0,h.maxLineChanged=!1,h.wheelDX=h.wheelDY=h.wheelStartX=h.wheelStartY=null,h.shift=!1,h.selForContextMenu=null,h.activeTouch=null,h.gutterSpecs=Ir(s.gutters,s.lineNumbers),_c(h),l.init(h)}var pl=0,wo=null;b?wo=-.53:d?wo=15:O?wo=-.7:I&&(wo=-1/3);function Io(t){var n=t.wheelDeltaX,l=t.wheelDeltaY;return n==null&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(n=t.detail),l==null&&t.detail&&t.axis==t.VERTICAL_AXIS?l=t.detail:l==null&&(l=t.wheelDelta),{x:n,y:l}}function mh(t){var n=Io(t);return n.x*=wo,n.y*=wo,n}function Sc(t,n){O&&F==102&&(t.display.chromeScrollHack==null?t.display.sizer.style.pointerEvents="none":clearTimeout(t.display.chromeScrollHack),t.display.chromeScrollHack=setTimeout(function(){t.display.chromeScrollHack=null,t.display.sizer.style.pointerEvents=""},100));var l=Io(n),s=l.x,h=l.y,y=wo;n.deltaMode===0&&(s=n.deltaX,h=n.deltaY,y=1);var k=t.display,T=k.scroller,D=T.scrollWidth>T.clientWidth,L=T.scrollHeight>T.clientHeight;if(s&&D||h&&L){if(h&&U&&x){t:for(var G=n.target,Z=k.view;G!=T;G=G.parentNode)for(var lt=0;lt<Z.length;lt++)if(Z[lt].node==G){t.display.currentWheelTarget=G;break t}}if(s&&!d&&!A&&y!=null){h&&L&&ws(t,Math.max(0,T.scrollTop+h*y)),Nr(t,Math.max(0,T.scrollLeft+s*y)),(!h||h&&L)&&Yt(n),k.wheelStartX=null;return}if(h&&y!=null){var ot=h*y,St=t.doc.scrollTop,Nt=St+k.wrapper.clientHeight;ot<0?St=Math.max(0,St+ot-50):Nt=Math.min(t.doc.height,Nt+ot+50),$r(t,{top:St,bottom:Nt})}pl<20&&n.deltaMode!==0&&(k.wheelStartX==null?(k.wheelStartX=T.scrollLeft,k.wheelStartY=T.scrollTop,k.wheelDX=s,k.wheelDY=h,setTimeout(function(){if(k.wheelStartX!=null){var Gt=T.scrollLeft-k.wheelStartX,Jt=T.scrollTop-k.wheelStartY,ee=Jt&&k.wheelDY&&Jt/k.wheelDY||Gt&&k.wheelDX&&Gt/k.wheelDX;k.wheelStartX=k.wheelStartY=null,ee&&(wo=(wo*pl+ee)/(pl+1),++pl)}},200)):(k.wheelDX+=s,k.wheelDY+=h))}}var Bn=function(t,n){this.ranges=t,this.primIndex=n};Bn.prototype.primary=function(){return this.ranges[this.primIndex]},Bn.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var l=this.ranges[n],s=t.ranges[n];if(!Ge(l.anchor,s.anchor)||!Ge(l.head,s.head))return!1}return!0},Bn.prototype.deepCopy=function(){for(var t=[],n=0;n<this.ranges.length;n++)t[n]=new yn(Rn(this.ranges[n].anchor),Rn(this.ranges[n].head));return new Bn(t,this.primIndex)},Bn.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},Bn.prototype.contains=function(t,n){n||(n=t);for(var l=0;l<this.ranges.length;l++){var s=this.ranges[l];if(Zt(n,s.from())>=0&&Zt(t,s.to())<=0)return l}return-1};var yn=function(t,n){this.anchor=t,this.head=n};yn.prototype.from=function(){return Zn(this.anchor,this.head)},yn.prototype.to=function(){return Vn(this.anchor,this.head)},yn.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function zr(t,n,l){var s=t&&t.options.selectionsMayTouch,h=n[l];n.sort(function(lt,ot){return Zt(lt.from(),ot.from())}),l=zt(n,h);for(var y=1;y<n.length;y++){var k=n[y],T=n[y-1],D=Zt(T.to(),k.from());if(s&&!k.empty()?D>0:D>=0){var L=Zn(T.from(),k.from()),G=Vn(T.to(),k.to()),Z=T.empty()?k.from()==k.head:T.from()==T.head;y<=l&&--l,n.splice(--y,2,new yn(Z?G:L,Z?L:G))}}return new Bn(n,l)}function zo(t,n){return new Bn([new yn(t,n||t)],0)}function Wo(t){return t.text?bt(t.from.line+t.text.length-1,le(t.text).length+(t.text.length==1?t.from.ch:0)):t.to}function Tc(t,n){if(Zt(t,n.from)<0)return t;if(Zt(t,n.to)<=0)return Wo(n);var l=t.line+n.text.length-(n.to.line-n.from.line)-1,s=t.ch;return t.line==n.to.line&&(s+=Wo(n).ch-n.to.ch),bt(l,s)}function gl(t,n){for(var l=[],s=0;s<t.sel.ranges.length;s++){var h=t.sel.ranges[s];l.push(new yn(Tc(h.anchor,n),Tc(h.head,n)))}return zr(t.cm,l,t.sel.primIndex)}function pu(t,n,l){return t.line==n.line?bt(l.line,t.ch-n.ch+l.ch):bt(l.line+(t.line-n.line),t.ch)}function vh(t,n,l){for(var s=[],h=bt(t.first,0),y=h,k=0;k<n.length;k++){var T=n[k],D=pu(T.from,h,y),L=pu(Wo(T),h,y);if(h=T.to,y=L,l=="around"){var G=t.sel.ranges[k],Z=Zt(G.head,G.anchor)<0;s[k]=new yn(Z?L:D,Z?D:L)}else s[k]=new yn(D,D)}return new Bn(s,t.sel.primIndex)}function gu(t){t.doc.mode=sr(t.options,t.doc.modeOption),fa(t)}function fa(t){t.doc.iter(function(n){n.stateAfter&&(n.stateAfter=null),n.styles&&(n.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,ks(t,100),t.state.modeGen++,t.curOp&&Zi(t)}function $a(t,n){return n.from.ch==0&&n.to.ch==0&&le(n.text)==""&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Ia(t,n,l,s){function h(ee){return l?l[ee]:null}function y(ee,Vt,re){oc(ee,Vt,re,s),In(ee,"change",ee,n)}function k(ee,Vt){for(var re=[],be=ee;be<Vt;++be)re.push(new ta(L[be],h(be),s));return re}var T=n.from,D=n.to,L=n.text,G=de(t,T.line),Z=de(t,D.line),lt=le(L),ot=h(L.length-1),St=D.line-T.line;if(n.full)t.insert(0,k(0,L.length)),t.remove(L.length,t.size-L.length);else if($a(t,n)){var Nt=k(0,L.length-1);y(Z,Z.text,ot),St&&t.remove(T.line,St),Nt.length&&t.insert(T.line,Nt)}else if(G==Z)if(L.length==1)y(G,G.text.slice(0,T.ch)+lt+G.text.slice(D.ch),ot);else{var Gt=k(1,L.length-1);Gt.push(new ta(lt+G.text.slice(D.ch),ot,s)),y(G,G.text.slice(0,T.ch)+L[0],h(0)),t.insert(T.line+1,Gt)}else if(L.length==1)y(G,G.text.slice(0,T.ch)+L[0]+Z.text.slice(D.ch),h(0)),t.remove(T.line+1,St);else{y(G,G.text.slice(0,T.ch)+L[0],h(0)),y(Z,lt+Z.text.slice(D.ch),ot);var Jt=k(1,L.length-1);St>1&&t.remove(T.line+1,St-1),t.insert(T.line+1,Jt)}In(t,"change",t,n)}function Fo(t,n,l){function s(h,y,k){if(h.linked)for(var T=0;T<h.linked.length;++T){var D=h.linked[T];if(D.doc!=y){var L=k&&D.sharedHist;l&&!L||(n(D.doc,L),s(D.doc,h,L))}}}s(t,null,!0)}function mu(t,n){if(n.cm)throw new Error("This document is already in use.");t.doc=n,n.cm=t,sl(t),gu(t),Dc(t),t.options.direction=n.direction,t.options.lineWrapping||tl(t),t.options.mode=n.modeOption,Zi(t)}function Dc(t){(t.doc.direction=="rtl"?oe:It)(t.display.lineDiv,"CodeMirror-rtl")}function xo(t){Bi(t,function(){Dc(t),Zi(t)})}function za(t){this.done=[],this.undone=[],this.undoDepth=t?t.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t?t.maxGeneration:1}function Co(t,n){var l={from:Rn(n.from),to:Wo(n),text:Vi(t,n.from,n.to)};return bu(t,l,n.from.line,n.to.line+1),Fo(t,function(s){return bu(s,l,n.from.line,n.to.line+1)},!0),l}function hr(t){for(;t.length;){var n=le(t);if(n.ranges)t.pop();else break}}function bh(t,n){if(n)return hr(t.done),le(t.done);if(t.done.length&&!le(t.done).ranges)return le(t.done);if(t.done.length>1&&!t.done[t.done.length-2].ranges)return t.done.pop(),le(t.done)}function vu(t,n,l,s){var h=t.history;h.undone.length=0;var y=+new Date,k,T;if((h.lastOp==s||h.lastOrigin==n.origin&&n.origin&&(n.origin.charAt(0)=="+"&&h.lastModTime>y-(t.cm?t.cm.options.historyEventDelay:500)||n.origin.charAt(0)=="*"))&&(k=bh(h,h.lastOp==s)))T=le(k.changes),Zt(n.from,n.to)==0&&Zt(n.from,T.to)==0?T.to=Wo(n):k.changes.push(Co(t,n));else{var D=le(h.done);for((!D||!D.ranges)&&Wr(t.sel,h.done),k={changes:[Co(t,n)],generation:h.generation},h.done.push(k);h.done.length>h.undoDepth;)h.done.shift(),h.done[0].ranges||h.done.shift()}h.done.push(l),h.generation=++h.maxGeneration,h.lastModTime=h.lastSelTime=y,h.lastOp=h.lastSelOp=s,h.lastOrigin=h.lastSelOrigin=n.origin,T||dn(t,"historyAdded")}function Ac(t,n,l,s){var h=n.charAt(0);return h=="*"||h=="+"&&l.ranges.length==s.ranges.length&&l.somethingSelected()==s.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function _s(t,n,l,s){var h=t.history,y=s&&s.origin;l==h.lastSelOp||y&&h.lastSelOrigin==y&&(h.lastModTime==h.lastSelTime&&h.lastOrigin==y||Ac(t,y,le(h.done),n))?h.done[h.done.length-1]=n:Wr(n,h.done),h.lastSelTime=+new Date,h.lastSelOrigin=y,h.lastSelOp=l,s&&s.clearRedo!==!1&&hr(h.undone)}function Wr(t,n){var l=le(n);l&&l.ranges&&l.equals(t)||n.push(t)}function bu(t,n,l,s){var h=n["spans_"+t.id],y=0;t.iter(Math.max(t.first,l),Math.min(t.first+t.size,s),function(k){k.markedSpans&&((h||(h=n["spans_"+t.id]={}))[y]=k.markedSpans),++y})}function yh(t){if(!t)return null;for(var n,l=0;l<t.length;++l)t[l].marker.explicitlyCleared?n||(n=t.slice(0,l)):n&&n.push(t[l]);return n?n.length?n:null:t}function ml(t,n){var l=n["spans_"+t.id];if(!l)return null;for(var s=[],h=0;h<n.text.length;++h)s.push(yh(l[h]));return s}function Lc(t,n){var l=ml(t,n),s=lr(t,n);if(!l)return s;if(!s)return l;for(var h=0;h<l.length;++h){var y=l[h],k=s[h];if(y&&k)t:for(var T=0;T<k.length;++T){for(var D=k[T],L=0;L<y.length;++L)if(y[L].marker==D.marker)continue t;y.push(D)}else k&&(l[h]=k)}return l}function ha(t,n,l){for(var s=[],h=0;h<t.length;++h){var y=t[h];if(y.ranges){s.push(l?Bn.prototype.deepCopy.call(y):y);continue}var k=y.changes,T=[];s.push({changes:T});for(var D=0;D<k.length;++D){var L=k[D],G=void 0;if(T.push({from:L.from,to:L.to,text:L.text}),n)for(var Z in L)(G=Z.match(/^spans_(\d+)$/))&&zt(n,Number(G[1]))>-1&&(le(T)[Z]=L[Z],delete L[Z])}}return s}function Ei(t,n,l,s){if(s){var h=t.anchor;if(l){var y=Zt(n,h)<0;y!=Zt(l,h)<0?(h=n,n=l):y!=Zt(n,l)<0&&(n=l)}return new yn(h,n)}else return new yn(l||n,n)}function Wa(t,n,l,s,h){h==null&&(h=t.cm&&(t.cm.display.shift||t.extend)),Ri(t,new Bn([Ei(t.sel.primary(),n,l,h)],0),s)}function yu(t,n,l){for(var s=[],h=t.cm&&(t.cm.display.shift||t.extend),y=0;y<t.sel.ranges.length;y++)s[y]=Ei(t.sel.ranges[y],n[y],null,h);var k=zr(t.cm,s,t.sel.primIndex);Ri(t,k,l)}function Cr(t,n,l,s){var h=t.sel.ranges.slice(0);h[n]=l,Ri(t,zr(t.cm,h,t.sel.primIndex),s)}function vl(t,n,l,s){Ri(t,zo(n,l),s)}function bl(t,n,l){var s={ranges:n.ranges,update:function(h){this.ranges=[];for(var y=0;y<h.length;y++)this.ranges[y]=new yn(De(t,h[y].anchor),De(t,h[y].head))},origin:l&&l.origin};return dn(t,"beforeSelectionChange",t,s),t.cm&&dn(t.cm,"beforeSelectionChange",t.cm,s),s.ranges!=n.ranges?zr(t.cm,s.ranges,s.ranges.length-1):n}function Ho(t,n,l){var s=t.history.done,h=le(s);h&&h.ranges?(s[s.length-1]=n,Pi(t,n,l)):Ri(t,n,l)}function Ri(t,n,l){Pi(t,n,l),_s(t,t.sel,t.cm?t.cm.curOp.id:NaN,l)}function Pi(t,n,l){($t(t,"beforeSelectionChange")||t.cm&&$t(t.cm,"beforeSelectionChange"))&&(n=bl(t,n,l));var s=l&&l.bias||(Zt(n.primary().head,t.sel.primary().head)<0?-1:1);yl(t,Mc(t,n,s,!0)),!(l&&l.scroll===!1)&&t.cm&&t.cm.getOption("readOnly")!="nocursor"&&zn(t.cm)}function yl(t,n){n.equals(t.sel)||(t.sel=n,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,Be(t.cm)),In(t,"cursorActivity",t))}function Oc(t){yl(t,Mc(t,t.sel,null,!1))}function Mc(t,n,l,s){for(var h,y=0;y<n.ranges.length;y++){var k=n.ranges[y],T=n.ranges.length==t.sel.ranges.length&&t.sel.ranges[y],D=Ha(t,k.anchor,T&&T.anchor,l,s),L=k.head==k.anchor?D:Ha(t,k.head,T&&T.head,l,s);(h||D!=k.anchor||L!=k.head)&&(h||(h=n.ranges.slice(0,y)),h[y]=new yn(D,L))}return h?zr(t.cm,h,n.primIndex):n}function Fa(t,n,l,s,h){var y=de(t,n.line);if(y.markedSpans)for(var k=0;k<y.markedSpans.length;++k){var T=y.markedSpans[k],D=T.marker,L="selectLeft"in D?!D.selectLeft:D.inclusiveLeft,G="selectRight"in D?!D.selectRight:D.inclusiveRight;if((T.from==null||(L?T.from<=n.ch:T.from<n.ch))&&(T.to==null||(G?T.to>=n.ch:T.to>n.ch))){if(h&&(dn(D,"beforeCursorEnter"),D.explicitlyCleared))if(y.markedSpans){--k;continue}else break;if(!D.atomic)continue;if(l){var Z=D.find(s<0?1:-1),lt=void 0;if((s<0?G:L)&&(Z=Rc(t,Z,-s,Z&&Z.line==n.line?y:null)),Z&&Z.line==n.line&&(lt=Zt(Z,l))&&(s<0?lt<0:lt>0))return Fa(t,Z,n,s,h)}var ot=D.find(s<0?-1:1);return(s<0?L:G)&&(ot=Rc(t,ot,s,ot.line==n.line?y:null)),ot?Fa(t,ot,n,s,h):null}}return n}function Ha(t,n,l,s,h){var y=s||1,k=Fa(t,n,l,y,h)||!h&&Fa(t,n,l,y,!0)||Fa(t,n,l,-y,h)||!h&&Fa(t,n,l,-y,!0);return k||(t.cantEdit=!0,bt(t.first,0))}function Rc(t,n,l,s){return l<0&&n.ch==0?n.line>t.first?De(t,bt(n.line-1)):null:l>0&&n.ch==(s||de(t,n.line)).text.length?n.line<t.first+t.size-1?bt(n.line+1,0):null:new bt(n.line,n.ch+l)}function Ba(t){t.setSelection(bt(t.firstLine(),0),bt(t.lastLine()),me)}function wu(t,n,l){var s={canceled:!1,from:n.from,to:n.to,text:n.text,origin:n.origin,cancel:function(){return s.canceled=!0}};return l&&(s.update=function(h,y,k,T){h&&(s.from=De(t,h)),y&&(s.to=De(t,y)),k&&(s.text=k),T!==void 0&&(s.origin=T)}),dn(t,"beforeChange",t,s),t.cm&&dn(t.cm,"beforeChange",t.cm,s),s.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:s.from,to:s.to,text:s.text,origin:s.origin}}function Ya(t,n,l){if(t.cm){if(!t.cm.curOp)return kn(t.cm,Ya)(t,n,l);if(t.cm.state.suppressEdits)return}if(!(($t(t,"beforeChange")||t.cm&&$t(t.cm,"beforeChange"))&&(n=wu(t,n,!0),!n))){var s=pn&&!l&&ho(t,n.from,n.to);if(s)for(var h=s.length-1;h>=0;--h)Pc(t,{from:s[h].from,to:s[h].to,text:h?[""]:n.text,origin:n.origin});else Pc(t,n)}}function Pc(t,n){if(!(n.text.length==1&&n.text[0]==""&&Zt(n.from,n.to)==0)){var l=gl(t,n);vu(t,n,l,t.cm?t.cm.curOp.id:NaN),Ss(t,n,l,lr(t,n));var s=[];Fo(t,function(h,y){!y&&zt(s,h.history)==-1&&(zc(h.history,n),s.push(h.history)),Ss(h,n,null,lr(h,n))})}}function Bo(t,n,l){var s=t.cm&&t.cm.state.suppressEdits;if(!(s&&!l)){for(var h=t.history,y,k=t.sel,T=n=="undo"?h.done:h.undone,D=n=="undo"?h.undone:h.done,L=0;L<T.length&&(y=T[L],!(l?y.ranges&&!y.equals(t.sel):!y.ranges));L++);if(L!=T.length){for(h.lastOrigin=h.lastSelOrigin=null;;)if(y=T.pop(),y.ranges){if(Wr(y,D),l&&!y.equals(t.sel)){Ri(t,y,{clearRedo:!1});return}k=y}else if(s){T.push(y);return}else break;var G=[];Wr(k,D),D.push({changes:G,generation:h.generation}),h.generation=y.generation||++h.maxGeneration;for(var Z=$t(t,"beforeChange")||t.cm&&$t(t.cm,"beforeChange"),lt=function(Nt){var Gt=y.changes[Nt];if(Gt.origin=n,Z&&!wu(t,Gt,!1))return T.length=0,{};G.push(Co(t,Gt));var Jt=Nt?gl(t,Gt):le(T);Ss(t,Gt,Jt,Lc(t,Gt)),!Nt&&t.cm&&t.cm.scrollIntoView({from:Gt.from,to:Wo(Gt)});var ee=[];Fo(t,function(Vt,re){!re&&zt(ee,Vt.history)==-1&&(zc(Vt.history,Gt),ee.push(Vt.history)),Ss(Vt,Gt,null,Lc(Vt,Gt))})},ot=y.changes.length-1;ot>=0;--ot){var St=lt(ot);if(St)return St.v}}}}function Nc(t,n){if(n!=0&&(t.first+=n,t.sel=new Bn(Ee(t.sel.ranges,function(h){return new yn(bt(h.anchor.line+n,h.anchor.ch),bt(h.head.line+n,h.head.ch))}),t.sel.primIndex),t.cm)){Zi(t.cm,t.first,t.first-n,n);for(var l=t.cm.display,s=l.viewFrom;s<l.viewTo;s++)Po(t.cm,s,"gutter")}}function Ss(t,n,l,s){if(t.cm&&!t.cm.curOp)return kn(t.cm,Ss)(t,n,l,s);if(n.to.line<t.first){Nc(t,n.text.length-1-(n.to.line-n.from.line));return}if(!(n.from.line>t.lastLine())){if(n.from.line<t.first){var h=n.text.length-1-(t.first-n.from.line);Nc(t,h),n={from:bt(t.first,0),to:bt(n.to.line+h,n.to.ch),text:[le(n.text)],origin:n.origin}}var y=t.lastLine();n.to.line>y&&(n={from:n.from,to:bt(y,de(t,y).text.length),text:[n.text[0]],origin:n.origin}),n.removed=Vi(t,n.from,n.to),l||(l=gl(t,n)),t.cm?xu(t.cm,n,s):Ia(t,n,s),Pi(t,l,me),t.cantEdit&&Ha(t,bt(t.firstLine(),0))&&(t.cantEdit=!1)}}function xu(t,n,l){var s=t.doc,h=t.display,y=n.from,k=n.to,T=!1,D=y.line;t.options.lineWrapping||(D=P(Cn(de(s,y.line))),s.iter(D,k.line+1,function(ot){if(ot==h.maxLine)return T=!0,!0})),s.sel.contains(n.from,n.to)>-1&&Be(t),Ia(s,n,l,vc(t)),t.options.lineWrapping||(s.iter(D,y.line+n.text.length,function(ot){var St=gs(ot);St>h.maxLineLength&&(h.maxLine=ot,h.maxLineLength=St,h.maxLineChanged=!0,T=!1)}),T&&(t.curOp.updateMaxLine=!0)),Mn(s,y.line),ks(t,400);var L=n.text.length-(k.line-y.line)-1;n.full?Zi(t):y.line==k.line&&n.text.length==1&&!$a(t.doc,n)?Po(t,y.line,"text"):Zi(t,y.line,k.line+1,L);var G=$t(t,"changes"),Z=$t(t,"change");if(Z||G){var lt={from:y,to:k,text:n.text,removed:n.removed,origin:n.origin};Z&&In(t,"change",t,lt),G&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(lt)}t.display.selForContextMenu=null}function da(t,n,l,s,h){var y;s||(s=l),Zt(s,l)<0&&(y=[s,l],l=y[0],s=y[1]),typeof n=="string"&&(n=t.splitLines(n)),Ya(t,{from:l,to:s,text:n,origin:h})}function $c(t,n,l,s){l<t.line?t.line+=s:n<t.line&&(t.line=n,t.ch=0)}function Ic(t,n,l,s){for(var h=0;h<t.length;++h){var y=t[h],k=!0;if(y.ranges){y.copied||(y=t[h]=y.deepCopy(),y.copied=!0);for(var T=0;T<y.ranges.length;T++)$c(y.ranges[T].anchor,n,l,s),$c(y.ranges[T].head,n,l,s);continue}for(var D=0;D<y.changes.length;++D){var L=y.changes[D];if(l<L.from.line)L.from=bt(L.from.line+s,L.from.ch),L.to=bt(L.to.line+s,L.to.ch);else if(n<=L.to.line){k=!1;break}}k||(t.splice(0,h+1),h=0)}}function zc(t,n){var l=n.from.line,s=n.to.line,h=n.text.length-(s-l)-1;Ic(t.done,l,s,h),Ic(t.undone,l,s,h)}function ja(t,n,l,s){var h=n,y=n;return typeof n=="number"?y=de(t,Lo(t,n)):h=P(n),h==null?null:(s(y,h)&&t.cm&&Po(t.cm,h,l),y)}function pa(t){this.lines=t,this.parent=null;for(var n=0,l=0;l<t.length;++l)t[l].parent=this,n+=t[l].height;this.height=n}pa.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,n){for(var l=t,s=t+n;l<s;++l){var h=this.lines[l];this.height-=h.height,ur(h),In(h,"delete")}this.lines.splice(t,n)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,n,l){this.height+=l,this.lines=this.lines.slice(0,t).concat(n).concat(this.lines.slice(t));for(var s=0;s<n.length;++s)n[s].parent=this},iterN:function(t,n,l){for(var s=t+n;t<s;++t)if(l(this.lines[t]))return!0}};function Ts(t){this.children=t;for(var n=0,l=0,s=0;s<t.length;++s){var h=t[s];n+=h.chunkSize(),l+=h.height,h.parent=this}this.size=n,this.height=l,this.parent=null}Ts.prototype={chunkSize:function(){return this.size},removeInner:function(t,n){this.size-=n;for(var l=0;l<this.children.length;++l){var s=this.children[l],h=s.chunkSize();if(t<h){var y=Math.min(n,h-t),k=s.height;if(s.removeInner(t,y),this.height-=k-s.height,h==y&&(this.children.splice(l--,1),s.parent=null),(n-=y)==0)break;t=0}else t-=h}if(this.size-n<25&&(this.children.length>1||!(this.children[0]instanceof pa))){var T=[];this.collapse(T),this.children=[new pa(T)],this.children[0].parent=this}},collapse:function(t){for(var n=0;n<this.children.length;++n)this.children[n].collapse(t)},insertInner:function(t,n,l){this.size+=n.length,this.height+=l;for(var s=0;s<this.children.length;++s){var h=this.children[s],y=h.chunkSize();if(t<=y){if(h.insertInner(t,n,l),h.lines&&h.lines.length>50){for(var k=h.lines.length%25+25,T=k;T<h.lines.length;){var D=new pa(h.lines.slice(T,T+=25));h.height-=D.height,this.children.splice(++s,0,D),D.parent=this}h.lines=h.lines.slice(0,k),this.maybeSpill()}break}t-=y}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var n=t.children.splice(t.children.length-5,5),l=new Ts(n);if(t.parent){t.size-=l.size,t.height-=l.height;var h=zt(t.parent.children,t);t.parent.children.splice(h+1,0,l)}else{var s=new Ts(t.children);s.parent=t,t.children=[s,l],t=s}l.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,n,l){for(var s=0;s<this.children.length;++s){var h=this.children[s],y=h.chunkSize();if(t<y){var k=Math.min(n,y-t);if(h.iterN(t,k,l))return!0;if((n-=k)==0)break;t=0}else t-=y}}};var ga=function(t,n,l){if(l)for(var s in l)l.hasOwnProperty(s)&&(this[s]=l[s]);this.doc=t,this.node=n};ga.prototype.clear=function(){var t=this.doc.cm,n=this.line.widgets,l=this.line,s=P(l);if(!(s==null||!n)){for(var h=0;h<n.length;++h)n[h]==this&&n.splice(h--,1);n.length||(l.widgets=null);var y=mo(this);Hi(l,Math.max(0,l.height-y)),t&&(Bi(t,function(){Cu(t,l,-y),Po(t,s,"widget")}),In(t,"lineWidgetCleared",t,this,s))}},ga.prototype.changed=function(){var t=this,n=this.height,l=this.doc.cm,s=this.line;this.height=null;var h=mo(this)-n;h&&(Ci(this.doc,s)||Hi(s,s.height+h),l&&Bi(l,function(){l.curOp.forceUpdate=!0,Cu(l,s,h),In(l,"lineWidgetChanged",l,t,P(s))}))},Et(ga);function Cu(t,n,l){Zr(n)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&uu(t,l)}function Wc(t,n,l,s){var h=new ga(t,l,s),y=t.cm;return y&&h.noHScroll&&(y.display.alignWidgets=!0),ja(t,n,"widget",function(k){var T=k.widgets||(k.widgets=[]);if(h.insertAt==null?T.push(h):T.splice(Math.min(T.length,Math.max(0,h.insertAt)),0,h),h.line=k,y&&!Ci(t,k)){var D=Zr(k)<t.scrollTop;Hi(k,k.height+mo(h)),D&&uu(y,h.height),y.curOp.forceUpdate=!0}return!0}),y&&In(y,"lineWidgetAdded",y,h,typeof n=="number"?n:P(n)),h}var ku=0,Fr=function(t,n){this.lines=[],this.type=n,this.doc=t,this.id=++ku};Fr.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,n=t&&!t.curOp;if(n&&ua(t),$t(this,"clear")){var l=this.find();l&&In(this,"clear",l.from,l.to)}for(var s=null,h=null,y=0;y<this.lines.length;++y){var k=this.lines[y],T=wi(k.markedSpans,this);t&&!this.collapsed?Po(t,P(k),"text"):t&&(T.to!=null&&(h=P(k)),T.from!=null&&(s=P(k))),k.markedSpans=te(k.markedSpans,T),T.from==null&&this.collapsed&&!Ci(this.doc,k)&&t&&Hi(k,Mr(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var D=0;D<this.lines.length;++D){var L=Cn(this.lines[D]),G=gs(L);G>t.display.maxLineLength&&(t.display.maxLine=L,t.display.maxLineLength=G,t.display.maxLineChanged=!0)}s!=null&&t&&this.collapsed&&Zi(t,s,h+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Oc(t.doc)),t&&In(t,"markerCleared",t,this,s,h),n&&ca(t),this.parent&&this.parent.clear()}},Fr.prototype.find=function(t,n){t==null&&this.type=="bookmark"&&(t=1);for(var l,s,h=0;h<this.lines.length;++h){var y=this.lines[h],k=wi(y.markedSpans,this);if(k.from!=null&&(l=bt(n?y:P(y),k.from),t==-1))return l;if(k.to!=null&&(s=bt(n?y:P(y),k.to),t==1))return s}return l&&{from:l,to:s}},Fr.prototype.changed=function(){var t=this,n=this.find(-1,!0),l=this,s=this.doc.cm;!n||!s||Bi(s,function(){var h=n.line,y=P(n.line),k=ol(s,y);if(k&&(nu(k),s.curOp.selectionChanged=s.curOp.forceUpdate=!0),s.curOp.updateMaxLine=!0,!Ci(l.doc,h)&&l.height!=null){var T=l.height;l.height=null;var D=mo(l)-T;D&&Hi(h,h.height+D)}In(s,"markerChanged",s,t)})},Fr.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var n=this.doc.cm.curOp;(!n.maybeHiddenMarkers||zt(n.maybeHiddenMarkers,this)==-1)&&(n.maybeUnhiddenMarkers||(n.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},Fr.prototype.detachLine=function(t){if(this.lines.splice(zt(this.lines,t),1),!this.lines.length&&this.doc.cm){var n=this.doc.cm.curOp;(n.maybeHiddenMarkers||(n.maybeHiddenMarkers=[])).push(this)}},Et(Fr);function Xa(t,n,l,s,h){if(s&&s.shared)return Fc(t,n,l,s,h);if(t.cm&&!t.cm.curOp)return kn(t.cm,Xa)(t,n,l,s,h);var y=new Fr(t,h),k=Zt(n,l);if(s&&st(s,y,!1),k>0||k==0&&y.clearWhenEmpty!==!1)return y;if(y.replacedWith&&(y.collapsed=!0,y.widgetNode=xt("span",[y.replacedWith],"CodeMirror-widget"),s.handleMouseEvents||y.widgetNode.setAttribute("cm-ignore-events","true"),s.insertLeft&&(y.widgetNode.insertLeft=!0)),y.collapsed){if(ds(t,n.line,n,l,y)||n.line!=l.line&&ds(t,l.line,n,l,y))throw new Error("Inserting collapsed marker partially overlapping an existing one");Gn()}y.addToHistory&&vu(t,{from:n,to:l,origin:"markText"},t.sel,NaN);var T=n.line,D=t.cm,L;if(t.iter(T,l.line+1,function(Z){D&&y.collapsed&&!D.options.lineWrapping&&Cn(Z)==D.display.maxLine&&(L=!0),y.collapsed&&T!=n.line&&Hi(Z,0),un(Z,new tr(y,T==n.line?n.ch:null,T==l.line?l.ch:null),t.cm&&t.cm.curOp),++T}),y.collapsed&&t.iter(n.line,l.line+1,function(Z){Ci(t,Z)&&Hi(Z,0)}),y.clearOnEnter&&ge(y,"beforeCursorEnter",function(){return y.clear()}),y.readOnly&&(Jn(),(t.history.done.length||t.history.undone.length)&&t.clearHistory()),y.collapsed&&(y.id=++ku,y.atomic=!0),D){if(L&&(D.curOp.updateMaxLine=!0),y.collapsed)Zi(D,n.line,l.line+1);else if(y.className||y.startStyle||y.endStyle||y.css||y.attributes||y.title)for(var G=n.line;G<=l.line;G++)Po(D,G,"text");y.atomic&&Oc(D.doc),In(D,"markerAdded",D,y)}return y}var Ga=function(t,n){this.markers=t,this.primary=n;for(var l=0;l<t.length;++l)t[l].parent=this};Ga.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();In(this,"clear")}},Ga.prototype.find=function(t,n){return this.primary.find(t,n)},Et(Ga);function Fc(t,n,l,s,h){s=st(s),s.shared=!1;var y=[Xa(t,n,l,s,h)],k=y[0],T=s.widgetNode;return Fo(t,function(D){T&&(s.widgetNode=T.cloneNode(!0)),y.push(Xa(D,De(D,n),De(D,l),s,h));for(var L=0;L<D.linked.length;++L)if(D.linked[L].isParent)return;k=le(y)}),new Ga(y,k)}function Hc(t){return t.findMarks(bt(t.first,0),t.clipPos(bt(t.lastLine())),function(n){return n.parent})}function Bc(t,n){for(var l=0;l<n.length;l++){var s=n[l],h=s.find(),y=t.clipPos(h.from),k=t.clipPos(h.to);if(Zt(y,k)){var T=Xa(t,y,k,s.primary,s.primary.type);s.markers.push(T),T.parent=s}}}function wh(t){for(var n=function(s){var h=t[s],y=[h.primary.doc];Fo(h.primary.doc,function(D){return y.push(D)});for(var k=0;k<h.markers.length;k++){var T=h.markers[k];zt(y,T.doc)==-1&&(T.parent=null,h.markers.splice(k--,1))}},l=0;l<t.length;l++)n(l)}var Eu=0,Xi=function(t,n,l,s,h){if(!(this instanceof Xi))return new Xi(t,n,l,s,h);l==null&&(l=0),Ts.call(this,[new pa([new ta("",null)])]),this.first=l,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=l;var y=bt(l,0);this.sel=zo(y),this.history=new za(null),this.id=++Eu,this.modeOption=n,this.lineSep=s,this.direction=h=="rtl"?"rtl":"ltr",this.extend=!1,typeof t=="string"&&(t=this.splitLines(t)),Ia(this,{from:y,to:y,text:t}),Ri(this,zo(y),me)};Xi.prototype=_t(Ts.prototype,{constructor:Xi,iter:function(t,n,l){l?this.iterN(t-this.first,n-t,l):this.iterN(this.first,this.first+this.size,t)},insert:function(t,n){for(var l=0,s=0;s<n.length;++s)l+=n[s].height;this.insertInner(t-this.first,n,l)},remove:function(t,n){this.removeInner(t-this.first,n)},getValue:function(t){var n=vr(this,this.first,this.first+this.size);return t===!1?n:n.join(t||this.lineSeparator())},setValue:ki(function(t){var n=bt(this.first,0),l=this.first+this.size-1;Ya(this,{from:n,to:bt(l,de(this,l).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&ci(this.cm,0,0),Ri(this,zo(n),me)}),replaceRange:function(t,n,l,s){n=De(this,n),l=l?De(this,l):n,da(this,t,n,l,s)},getRange:function(t,n,l){var s=Vi(this,De(this,t),De(this,n));return l===!1?s:l===""?s.join(""):s.join(l||this.lineSeparator())},getLine:function(t){var n=this.getLineHandle(t);return n&&n.text},getLineHandle:function(t){if(Dt(this,t))return de(this,t)},getLineNumber:function(t){return P(t)},getLineHandleVisualStart:function(t){return typeof t=="number"&&(t=de(this,t)),Cn(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return De(this,t)},getCursor:function(t){var n=this.sel.primary(),l;return t==null||t=="head"?l=n.head:t=="anchor"?l=n.anchor:t=="end"||t=="to"||t===!1?l=n.to():l=n.from(),l},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ki(function(t,n,l){vl(this,De(this,typeof t=="number"?bt(t,n||0):t),null,l)}),setSelection:ki(function(t,n,l){vl(this,De(this,t),De(this,n||t),l)}),extendSelection:ki(function(t,n,l){Wa(this,De(this,t),n&&De(this,n),l)}),extendSelections:ki(function(t,n){yu(this,m(this,t),n)}),extendSelectionsBy:ki(function(t,n){var l=Ee(this.sel.ranges,t);yu(this,m(this,l),n)}),setSelections:ki(function(t,n,l){if(t.length){for(var s=[],h=0;h<t.length;h++)s[h]=new yn(De(this,t[h].anchor),De(this,t[h].head||t[h].anchor));n==null&&(n=Math.min(t.length-1,this.sel.primIndex)),Ri(this,zr(this.cm,s,n),l)}}),addSelection:ki(function(t,n,l){var s=this.sel.ranges.slice(0);s.push(new yn(De(this,t),De(this,n||t))),Ri(this,zr(this.cm,s,s.length-1),l)}),getSelection:function(t){for(var n=this.sel.ranges,l,s=0;s<n.length;s++){var h=Vi(this,n[s].from(),n[s].to());l=l?l.concat(h):h}return t===!1?l:l.join(t||this.lineSeparator())},getSelections:function(t){for(var n=[],l=this.sel.ranges,s=0;s<l.length;s++){var h=Vi(this,l[s].from(),l[s].to());t!==!1&&(h=h.join(t||this.lineSeparator())),n[s]=h}return n},replaceSelection:function(t,n,l){for(var s=[],h=0;h<this.sel.ranges.length;h++)s[h]=t;this.replaceSelections(s,n,l||"+input")},replaceSelections:ki(function(t,n,l){for(var s=[],h=this.sel,y=0;y<h.ranges.length;y++){var k=h.ranges[y];s[y]={from:k.from(),to:k.to(),text:this.splitLines(t[y]),origin:l}}for(var T=n&&n!="end"&&vh(this,s,n),D=s.length-1;D>=0;D--)Ya(this,s[D]);T?Ho(this,T):this.cm&&zn(this.cm)}),undo:ki(function(){Bo(this,"undo")}),redo:ki(function(){Bo(this,"redo")}),undoSelection:ki(function(){Bo(this,"undo",!0)}),redoSelection:ki(function(){Bo(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,n=0,l=0,s=0;s<t.done.length;s++)t.done[s].ranges||++n;for(var h=0;h<t.undone.length;h++)t.undone[h].ranges||++l;return{undo:n,redo:l}},clearHistory:function(){var t=this;this.history=new za(this.history),Fo(this,function(n){return n.history=t.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:ha(this.history.done),undone:ha(this.history.undone)}},setHistory:function(t){var n=this.history=new za(this.history);n.done=ha(t.done.slice(0),null,!0),n.undone=ha(t.undone.slice(0),null,!0)},setGutterMarker:ki(function(t,n,l){return ja(this,t,"gutter",function(s){var h=s.gutterMarkers||(s.gutterMarkers={});return h[n]=l,!l&&Wi(h)&&(s.gutterMarkers=null),!0})}),clearGutter:ki(function(t){var n=this;this.iter(function(l){l.gutterMarkers&&l.gutterMarkers[t]&&ja(n,l,"gutter",function(){return l.gutterMarkers[t]=null,Wi(l.gutterMarkers)&&(l.gutterMarkers=null),!0})})}),lineInfo:function(t){var n;if(typeof t=="number"){if(!Dt(this,t)||(n=t,t=de(this,t),!t))return null}else if(n=P(t),n==null)return null;return{line:n,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:ki(function(t,n,l){return ja(this,t,n=="gutter"?"gutter":"class",function(s){var h=n=="text"?"textClass":n=="background"?"bgClass":n=="gutter"?"gutterClass":"wrapClass";if(!s[h])s[h]=l;else{if(ht(l).test(s[h]))return!1;s[h]+=" "+l}return!0})}),removeLineClass:ki(function(t,n,l){return ja(this,t,n=="gutter"?"gutter":"class",function(s){var h=n=="text"?"textClass":n=="background"?"bgClass":n=="gutter"?"gutterClass":"wrapClass",y=s[h];if(y)if(l==null)s[h]=null;else{var k=y.match(ht(l));if(!k)return!1;var T=k.index+k[0].length;s[h]=y.slice(0,k.index)+(!k.index||T==y.length?"":" ")+y.slice(T)||null}else return!1;return!0})}),addLineWidget:ki(function(t,n,l){return Wc(this,t,n,l)}),removeLineWidget:function(t){t.clear()},markText:function(t,n,l){return Xa(this,De(this,t),De(this,n),l,l&&l.type||"range")},setBookmark:function(t,n){var l={replacedWith:n&&(n.nodeType==null?n.widget:n),insertLeft:n&&n.insertLeft,clearWhenEmpty:!1,shared:n&&n.shared,handleMouseEvents:n&&n.handleMouseEvents};return t=De(this,t),Xa(this,t,t,l,"bookmark")},findMarksAt:function(t){t=De(this,t);var n=[],l=de(this,t.line).markedSpans;if(l)for(var s=0;s<l.length;++s){var h=l[s];(h.from==null||h.from<=t.ch)&&(h.to==null||h.to>=t.ch)&&n.push(h.marker.parent||h.marker)}return n},findMarks:function(t,n,l){t=De(this,t),n=De(this,n);var s=[],h=t.line;return this.iter(t.line,n.line+1,function(y){var k=y.markedSpans;if(k)for(var T=0;T<k.length;T++){var D=k[T];!(D.to!=null&&h==t.line&&t.ch>=D.to||D.from==null&&h!=t.line||D.from!=null&&h==n.line&&D.from>=n.ch)&&(!l||l(D.marker))&&s.push(D.marker.parent||D.marker)}++h}),s},getAllMarks:function(){var t=[];return this.iter(function(n){var l=n.markedSpans;if(l)for(var s=0;s<l.length;++s)l[s].from!=null&&t.push(l[s].marker)}),t},posFromIndex:function(t){var n,l=this.first,s=this.lineSeparator().length;return this.iter(function(h){var y=h.text.length+s;if(y>t)return n=t,!0;t-=y,++l}),De(this,bt(l,n))},indexFromPos:function(t){t=De(this,t);var n=t.ch;if(t.line<this.first||t.ch<0)return 0;var l=this.lineSeparator().length;return this.iter(this.first,t.line,function(s){n+=s.text.length+l}),n},copy:function(t){var n=new Xi(vr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return n.scrollTop=this.scrollTop,n.scrollLeft=this.scrollLeft,n.sel=this.sel,n.extend=!1,t&&(n.history.undoDepth=this.history.undoDepth,n.setHistory(this.getHistory())),n},linkedDoc:function(t){t||(t={});var n=this.first,l=this.first+this.size;t.from!=null&&t.from>n&&(n=t.from),t.to!=null&&t.to<l&&(l=t.to);var s=new Xi(vr(this,n,l),t.mode||this.modeOption,n,this.lineSep,this.direction);return t.sharedHist&&(s.history=this.history),(this.linked||(this.linked=[])).push({doc:s,sharedHist:t.sharedHist}),s.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Bc(s,Hc(this)),s},unlinkDoc:function(t){if(t instanceof mn&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var l=this.linked[n];if(l.doc==t){this.linked.splice(n,1),t.unlinkDoc(this),wh(Hc(this));break}}if(t.history==this.history){var s=[t.id];Fo(t,function(h){return s.push(h.id)},!0),t.history=new za(null),t.history.done=ha(this.history.done,s),t.history.undone=ha(this.history.undone,s)}},iterLinkedDocs:function(t){Fo(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Xe(t)},lineSeparator:function(){return this.lineSep||`
`},setDirection:ki(function(t){t!="rtl"&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(n){return n.order=null}),this.cm&&xo(this.cm))})}),Xi.prototype.eachLine=Xi.prototype.iter;var wl=0;function xh(t){var n=this;if(Yc(n),!(ze(n,t)||Jr(n.display,t))){Yt(t),b&&(wl=+new Date);var l=to(n,t,!0),s=t.dataTransfer.files;if(!(!l||n.isReadOnly()))if(s&&s.length&&window.FileReader&&window.File)for(var h=s.length,y=Array(h),k=0,T=function(){++k==h&&kn(n,function(){l=De(n.doc,l);var ot={from:l,to:l,text:n.doc.splitLines(y.filter(function(St){return St!=null}).join(n.doc.lineSeparator())),origin:"paste"};Ya(n.doc,ot),Ho(n.doc,zo(De(n.doc,l),De(n.doc,Wo(ot))))})()},D=function(ot,St){if(n.options.allowDropFileTypes&&zt(n.options.allowDropFileTypes,ot.type)==-1){T();return}var Nt=new FileReader;Nt.onerror=function(){return T()},Nt.onload=function(){var Gt=Nt.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Gt)){T();return}y[St]=Gt,T()},Nt.readAsText(ot)},L=0;L<s.length;L++)D(s[L],L);else{if(n.state.draggingText&&n.doc.sel.contains(l)>-1){n.state.draggingText(t),setTimeout(function(){return n.display.input.focus()},20);return}try{var G=t.dataTransfer.getData("Text");if(G){var Z;if(n.state.draggingText&&!n.state.draggingText.copy&&(Z=n.listSelections()),Pi(n.doc,zo(l,l)),Z)for(var lt=0;lt<Z.length;++lt)da(n.doc,"",Z[lt].anchor,Z[lt].head,"drag");n.replaceSelection(G,"around","paste"),n.display.input.focus()}}catch{}}}}function _u(t,n){if(b&&(!t.state.draggingText||+new Date-wl<100)){We(n);return}if(!(ze(t,n)||Jr(t.display,n))&&(n.dataTransfer.setData("Text",t.getSelection()),n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setDragImage&&!I)){var l=M("img",null,null,"position: fixed; left: 0; top: 0;");l.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",A&&(l.width=l.height=1,t.display.wrapper.appendChild(l),l._top=l.offsetTop),n.dataTransfer.setDragImage(l,0,0),A&&l.parentNode.removeChild(l)}}function qe(t,n){var l=to(t,n);if(l){var s=document.createDocumentFragment();ul(t,l,s),t.display.dragCursor||(t.display.dragCursor=M("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),Tt(t.display.dragCursor,s)}}function Yc(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function jc(t){if(document.getElementsByClassName){for(var n=document.getElementsByClassName("CodeMirror"),l=[],s=0;s<n.length;s++){var h=n[s].CodeMirror;h&&l.push(h)}l.length&&l[0].operation(function(){for(var y=0;y<l.length;y++)t(l[y])})}}var qa=!1;function Xc(){qa||(Ch(),qa=!0)}function Ch(){var t;ge(window,"resize",function(){t==null&&(t=setTimeout(function(){t=null,jc(kh)},100))}),ge(window,"blur",function(){return jc(Pa)})}function kh(t){var n=t.display;n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.scrollbarsClipped=!1,t.setSize()}for(var _i={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ds=0;Ds<10;Ds++)_i[Ds+48]=_i[Ds+96]=String(Ds);for(var ma=65;ma<=90;ma++)_i[ma]=String.fromCharCode(ma);for(var va=1;va<=12;va++)_i[va+111]=_i[va+63235]="F"+va;var io={};io.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},io.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},io.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},io.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},io.default=U?io.macDefault:io.pcDefault;function Gc(t){var n=t.split(/-(?!$)/);t=n[n.length-1];for(var l,s,h,y,k=0;k<n.length-1;k++){var T=n[k];if(/^(cmd|meta|m)$/i.test(T))y=!0;else if(/^a(lt)?$/i.test(T))l=!0;else if(/^(c|ctrl|control)$/i.test(T))s=!0;else if(/^s(hift)?$/i.test(T))h=!0;else throw new Error("Unrecognized modifier name: "+T)}return l&&(t="Alt-"+t),s&&(t="Ctrl-"+t),y&&(t="Cmd-"+t),h&&(t="Shift-"+t),t}function dr(t){var n={};for(var l in t)if(t.hasOwnProperty(l)){var s=t[l];if(/^(name|fallthrough|(de|at)tach)$/.test(l))continue;if(s=="..."){delete t[l];continue}for(var h=Ee(l.split(" "),Gc),y=0;y<h.length;y++){var k=void 0,T=void 0;y==h.length-1?(T=h.join(" "),k=s):(T=h.slice(0,y+1).join(" "),k="...");var D=n[T];if(!D)n[T]=k;else if(D!=k)throw new Error("Inconsistent bindings for "+T)}delete t[l]}for(var L in n)t[L]=n[L];return t}function pr(t,n,l,s){n=Ls(n);var h=n.call?n.call(t,s):n[t];if(h===!1)return"nothing";if(h==="...")return"multi";if(h!=null&&l(h))return"handled";if(n.fallthrough){if(Object.prototype.toString.call(n.fallthrough)!="[object Array]")return pr(t,n.fallthrough,l,s);for(var y=0;y<n.fallthrough.length;y++){var k=pr(t,n.fallthrough[y],l,s);if(k)return k}}}function xl(t){var n=typeof t=="string"?t:_i[t.keyCode];return n=="Ctrl"||n=="Alt"||n=="Shift"||n=="Mod"}function Su(t,n,l){var s=t;return n.altKey&&s!="Alt"&&(t="Alt-"+t),(pt?n.metaKey:n.ctrlKey)&&s!="Ctrl"&&(t="Ctrl-"+t),(pt?n.ctrlKey:n.metaKey)&&s!="Mod"&&(t="Cmd-"+t),!l&&n.shiftKey&&s!="Shift"&&(t="Shift-"+t),t}function As(t,n){if(A&&t.keyCode==34&&t.char)return!1;var l=_i[t.keyCode];return l==null||t.altGraphKey?!1:(t.keyCode==3&&t.code&&(l=t.code),Su(l,t,n))}function Ls(t){return typeof t=="string"?io[t]:t}function Yo(t,n){for(var l=t.doc.sel.ranges,s=[],h=0;h<l.length;h++){for(var y=n(l[h]);s.length&&Zt(y.from,le(s).to)<=0;){var k=s.pop();if(Zt(k.from,y.from)<0){y.from=k.from;break}}s.push(y)}Bi(t,function(){for(var T=s.length-1;T>=0;T--)da(t.doc,"",s[T].from,s[T].to,"+delete");zn(t)})}function Cl(t,n,l){var s=ai(t.text,n+l,l);return s<0||s>t.text.length?null:s}function Os(t,n,l){var s=Cl(t,n.ch,l);return s==null?null:new bt(n.line,s,l<0?"after":"before")}function Ms(t,n,l,s,h){if(t){n.doc.direction=="rtl"&&(h=-h);var y=Me(l,n.doc.direction);if(y){var k=h<0?le(y):y[0],T=h<0==(k.level==1),D=T?"after":"before",L;if(k.level>0||n.doc.direction=="rtl"){var G=cr(n,l);L=h<0?l.text.length-1:0;var Z=fr(n,G,L).top;L=Tn(function(lt){return fr(n,G,lt).top==Z},h<0==(k.level==1)?k.from:k.to-1,L),D=="before"&&(L=Cl(l,L,1))}else L=h<0?k.to:k.from;return new bt(s,L,D)}}return new bt(s,h<0?l.text.length:0,h<0?"before":"after")}function jo(t,n,l,s){var h=Me(n,t.doc.direction);if(!h)return Os(n,l,s);l.ch>=n.text.length?(l.ch=n.text.length,l.sticky="before"):l.ch<=0&&(l.ch=0,l.sticky="after");var y=he(h,l.ch,l.sticky),k=h[y];if(t.doc.direction=="ltr"&&k.level%2==0&&(s>0?k.to>l.ch:k.from<l.ch))return Os(n,l,s);var T=function(Jt,ee){return Cl(n,Jt instanceof bt?Jt.ch:Jt,ee)},D,L=function(Jt){return t.options.lineWrapping?(D=D||cr(t,n),Dn(t,n,D,Jt)):{begin:0,end:n.text.length}},G=L(l.sticky=="before"?T(l,-1):l.ch);if(t.doc.direction=="rtl"||k.level==1){var Z=k.level==1==s<0,lt=T(l,Z?1:-1);if(lt!=null&&(Z?lt<=k.to&&lt<=G.end:lt>=k.from&&lt>=G.begin)){var ot=Z?"before":"after";return new bt(l.line,lt,ot)}}var St=function(Jt,ee,Vt){for(var re=function(Sn,Kn){return Kn?new bt(l.line,T(Sn,1),"before"):new bt(l.line,Sn,"after")};Jt>=0&&Jt<h.length;Jt+=ee){var be=h[Jt],ve=ee>0==(be.level!=1),Fe=ve?Vt.begin:T(Vt.end,-1);if(be.from<=Fe&&Fe<be.to||(Fe=ve?be.from:T(be.to,-1),Vt.begin<=Fe&&Fe<Vt.end))return re(Fe,ve)}},Nt=St(y+s,s,G);if(Nt)return Nt;var Gt=s>0?G.end:T(G.begin,-1);return Gt!=null&&!(s>0&&Gt==n.text.length)&&(Nt=St(s>0?0:h.length-1,s,L(Gt)),Nt)?Nt:null}var Rs={selectAll:Ba,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),me)},killLine:function(t){return Yo(t,function(n){if(n.empty()){var l=de(t.doc,n.head.line).text.length;return n.head.ch==l&&n.head.line<t.lastLine()?{from:n.head,to:bt(n.head.line+1,0)}:{from:n.head,to:bt(n.head.line,l)}}else return{from:n.from(),to:n.to()}})},deleteLine:function(t){return Yo(t,function(n){return{from:bt(n.from().line,0),to:De(t.doc,bt(n.to().line+1,0))}})},delLineLeft:function(t){return Yo(t,function(n){return{from:bt(n.from().line,0),to:n.from()}})},delWrappedLineLeft:function(t){return Yo(t,function(n){var l=t.charCoords(n.head,"div").top+5,s=t.coordsChar({left:0,top:l},"div");return{from:s,to:n.from()}})},delWrappedLineRight:function(t){return Yo(t,function(n){var l=t.charCoords(n.head,"div").top+5,s=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:l},"div");return{from:n.from(),to:s}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(bt(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(bt(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(n){return ko(t,n.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(n){return Tu(t,n.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(n){return qc(t,n.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(n){var l=t.cursorCoords(n.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:l},"div")},fe)},goLineLeft:function(t){return t.extendSelectionsBy(function(n){var l=t.cursorCoords(n.head,"div").top+5;return t.coordsChar({left:0,top:l},"div")},fe)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(n){var l=t.cursorCoords(n.head,"div").top+5,s=t.coordsChar({left:0,top:l},"div");return s.ch<t.getLine(s.line).search(/\S/)?Tu(t,n.head):s},fe)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("	")},insertSoftTab:function(t){for(var n=[],l=t.listSelections(),s=t.options.tabSize,h=0;h<l.length;h++){var y=l[h].from(),k=At(t.getLine(y.line),y.ch,s);n.push(rn(s-k%s))}t.replaceSelections(n)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return Bi(t,function(){for(var n=t.listSelections(),l=[],s=0;s<n.length;s++)if(n[s].empty()){var h=n[s].head,y=de(t.doc,h.line).text;if(y){if(h.ch==y.length&&(h=new bt(h.line,h.ch-1)),h.ch>0)h=new bt(h.line,h.ch+1),t.replaceRange(y.charAt(h.ch-1)+y.charAt(h.ch-2),bt(h.line,h.ch-2),h,"+transpose");else if(h.line>t.doc.first){var k=de(t.doc,h.line-1).text;k&&(h=new bt(h.line,1),t.replaceRange(y.charAt(0)+t.doc.lineSeparator()+k.charAt(k.length-1),bt(h.line-1,k.length-1),h,"+transpose"))}}l.push(new yn(h,h))}t.setSelections(l)})},newlineAndIndent:function(t){return Bi(t,function(){for(var n=t.listSelections(),l=n.length-1;l>=0;l--)t.replaceRange(t.doc.lineSeparator(),n[l].anchor,n[l].head,"+input");n=t.listSelections();for(var s=0;s<n.length;s++)t.indentLine(n[s].from().line,null,!0);zn(t)})},openLine:function(t){return t.replaceSelection(`
`,"start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function ko(t,n){var l=de(t.doc,n),s=Cn(l);return s!=l&&(n=P(s)),Ms(!0,t,s,n,1)}function qc(t,n){var l=de(t.doc,n),s=ps(l);return s!=l&&(n=P(s)),Ms(!0,t,l,n,-1)}function Tu(t,n){var l=ko(t,n.line),s=de(t.doc,l.line),h=Me(s,t.doc.direction);if(!h||h[0].level==0){var y=Math.max(l.ch,s.text.search(/\S/)),k=n.line==l.line&&n.ch<=y&&n.ch;return bt(l.line,k?0:y,l.sticky)}return l}function Ka(t,n,l){if(typeof n=="string"&&(n=Rs[n],!n))return!1;t.display.input.ensurePolled();var s=t.display.shift,h=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),l&&(t.display.shift=!1),h=n(t)!=Oe}finally{t.display.shift=s,t.state.suppressEdits=!1}return h}function Eh(t,n,l){for(var s=0;s<t.state.keyMaps.length;s++){var h=pr(n,t.state.keyMaps[s],l,t);if(h)return h}return t.options.extraKeys&&pr(n,t.options.extraKeys,l,t)||pr(n,t.options.keyMap,l,t)}var _h=new Ht;function Ps(t,n,l,s){var h=t.state.keySeq;if(h){if(xl(n))return"handled";if(/\'$/.test(n)?t.state.keySeq=null:_h.set(50,function(){t.state.keySeq==h&&(t.state.keySeq=null,t.display.input.reset())}),Du(t,h+" "+n,l,s))return!0}return Du(t,n,l,s)}function Du(t,n,l,s){var h=Eh(t,n,s);return h=="multi"&&(t.state.keySeq=n),h=="handled"&&In(t,"keyHandled",t,n,l),(h=="handled"||h=="multi")&&(Yt(l),oa(t)),!!h}function Au(t,n){var l=As(n,!0);return l?n.shiftKey&&!t.state.keySeq?Ps(t,"Shift-"+l,n,function(s){return Ka(t,s,!0)})||Ps(t,l,n,function(s){if(typeof s=="string"?/^go[A-Z]/.test(s):s.motion)return Ka(t,s)}):Ps(t,l,n,function(s){return Ka(t,s)}):!1}function Sh(t,n,l){return Ps(t,"'"+l+"'",n,function(s){return Ka(t,s,!0)})}var kl=null;function Lu(t){var n=this;if(!(t.target&&t.target!=n.display.input.getField())&&(n.curOp.focus=ie(Ut(n)),!ze(n,t))){b&&C<11&&t.keyCode==27&&(t.returnValue=!1);var l=t.keyCode;n.display.shift=l==16||t.shiftKey;var s=Au(n,t);A&&(kl=s?l:null,!s&&l==88&&!Nn&&(U?t.metaKey:t.ctrlKey)&&n.replaceSelection("",null,"cut")),d&&!U&&!s&&l==46&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),l==18&&!/\bCodeMirror-crosshair\b/.test(n.display.lineDiv.className)&&ir(n)}}function ir(t){var n=t.display.lineDiv;oe(n,"CodeMirror-crosshair");function l(s){(s.keyCode==18||!s.altKey)&&(It(n,"CodeMirror-crosshair"),Ue(document,"keyup",l),Ue(document,"mouseover",l))}ge(document,"keyup",l),ge(document,"mouseover",l)}function Hr(t){t.keyCode==16&&(this.doc.sel.shift=!1),ze(this,t)}function Kc(t){var n=this;if(!(t.target&&t.target!=n.display.input.getField())&&!(Jr(n.display,t)||ze(n,t)||t.ctrlKey&&!t.altKey||U&&t.metaKey)){var l=t.keyCode,s=t.charCode;if(A&&l==kl){kl=null,Yt(t);return}if(!(A&&(!t.which||t.which<10)&&Au(n,t))){var h=String.fromCharCode(s??l);h!="\b"&&(Sh(n,t,h)||n.display.input.onKeyPress(t))}}}var Th=400,Ua=function(t,n,l){this.time=t,this.pos=n,this.button=l};Ua.prototype.compare=function(t,n,l){return this.time+Th>t&&Zt(n,this.pos)==0&&l==this.button};var ro,Va;function Uc(t,n){var l=+new Date;return Va&&Va.compare(l,t,n)?(ro=Va=null,"triple"):ro&&ro.compare(l,t,n)?(Va=new Ua(l,t,n),ro=null,"double"):(ro=new Ua(l,t,n),Va=null,"single")}function Vc(t){var n=this,l=n.display;if(!(ze(n,t)||l.activeTouch&&l.input.supportsTouch())){if(l.input.ensurePolled(),l.shift=t.shiftKey,Jr(l,t)){x||(l.scroller.draggable=!1,setTimeout(function(){return l.scroller.draggable=!0},100));return}if(!Ja(n,t)){var s=to(n,t),h=_e(t),y=s?Uc(s,h):"single";j(n).focus(),h==1&&n.state.selectingText&&n.state.selectingText(t),!(s&&Zc(n,h,s,y,t))&&(h==1?s?Ns(n,s,y,t):ue(t)==l.scroller&&Yt(t):h==2?(s&&Wa(n.doc,s),setTimeout(function(){return l.input.focus()},20)):h==3&&(ct?n.display.input.onContextMenu(t):Ra(n)))}}}function Zc(t,n,l,s,h){var y="Click";return s=="double"?y="Double"+y:s=="triple"&&(y="Triple"+y),y=(n==1?"Left":n==2?"Middle":"Right")+y,Ps(t,Su(y,h),h,function(k){if(typeof k=="string"&&(k=Rs[k]),!k)return!1;var T=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),T=k(t,l)!=Oe}finally{t.state.suppressEdits=!1}return T})}function Za(t,n,l){var s=t.getOption("configureMouse"),h=s?s(t,n,l):{};if(h.unit==null){var y=nt?l.shiftKey&&l.metaKey:l.altKey;h.unit=y?"rectangle":n=="single"?"char":n=="double"?"word":"line"}return(h.extend==null||t.doc.extend)&&(h.extend=t.doc.extend||l.shiftKey),h.addNew==null&&(h.addNew=U?l.metaKey:l.ctrlKey),h.moveOnDrag==null&&(h.moveOnDrag=!(U?l.altKey:l.ctrlKey)),h}function Ns(t,n,l,s){b?setTimeout(et($o,t),0):t.curOp.focus=ie(Ut(t));var h=Za(t,l,s),y=t.doc.sel,k;t.options.dragDrop&&on&&!t.isReadOnly()&&l=="single"&&(k=y.contains(n))>-1&&(Zt((k=y.ranges[k]).from(),n)<0||n.xRel>0)&&(Zt(k.to(),n)>0||n.xRel<0)?Dh(t,s,n,h):Jc(t,s,n,h)}function Dh(t,n,l,s){var h=t.display,y=!1,k=kn(t,function(L){x&&(h.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:Ra(t)),Ue(h.wrapper.ownerDocument,"mouseup",k),Ue(h.wrapper.ownerDocument,"mousemove",T),Ue(h.scroller,"dragstart",D),Ue(h.scroller,"drop",k),y||(Yt(L),s.addNew||Wa(t.doc,l,null,null,s.extend),x&&!I||b&&C==9?setTimeout(function(){h.wrapper.ownerDocument.body.focus({preventScroll:!0}),h.input.focus()},20):h.input.focus())}),T=function(L){y=y||Math.abs(n.clientX-L.clientX)+Math.abs(n.clientY-L.clientY)>=10},D=function(){return y=!0};x&&(h.scroller.draggable=!0),t.state.draggingText=k,k.copy=!s.moveOnDrag,ge(h.wrapper.ownerDocument,"mouseup",k),ge(h.wrapper.ownerDocument,"mousemove",T),ge(h.scroller,"dragstart",D),ge(h.scroller,"drop",k),t.state.delayingBlurEvent=!0,setTimeout(function(){return h.input.focus()},20),h.scroller.dragDrop&&h.scroller.dragDrop()}function Ou(t,n,l){if(l=="char")return new yn(n,n);if(l=="word")return t.findWordAt(n);if(l=="line")return new yn(bt(n.line,0),De(t.doc,bt(n.line+1,0)));var s=l(t,n);return new yn(s.from,s.to)}function Jc(t,n,l,s){b&&Ra(t);var h=t.display,y=t.doc;Yt(n);var k,T,D=y.sel,L=D.ranges;if(s.addNew&&!s.extend?(T=y.sel.contains(l),T>-1?k=L[T]:k=new yn(l,l)):(k=y.sel.primary(),T=y.sel.primIndex),s.unit=="rectangle")s.addNew||(k=new yn(l,l)),l=to(t,n,!0,!0),T=-1;else{var G=Ou(t,l,s.unit);s.extend?k=Ei(k,G.anchor,G.head,s.extend):k=G}s.addNew?T==-1?(T=L.length,Ri(y,zr(t,L.concat([k]),T),{scroll:!1,origin:"*mouse"})):L.length>1&&L[T].empty()&&s.unit=="char"&&!s.extend?(Ri(y,zr(t,L.slice(0,T).concat(L.slice(T+1)),0),{scroll:!1,origin:"*mouse"}),D=y.sel):Cr(y,T,k,we):(T=0,Ri(y,new Bn([k],0),we),D=y.sel);var Z=l;function lt(Vt){if(Zt(Z,Vt)!=0)if(Z=Vt,s.unit=="rectangle"){for(var re=[],be=t.options.tabSize,ve=At(de(y,l.line).text,l.ch,be),Fe=At(de(y,Vt.line).text,Vt.ch,be),Sn=Math.min(ve,Fe),Kn=Math.max(ve,Fe),Pn=Math.min(l.line,Vt.line),Yn=Math.min(t.lastLine(),Math.max(l.line,Vt.line));Pn<=Yn;Pn++){var ti=de(y,Pn).text,ei=ke(ti,Sn,be);Sn==Kn?re.push(new yn(bt(Pn,ei),bt(Pn,ei))):ti.length>ei&&re.push(new yn(bt(Pn,ei),bt(Pn,ke(ti,Kn,be))))}re.length||re.push(new yn(l,l)),Ri(y,zr(t,D.ranges.slice(0,T).concat(re),T),{origin:"*mouse",scroll:!1}),t.scrollIntoView(Vt)}else{var Gi=k,Ni=Ou(t,Vt,s.unit),fi=Gi.anchor,ni;Zt(Ni.anchor,fi)>0?(ni=Ni.head,fi=Zn(Gi.from(),Ni.anchor)):(ni=Ni.anchor,fi=Vn(Gi.to(),Ni.head));var jn=D.ranges.slice(0);jn[T]=El(t,new yn(De(y,fi),ni)),Ri(y,zr(t,jn,T),we)}}var ot=h.wrapper.getBoundingClientRect(),St=0;function Nt(Vt){var re=++St,be=to(t,Vt,!0,s.unit=="rectangle");if(be)if(Zt(be,Z)!=0){t.curOp.focus=ie(Ut(t)),lt(be);var ve=aa(h,y);(be.line>=ve.to||be.line<ve.from)&&setTimeout(kn(t,function(){St==re&&Nt(Vt)}),150)}else{var Fe=Vt.clientY<ot.top?-20:Vt.clientY>ot.bottom?20:0;Fe&&setTimeout(kn(t,function(){St==re&&(h.scroller.scrollTop+=Fe,Nt(Vt))}),50)}}function Gt(Vt){t.state.selectingText=!1,St=1/0,Vt&&(Yt(Vt),h.input.focus()),Ue(h.wrapper.ownerDocument,"mousemove",Jt),Ue(h.wrapper.ownerDocument,"mouseup",ee),y.history.lastSelOrigin=null}var Jt=kn(t,function(Vt){Vt.buttons===0||!_e(Vt)?Gt(Vt):Nt(Vt)}),ee=kn(t,Gt);t.state.selectingText=ee,ge(h.wrapper.ownerDocument,"mousemove",Jt),ge(h.wrapper.ownerDocument,"mouseup",ee)}function El(t,n){var l=n.anchor,s=n.head,h=de(t.doc,l.line);if(Zt(l,s)==0&&l.sticky==s.sticky)return n;var y=Me(h);if(!y)return n;var k=he(y,l.ch,l.sticky),T=y[k];if(T.from!=l.ch&&T.to!=l.ch)return n;var D=k+(T.from==l.ch==(T.level!=1)?0:1);if(D==0||D==y.length)return n;var L;if(s.line!=l.line)L=(s.line-l.line)*(t.doc.direction=="ltr"?1:-1)>0;else{var G=he(y,s.ch,s.sticky),Z=G-k||(s.ch-l.ch)*(T.level==1?-1:1);G==D-1||G==D?L=Z<0:L=Z>0}var lt=y[D+(L?-1:0)],ot=L==(lt.level==1),St=ot?lt.from:lt.to,Nt=ot?"after":"before";return l.ch==St&&l.sticky==Nt?n:new yn(new bt(l.line,St,Nt),s)}function Mu(t,n,l,s){var h,y;if(n.touches)h=n.touches[0].clientX,y=n.touches[0].clientY;else try{h=n.clientX,y=n.clientY}catch{return!1}if(h>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;s&&Yt(n);var k=t.display,T=k.lineDiv.getBoundingClientRect();if(y>T.bottom||!$t(t,l))return se(n);y-=T.top-k.viewOffset;for(var D=0;D<t.display.gutterSpecs.length;++D){var L=k.gutters.childNodes[D];if(L&&L.getBoundingClientRect().right>=h){var G=V(t.doc,y),Z=t.display.gutterSpecs[D];return dn(t,l,t,G,Z.className,n),se(n)}}}function Ja(t,n){return Mu(t,n,"gutterClick",!0)}function _l(t,n){Jr(t.display,n)||Sl(t,n)||ze(t,n,"contextmenu")||ct||t.display.input.onContextMenu(n)}function Sl(t,n){return $t(t,"gutterContextMenu")?Mu(t,n,"gutterContextMenu",!1):!1}function Qc(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),vs(t)}var ba={toString:function(){return"CodeMirror.Init"}},$s={},Is={};function Ru(t){var n=t.optionHandlers;function l(s,h,y,k){t.defaults[s]=h,y&&(n[s]=k?function(T,D,L){L!=ba&&y(T,D,L)}:y)}t.defineOption=l,t.Init=ba,l("value","",function(s,h){return s.setValue(h)},!0),l("mode",null,function(s,h){s.doc.modeOption=h,gu(s)},!0),l("indentUnit",2,gu,!0),l("indentWithTabs",!1),l("smartIndent",!0),l("tabSize",4,function(s){fa(s),vs(s),Zi(s)},!0),l("lineSeparator",null,function(s,h){if(s.doc.lineSep=h,!!h){var y=[],k=s.doc.first;s.doc.iter(function(D){for(var L=0;;){var G=D.text.indexOf(h,L);if(G==-1)break;L=G+h.length,y.push(bt(k,G))}k++});for(var T=y.length-1;T>=0;T--)da(s.doc,h,y[T],bt(y[T].line,y[T].ch+h.length))}}),l("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(s,h,y){s.state.specialChars=new RegExp(h.source+(h.test("	")?"":"|	"),"g"),y!=ba&&s.refresh()}),l("specialCharPlaceholder",Mo,function(s){return s.refresh()},!0),l("electricChars",!0),l("inputStyle",J?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),l("spellcheck",!1,function(s,h){return s.getInputField().spellcheck=h},!0),l("autocorrect",!1,function(s,h){return s.getInputField().autocorrect=h},!0),l("autocapitalize",!1,function(s,h){return s.getInputField().autocapitalize=h},!0),l("rtlMoveVisually",!gt),l("wholeLineUpdateBefore",!0),l("theme","default",function(s){Qc(s),Es(s)},!0),l("keyMap","default",function(s,h,y){var k=Ls(h),T=y!=ba&&Ls(y);T&&T.detach&&T.detach(s,k),k.attach&&k.attach(s,T||null)}),l("extraKeys",null),l("configureMouse",null),l("lineWrapping",!1,tf,!0),l("gutters",[],function(s,h){s.display.gutterSpecs=Ir(h,s.options.lineNumbers),Es(s)},!0),l("fixedGutter",!0,function(s,h){s.display.gutters.style.left=h?xn(s.display)+"px":"0",s.refresh()},!0),l("coverGutterNextToScrollbar",!1,function(s){return eo(s)},!0),l("scrollbarStyle","native",function(s){wc(s),eo(s),s.display.scrollbars.setScrollTop(s.doc.scrollTop),s.display.scrollbars.setScrollLeft(s.doc.scrollLeft)},!0),l("lineNumbers",!1,function(s,h){s.display.gutterSpecs=Ir(s.options.gutters,h),Es(s)},!0),l("firstLineNumber",1,Es,!0),l("lineNumberFormatter",function(s){return s},Es,!0),l("showCursorWhenSelecting",!1,No,!0),l("resetSelectionOnContextMenu",!0),l("lineWiseCopyCut",!0),l("pasteLinesPerSelection",!0),l("selectionsMayTouch",!1),l("readOnly",!1,function(s,h){h=="nocursor"&&(Pa(s),s.display.input.blur()),s.display.input.readOnlyChanged(h)}),l("screenReaderLabel",null,function(s,h){h=h===""?null:h,s.display.input.screenReaderLabelChanged(h)}),l("disableInput",!1,function(s,h){h||s.display.input.reset()},!0),l("dragDrop",!0,Ah),l("allowDropFileTypes",null),l("cursorBlinkRate",530),l("cursorScrollMargin",0),l("cursorHeight",1,No,!0),l("singleCursorHeightPerLine",!0,No,!0),l("workTime",100),l("workDelay",100),l("flattenSpans",!0,fa,!0),l("addModeClass",!1,fa,!0),l("pollInterval",100),l("undoDepth",200,function(s,h){return s.doc.history.undoDepth=h}),l("historyEventDelay",1250),l("viewportMargin",10,function(s){return s.refresh()},!0),l("maxHighlightLength",1e4,fa,!0),l("moveInputWithCursor",!0,function(s,h){h||s.display.input.resetPosition()}),l("tabindex",null,function(s,h){return s.display.input.getField().tabIndex=h||""}),l("autofocus",null),l("direction","ltr",function(s,h){return s.doc.setDirection(h)},!0),l("phrases",null)}function Ah(t,n,l){var s=l&&l!=ba;if(!n!=!s){var h=t.display.dragFunctions,y=n?ge:Ue;y(t.display.scroller,"dragstart",h.start),y(t.display.scroller,"dragenter",h.enter),y(t.display.scroller,"dragover",h.over),y(t.display.scroller,"dragleave",h.leave),y(t.display.scroller,"drop",h.drop)}}function tf(t){t.options.lineWrapping?(oe(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(It(t.display.wrapper,"CodeMirror-wrap"),tl(t)),sl(t),Zi(t),vs(t),setTimeout(function(){return eo(t)},100)}function mn(t,n){var l=this;if(!(this instanceof mn))return new mn(t,n);this.options=n=n?st(n):{},st($s,n,!1);var s=n.value;typeof s=="string"?s=new Xi(s,n.mode,null,n.lineSeparator,n.direction):n.mode&&(s.modeOption=n.mode),this.doc=s;var h=new mn.inputStyles[n.inputStyle](this),y=this.display=new gh(t,s,h,n);y.wrapper.CodeMirror=this,Qc(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),wc(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ht,keySeq:null,specialChars:null},n.autofocus&&!J&&y.input.focus(),b&&C<11&&setTimeout(function(){return l.display.input.reset(!0)},20),ef(this),Xc(),ua(this),this.curOp.forceUpdate=!0,mu(this,s),n.autofocus&&!J||this.hasFocus()?setTimeout(function(){l.hasFocus()&&!l.state.focused&&au(l)},20):Pa(this);for(var k in Is)Is.hasOwnProperty(k)&&Is[k](this,n[k],ba);Ec(this),n.finishInit&&n.finishInit(this);for(var T=0;T<Tl.length;++T)Tl[T](this);ca(this),x&&n.lineWrapping&&getComputedStyle(y.lineDiv).textRendering=="optimizelegibility"&&(y.lineDiv.style.textRendering="auto")}mn.defaults=$s,mn.optionHandlers=Is;function ef(t){var n=t.display;ge(n.scroller,"mousedown",kn(t,Vc)),b&&C<11?ge(n.scroller,"dblclick",kn(t,function(D){if(!ze(t,D)){var L=to(t,D);if(!(!L||Ja(t,D)||Jr(t.display,D))){Yt(D);var G=t.findWordAt(L);Wa(t.doc,G.anchor,G.head)}}})):ge(n.scroller,"dblclick",function(D){return ze(t,D)||Yt(D)}),ge(n.scroller,"contextmenu",function(D){return _l(t,D)}),ge(n.input.getField(),"contextmenu",function(D){n.scroller.contains(D.target)||_l(t,D)});var l,s={end:0};function h(){n.activeTouch&&(l=setTimeout(function(){return n.activeTouch=null},1e3),s=n.activeTouch,s.end=+new Date)}function y(D){if(D.touches.length!=1)return!1;var L=D.touches[0];return L.radiusX<=1&&L.radiusY<=1}function k(D,L){if(L.left==null)return!0;var G=L.left-D.left,Z=L.top-D.top;return G*G+Z*Z>400}ge(n.scroller,"touchstart",function(D){if(!ze(t,D)&&!y(D)&&!Ja(t,D)){n.input.ensurePolled(),clearTimeout(l);var L=+new Date;n.activeTouch={start:L,moved:!1,prev:L-s.end<=300?s:null},D.touches.length==1&&(n.activeTouch.left=D.touches[0].pageX,n.activeTouch.top=D.touches[0].pageY)}}),ge(n.scroller,"touchmove",function(){n.activeTouch&&(n.activeTouch.moved=!0)}),ge(n.scroller,"touchend",function(D){var L=n.activeTouch;if(L&&!Jr(n,D)&&L.left!=null&&!L.moved&&new Date-L.start<300){var G=t.coordsChar(n.activeTouch,"page"),Z;!L.prev||k(L,L.prev)?Z=new yn(G,G):!L.prev.prev||k(L,L.prev.prev)?Z=t.findWordAt(G):Z=new yn(bt(G.line,0),De(t.doc,bt(G.line+1,0))),t.setSelection(Z.anchor,Z.head),t.focus(),Yt(D)}h()}),ge(n.scroller,"touchcancel",h),ge(n.scroller,"scroll",function(){n.scroller.clientHeight&&(ws(t,n.scroller.scrollTop),Nr(t,n.scroller.scrollLeft,!0),dn(t,"scroll",t))}),ge(n.scroller,"mousewheel",function(D){return Sc(t,D)}),ge(n.scroller,"DOMMouseScroll",function(D){return Sc(t,D)}),ge(n.wrapper,"scroll",function(){return n.wrapper.scrollTop=n.wrapper.scrollLeft=0}),n.dragFunctions={enter:function(D){ze(t,D)||We(D)},over:function(D){ze(t,D)||(qe(t,D),We(D))},start:function(D){return _u(t,D)},drop:kn(t,xh),leave:function(D){ze(t,D)||Yc(t)}};var T=n.input.getField();ge(T,"keyup",function(D){return Hr.call(t,D)}),ge(T,"keydown",kn(t,Lu)),ge(T,"keypress",kn(t,Kc)),ge(T,"focus",function(D){return au(t,D)}),ge(T,"blur",function(D){return Pa(t,D)})}var Tl=[];mn.defineInitHook=function(t){return Tl.push(t)};function zs(t,n,l,s){var h=t.doc,y;l==null&&(l="add"),l=="smart"&&(h.mode.indent?y=q(t,n).state:l="prev");var k=t.options.tabSize,T=de(h,n),D=At(T.text,null,k);T.stateAfter&&(T.stateAfter=null);var L=T.text.match(/^\s*/)[0],G;if(!s&&!/\S/.test(T.text))G=0,l="not";else if(l=="smart"&&(G=h.mode.indent(y,T.text.slice(L.length),T.text),G==Oe||G>150)){if(!s)return;l="prev"}l=="prev"?n>h.first?G=At(de(h,n-1).text,null,k):G=0:l=="add"?G=D+t.options.indentUnit:l=="subtract"?G=D-t.options.indentUnit:typeof l=="number"&&(G=D+l),G=Math.max(0,G);var Z="",lt=0;if(t.options.indentWithTabs)for(var ot=Math.floor(G/k);ot;--ot)lt+=k,Z+="	";if(lt<G&&(Z+=rn(G-lt)),Z!=L)return da(h,Z,bt(n,0),bt(n,L.length),"+input"),T.stateAfter=null,!0;for(var St=0;St<h.sel.ranges.length;St++){var Nt=h.sel.ranges[St];if(Nt.head.line==n&&Nt.head.ch<L.length){var Gt=bt(n,L.length);Cr(h,St,new yn(Gt,Gt));break}}}var kr=null;function Dl(t){kr=t}function Pu(t,n,l,s,h){var y=t.doc;t.display.shift=!1,s||(s=y.sel);var k=+new Date-200,T=h=="paste"||t.state.pasteIncoming>k,D=Xe(n),L=null;if(T&&s.ranges.length>1)if(kr&&kr.text.join(`
`)==n){if(s.ranges.length%kr.text.length==0){L=[];for(var G=0;G<kr.text.length;G++)L.push(y.splitLines(kr.text[G]))}}else D.length==s.ranges.length&&t.options.pasteLinesPerSelection&&(L=Ee(D,function(Jt){return[Jt]}));for(var Z=t.curOp.updateInput,lt=s.ranges.length-1;lt>=0;lt--){var ot=s.ranges[lt],St=ot.from(),Nt=ot.to();ot.empty()&&(l&&l>0?St=bt(St.line,St.ch-l):t.state.overwrite&&!T?Nt=bt(Nt.line,Math.min(de(y,Nt.line).text.length,Nt.ch+le(D).length)):T&&kr&&kr.lineWise&&kr.text.join(`
`)==D.join(`
`)&&(St=Nt=bt(St.line,0)));var Gt={from:St,to:Nt,text:L?L[lt%L.length]:D,origin:h||(T?"paste":t.state.cutIncoming>k?"cut":"+input")};Ya(t.doc,Gt),In(t,"inputRead",t,Gt)}n&&!T&&Al(t,n),zn(t),t.curOp.updateInput<2&&(t.curOp.updateInput=Z),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function oo(t,n){var l=t.clipboardData&&t.clipboardData.getData("Text");if(l)return t.preventDefault(),!n.isReadOnly()&&!n.options.disableInput&&n.hasFocus()&&Bi(n,function(){return Pu(n,l,0,null,"paste")}),!0}function Al(t,n){if(!(!t.options.electricChars||!t.options.smartIndent))for(var l=t.doc.sel,s=l.ranges.length-1;s>=0;s--){var h=l.ranges[s];if(!(h.head.ch>100||s&&l.ranges[s-1].head.line==h.head.line)){var y=t.getModeAt(h.head),k=!1;if(y.electricChars){for(var T=0;T<y.electricChars.length;T++)if(n.indexOf(y.electricChars.charAt(T))>-1){k=zs(t,h.head.line,"smart");break}}else y.electricInput&&y.electricInput.test(de(t.doc,h.head.line).text.slice(0,h.head.ch))&&(k=zs(t,h.head.line,"smart"));k&&In(t,"electricInput",t,h.head.line)}}}function Ll(t){for(var n=[],l=[],s=0;s<t.doc.sel.ranges.length;s++){var h=t.doc.sel.ranges[s].head.line,y={anchor:bt(h,0),head:bt(h+1,0)};l.push(y),n.push(t.getRange(y.anchor,y.head))}return{text:n,ranges:l}}function Ws(t,n,l,s){t.setAttribute("autocorrect",l?"on":"off"),t.setAttribute("autocapitalize",s?"on":"off"),t.setAttribute("spellcheck",!!n)}function Fs(){var t=M("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),n=M("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return x?t.style.width="1000px":t.setAttribute("wrap","off"),H&&(t.style.border="1px solid black"),n}function Qa(t){var n=t.optionHandlers,l=t.helpers={};t.prototype={constructor:t,focus:function(){j(this).focus(),this.display.input.focus()},setOption:function(s,h){var y=this.options,k=y[s];y[s]==h&&s!="mode"||(y[s]=h,n.hasOwnProperty(s)&&kn(this,n[s])(this,h,k),dn(this,"optionChange",this,s))},getOption:function(s){return this.options[s]},getDoc:function(){return this.doc},addKeyMap:function(s,h){this.state.keyMaps[h?"push":"unshift"](Ls(s))},removeKeyMap:function(s){for(var h=this.state.keyMaps,y=0;y<h.length;++y)if(h[y]==s||h[y].name==s)return h.splice(y,1),!0},addOverlay:Le(function(s,h){var y=s.token?s:t.getMode(this.options,s);if(y.startState)throw new Error("Overlays may not be stateful.");ft(this.state.overlays,{mode:y,modeSpec:s,opaque:h&&h.opaque,priority:h&&h.priority||0},function(k){return k.priority}),this.state.modeGen++,Zi(this)}),removeOverlay:Le(function(s){for(var h=this.state.overlays,y=0;y<h.length;++y){var k=h[y].modeSpec;if(k==s||typeof s=="string"&&k.name==s){h.splice(y,1),this.state.modeGen++,Zi(this);return}}}),indentLine:Le(function(s,h,y){typeof h!="string"&&typeof h!="number"&&(h==null?h=this.options.smartIndent?"smart":"prev":h=h?"add":"subtract"),Dt(this.doc,s)&&zs(this,s,h,y)}),indentSelection:Le(function(s){for(var h=this.doc.sel.ranges,y=-1,k=0;k<h.length;k++){var T=h[k];if(T.empty())T.head.line>y&&(zs(this,T.head.line,s,!0),y=T.head.line,k==this.doc.sel.primIndex&&zn(this));else{var D=T.from(),L=T.to(),G=Math.max(y,D.line);y=Math.min(this.lastLine(),L.line-(L.ch?0:1))+1;for(var Z=G;Z<y;++Z)zs(this,Z,s);var lt=this.doc.sel.ranges;D.ch==0&&h.length==lt.length&&lt[k].from().ch>0&&Cr(this.doc,k,new yn(D,lt[k].to()),me)}}}),getTokenAt:function(s,h){return Ot(this,s,h)},getLineTokens:function(s,h){return Ot(this,bt(s),h,!0)},getTokenTypeAt:function(s){s=De(this.doc,s);var h=W(this,de(this.doc,s.line)),y=0,k=(h.length-1)/2,T=s.ch,D;if(T==0)D=h[2];else for(;;){var L=y+k>>1;if((L?h[L*2-1]:0)>=T)k=L;else if(h[L*2+1]<T)y=L+1;else{D=h[L*2+2];break}}var G=D?D.indexOf("overlay "):-1;return G<0?D:G==0?null:D.slice(0,G-1)},getModeAt:function(s){var h=this.doc.mode;return h.innerMode?t.innerMode(h,this.getTokenAt(s).state).mode:h},getHelper:function(s,h){return this.getHelpers(s,h)[0]},getHelpers:function(s,h){var y=[];if(!l.hasOwnProperty(h))return y;var k=l[h],T=this.getModeAt(s);if(typeof T[h]=="string")k[T[h]]&&y.push(k[T[h]]);else if(T[h])for(var D=0;D<T[h].length;D++){var L=k[T[h][D]];L&&y.push(L)}else T.helperType&&k[T.helperType]?y.push(k[T.helperType]):k[T.name]&&y.push(k[T.name]);for(var G=0;G<k._global.length;G++){var Z=k._global[G];Z.pred(T,this)&&zt(y,Z.val)==-1&&y.push(Z.val)}return y},getStateAfter:function(s,h){var y=this.doc;return s=Lo(y,s??y.first+y.size-1),q(this,s+1,h).state},cursorCoords:function(s,h){var y,k=this.doc.sel.primary();return s==null?y=k.head:typeof s=="object"?y=De(this.doc,s):y=s?k.from():k.to(),wt(this,y,h||"page")},charCoords:function(s,h){return Rt(this,De(this.doc,s),h||"page")},coordsChar:function(s,h){return s=ut(this,s,h||"page"),gn(this,s.left,s.top)},lineAtHeight:function(s,h){return s=ut(this,{top:s,left:0},h||"page").top,V(this.doc,s+this.display.viewOffset)},heightAtLine:function(s,h,y){var k=!1,T;if(typeof s=="number"){var D=this.doc.first+this.doc.size-1;s<this.doc.first?s=this.doc.first:s>D&&(s=D,k=!0),T=de(this.doc,s)}else T=s;return vo(this,T,{top:0,left:0},h||"page",y||k).top+(k?this.doc.height-Zr(T):0)},defaultTextHeight:function(){return Mr(this.display)},defaultCharWidth:function(){return bo(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(s,h,y,k,T){var D=this.display;s=wt(this,De(this.doc,s));var L=s.bottom,G=s.left;if(h.style.position="absolute",h.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(h),D.sizer.appendChild(h),k=="over")L=s.top;else if(k=="above"||k=="near"){var Z=Math.max(D.wrapper.clientHeight,this.doc.height),lt=Math.max(D.sizer.clientWidth,D.lineSpace.clientWidth);(k=="above"||s.bottom+h.offsetHeight>Z)&&s.top>h.offsetHeight?L=s.top-h.offsetHeight:s.bottom+h.offsetHeight<=Z&&(L=s.bottom),G+h.offsetWidth>lt&&(G=lt-h.offsetWidth)}h.style.top=L+"px",h.style.left=h.style.right="",T=="right"?(G=D.sizer.clientWidth-h.offsetWidth,h.style.right="0px"):(T=="left"?G=0:T=="middle"&&(G=(D.sizer.clientWidth-h.offsetWidth)/2),h.style.left=G+"px"),y&&yc(this,{left:G,top:L,right:G+h.offsetWidth,bottom:L+h.offsetHeight})},triggerOnKeyDown:Le(Lu),triggerOnKeyPress:Le(Kc),triggerOnKeyUp:Hr,triggerOnMouseDown:Le(Vc),execCommand:function(s){if(Rs.hasOwnProperty(s))return Rs[s].call(null,this)},triggerElectric:Le(function(s){Al(this,s)}),findPosH:function(s,h,y,k){var T=1;h<0&&(T=-1,h=-h);for(var D=De(this.doc,s),L=0;L<h&&(D=Ae(this.doc,D,T,y,k),!D.hitSide);++L);return D},moveH:Le(function(s,h){var y=this;this.extendSelectionsBy(function(k){return y.display.shift||y.doc.extend||k.empty()?Ae(y.doc,k.head,s,h,y.options.rtlMoveVisually):s<0?k.from():k.to()},fe)}),deleteH:Le(function(s,h){var y=this.doc.sel,k=this.doc;y.somethingSelected()?k.replaceSelection("",null,"+delete"):Yo(this,function(T){var D=Ae(k,T.head,s,h,!1);return s<0?{from:D,to:T.head}:{from:T.head,to:D}})}),findPosV:function(s,h,y,k){var T=1,D=k;h<0&&(T=-1,h=-h);for(var L=De(this.doc,s),G=0;G<h;++G){var Z=wt(this,L,"div");if(D==null?D=Z.left:Z.left=D,L=Hs(this,Z,T,y),L.hitSide)break}return L},moveV:Le(function(s,h){var y=this,k=this.doc,T=[],D=!this.display.shift&&!k.extend&&k.sel.somethingSelected();if(k.extendSelectionsBy(function(G){if(D)return s<0?G.from():G.to();var Z=wt(y,G.head,"div");G.goalColumn!=null&&(Z.left=G.goalColumn),T.push(Z.left);var lt=Hs(y,Z,s,h);return h=="page"&&G==k.sel.primary()&&uu(y,Rt(y,lt,"div").top-Z.top),lt},fe),T.length)for(var L=0;L<k.sel.ranges.length;L++)k.sel.ranges[L].goalColumn=T[L]}),findWordAt:function(s){var h=this.doc,y=de(h,s.line).text,k=s.ch,T=s.ch;if(y){var D=this.getHelper(s,"wordChars");(s.sticky=="before"||T==y.length)&&k?--k:++T;for(var L=y.charAt(k),G=Xn(L,D)?function(Z){return Xn(Z,D)}:/\s/.test(L)?function(Z){return/\s/.test(Z)}:function(Z){return!/\s/.test(Z)&&!Xn(Z)};k>0&&G(y.charAt(k-1));)--k;for(;T<y.length&&G(y.charAt(T));)++T}return new yn(bt(s.line,k),bt(s.line,T))},toggleOverwrite:function(s){s!=null&&s==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?oe(this.display.cursorDiv,"CodeMirror-overwrite"):It(this.display.cursorDiv,"CodeMirror-overwrite"),dn(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ie(Ut(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Le(function(s,h){ci(this,s,h)}),getScrollInfo:function(){var s=this.display.scroller;return{left:s.scrollLeft,top:s.scrollTop,height:s.scrollHeight-Qr(this)-this.display.barHeight,width:s.scrollWidth-Qr(this)-this.display.barWidth,clientHeight:eu(this),clientWidth:ea(this)}},scrollIntoView:Le(function(s,h){s==null?(s={from:this.doc.sel.primary().head,to:null},h==null&&(h=this.options.cursorScrollMargin)):typeof s=="number"?s={from:bt(s,0),to:null}:s.from==null&&(s={from:s,to:null}),s.to||(s.to=s.from),s.margin=h||0,s.from.line!=null?sh(this,s):cu(this,s.from,s.to,s.margin)}),setSize:Le(function(s,h){var y=this,k=function(D){return typeof D=="number"||/^\d+$/.test(String(D))?D+"px":D};s!=null&&(this.display.wrapper.style.width=k(s)),h!=null&&(this.display.wrapper.style.height=k(h)),this.options.lineWrapping&&pc(this);var T=this.display.viewFrom;this.doc.iter(T,this.display.viewTo,function(D){if(D.widgets){for(var L=0;L<D.widgets.length;L++)if(D.widgets[L].noHScroll){Po(y,T,"widget");break}}++T}),this.curOp.forceUpdate=!0,dn(this,"refresh",this)}),operation:function(s){return Bi(this,s)},startOperation:function(){return ua(this)},endOperation:function(){return ca(this)},refresh:Le(function(){var s=this.display.cachedTextHeight;Zi(this),this.curOp.forceUpdate=!0,vs(this),ci(this,this.doc.scrollLeft,this.doc.scrollTop),hu(this.display),(s==null||Math.abs(s-Mr(this.display))>.5||this.options.lineWrapping)&&sl(this),dn(this,"refresh",this)}),swapDoc:Le(function(s){var h=this.doc;return h.cm=null,this.state.selectingText&&this.state.selectingText(),mu(this,s),vs(this),this.display.input.reset(),ci(this,s.scrollLeft,s.scrollTop),this.curOp.forceScroll=!0,In(this,"swapDoc",this,h),h}),phrase:function(s){var h=this.options.phrases;return h&&Object.prototype.hasOwnProperty.call(h,s)?h[s]:s},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Et(t),t.registerHelper=function(s,h,y){l.hasOwnProperty(s)||(l[s]=t[s]={_global:[]}),l[s][h]=y},t.registerGlobalHelper=function(s,h,y,k){t.registerHelper(s,h,k),l[s]._global.push({pred:y,val:k})}}function Ae(t,n,l,s,h){var y=n,k=l,T=de(t,n.line),D=h&&t.direction=="rtl"?-l:l;function L(){var ee=n.line+D;return ee<t.first||ee>=t.first+t.size?!1:(n=new bt(ee,n.ch,n.sticky),T=de(t,ee))}function G(ee){var Vt;if(s=="codepoint"){var re=T.text.charCodeAt(n.ch+(l>0?0:-1));if(isNaN(re))Vt=null;else{var be=l>0?re>=55296&&re<56320:re>=56320&&re<57343;Vt=new bt(n.line,Math.max(0,Math.min(T.text.length,n.ch+l*(be?2:1))),-l)}}else h?Vt=jo(t.cm,T,n,l):Vt=Os(T,n,l);if(Vt==null)if(!ee&&L())n=Ms(h,t.cm,T,n.line,D);else return!1;else n=Vt;return!0}if(s=="char"||s=="codepoint")G();else if(s=="column")G(!0);else if(s=="word"||s=="group")for(var Z=null,lt=s=="group",ot=t.cm&&t.cm.getHelper(n,"wordChars"),St=!0;!(l<0&&!G(!St));St=!1){var Nt=T.text.charAt(n.ch)||`
`,Gt=Xn(Nt,ot)?"w":lt&&Nt==`
`?"n":!lt||/\s/.test(Nt)?null:"p";if(lt&&!St&&!Gt&&(Gt="s"),Z&&Z!=Gt){l<0&&(l=1,G(),n.sticky="after");break}if(Gt&&(Z=Gt),l>0&&!G(!St))break}var Jt=Ha(t,n,y,k,!0);return Ge(y,Jt)&&(Jt.hitSide=!0),Jt}function Hs(t,n,l,s){var h=t.doc,y=n.left,k;if(s=="page"){var T=Math.min(t.display.wrapper.clientHeight,j(t).innerHeight||h(t).documentElement.clientHeight),D=Math.max(T-.5*Mr(t.display),3);k=(l>0?n.bottom:n.top)+l*D}else s=="line"&&(k=l>0?n.bottom+3:n.top-3);for(var L;L=gn(t,y,k),!!L.outside;){if(l<0?k<=0:k>=h.height){L.hitSide=!0;break}k+=l*5}return L}var wn=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ht,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};wn.prototype.init=function(t){var n=this,l=this,s=l.cm,h=l.div=t.lineDiv;h.contentEditable=!0,Ws(h,s.options.spellcheck,s.options.autocorrect,s.options.autocapitalize);function y(T){for(var D=T.target;D;D=D.parentNode){if(D==h)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(D.className))break}return!1}ge(h,"paste",function(T){!y(T)||ze(s,T)||oo(T,s)||C<=11&&setTimeout(kn(s,function(){return n.updateFromDOM()}),20)}),ge(h,"compositionstart",function(T){n.composing={data:T.data,done:!1}}),ge(h,"compositionupdate",function(T){n.composing||(n.composing={data:T.data,done:!1})}),ge(h,"compositionend",function(T){n.composing&&(T.data!=n.composing.data&&n.readFromDOMSoon(),n.composing.done=!0)}),ge(h,"touchstart",function(){return l.forceCompositionEnd()}),ge(h,"input",function(){n.composing||n.readFromDOMSoon()});function k(T){if(!(!y(T)||ze(s,T))){if(s.somethingSelected())Dl({lineWise:!1,text:s.getSelections()}),T.type=="cut"&&s.replaceSelection("",null,"cut");else if(s.options.lineWiseCopyCut){var D=Ll(s);Dl({lineWise:!0,text:D.text}),T.type=="cut"&&s.operation(function(){s.setSelections(D.ranges,0,me),s.replaceSelection("",null,"cut")})}else return;if(T.clipboardData){T.clipboardData.clearData();var L=kr.text.join(`
`);if(T.clipboardData.setData("Text",L),T.clipboardData.getData("Text")==L){T.preventDefault();return}}var G=Fs(),Z=G.firstChild;Ws(Z),s.display.lineSpace.insertBefore(G,s.display.lineSpace.firstChild),Z.value=kr.text.join(`
`);var lt=ie(Qt(h));yt(Z),setTimeout(function(){s.display.lineSpace.removeChild(G),lt.focus(),lt==h&&l.showPrimarySelection()},50)}}ge(h,"copy",k),ge(h,"cut",k)},wn.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},wn.prototype.prepareSelection=function(){var t=ou(this.cm,!1);return t.focus=ie(Qt(this.div))==this.div,t},wn.prototype.showSelection=function(t,n){!t||!this.cm.display.view.length||((t.focus||n)&&this.showPrimarySelection(),this.showMultipleSelections(t))},wn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},wn.prototype.showPrimarySelection=function(){var t=this.getSelection(),n=this.cm,l=n.doc.sel.primary(),s=l.from(),h=l.to();if(n.display.viewTo==n.display.viewFrom||s.line>=n.display.viewTo||h.line<n.display.viewFrom){t.removeAllRanges();return}var y=Si(n,t.anchorNode,t.anchorOffset),k=Si(n,t.focusNode,t.focusOffset);if(!(y&&!y.bad&&k&&!k.bad&&Zt(Zn(y,k),s)==0&&Zt(Vn(y,k),h)==0)){var T=n.display.view,D=s.line>=n.display.viewFrom&&Xo(n,s)||{node:T[0].measure.map[2],offset:0},L=h.line<n.display.viewTo&&Xo(n,h);if(!L){var G=T[T.length-1].measure,Z=G.maps?G.maps[G.maps.length-1]:G.map;L={node:Z[Z.length-1],offset:Z[Z.length-2]-Z[Z.length-3]}}if(!D||!L){t.removeAllRanges();return}var lt=t.rangeCount&&t.getRangeAt(0),ot;try{ot=vt(D.node,D.offset,L.offset,L.node)}catch{}ot&&(!d&&n.state.focused?(t.collapse(D.node,D.offset),ot.collapsed||(t.removeAllRanges(),t.addRange(ot))):(t.removeAllRanges(),t.addRange(ot)),lt&&t.anchorNode==null?t.addRange(lt):d&&this.startGracePeriod()),this.rememberSelection()}},wn.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},wn.prototype.showMultipleSelections=function(t){Tt(this.cm.display.cursorDiv,t.cursors),Tt(this.cm.display.selectionDiv,t.selection)},wn.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},wn.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var n=t.getRangeAt(0).commonAncestorContainer;return Kt(this.div,n)},wn.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ie(Qt(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},wn.prototype.blur=function(){this.div.blur()},wn.prototype.getField=function(){return this.div},wn.prototype.supportsTouch=function(){return!0},wn.prototype.receivedFocus=function(){var t=this,n=this;this.selectionInEditor()?setTimeout(function(){return t.pollSelection()},20):Bi(this.cm,function(){return n.cm.curOp.selectionChanged=!0});function l(){n.cm.state.focused&&(n.pollSelection(),n.polling.set(n.cm.options.pollInterval,l))}this.polling.set(this.cm.options.pollInterval,l)},wn.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},wn.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var t=this.getSelection(),n=this.cm;if(K&&O&&this.cm.display.gutterSpecs.length&&Lh(t.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var l=Si(n,t.anchorNode,t.anchorOffset),s=Si(n,t.focusNode,t.focusOffset);l&&s&&Bi(n,function(){Ri(n.doc,zo(l,s),me),(l.bad||s.bad)&&(n.curOp.selectionChanged=!0)})}}},wn.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t=this.cm,n=t.display,l=t.doc.sel.primary(),s=l.from(),h=l.to();if(s.ch==0&&s.line>t.firstLine()&&(s=bt(s.line-1,de(t.doc,s.line-1).length)),h.ch==de(t.doc,h.line).text.length&&h.line<t.lastLine()&&(h=bt(h.line+1,0)),s.line<n.viewFrom||h.line>n.viewTo-1)return!1;var y,k,T;s.line==n.viewFrom||(y=ia(t,s.line))==0?(k=P(n.view[0].line),T=n.view[0].node):(k=P(n.view[y].line),T=n.view[y-1].node.nextSibling);var D=ia(t,h.line),L,G;if(D==n.view.length-1?(L=n.viewTo-1,G=n.lineDiv.lastChild):(L=P(n.view[D+1].line)-1,G=n.view[D+1].node.previousSibling),!T)return!1;for(var Z=t.doc.splitLines(nf(t,T,G,k,L)),lt=Vi(t.doc,bt(k,0),bt(L,de(t.doc,L).text.length));Z.length>1&&lt.length>1;)if(le(Z)==le(lt))Z.pop(),lt.pop(),L--;else if(Z[0]==lt[0])Z.shift(),lt.shift(),k++;else break;for(var ot=0,St=0,Nt=Z[0],Gt=lt[0],Jt=Math.min(Nt.length,Gt.length);ot<Jt&&Nt.charCodeAt(ot)==Gt.charCodeAt(ot);)++ot;for(var ee=le(Z),Vt=le(lt),re=Math.min(ee.length-(Z.length==1?ot:0),Vt.length-(lt.length==1?ot:0));St<re&&ee.charCodeAt(ee.length-St-1)==Vt.charCodeAt(Vt.length-St-1);)++St;if(Z.length==1&&lt.length==1&&k==s.line)for(;ot&&ot>s.ch&&ee.charCodeAt(ee.length-St-1)==Vt.charCodeAt(Vt.length-St-1);)ot--,St++;Z[Z.length-1]=ee.slice(0,ee.length-St).replace(/^\u200b+/,""),Z[0]=Z[0].slice(ot).replace(/\u200b+$/,"");var be=bt(k,ot),ve=bt(L,lt.length?le(lt).length-St:0);if(Z.length>1||Z[0]||Zt(be,ve))return da(t.doc,Z,be,ve,"+input"),!0},wn.prototype.ensurePolled=function(){this.forceCompositionEnd()},wn.prototype.reset=function(){this.forceCompositionEnd()},wn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},wn.prototype.readFromDOMSoon=function(){var t=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing)if(t.composing.done)t.composing=null;else return;t.updateFromDOM()},80))},wn.prototype.updateFromDOM=function(){var t=this;(this.cm.isReadOnly()||!this.pollContent())&&Bi(this.cm,function(){return Zi(t.cm)})},wn.prototype.setUneditable=function(t){t.contentEditable="false"},wn.prototype.onKeyPress=function(t){t.charCode==0||this.composing||(t.preventDefault(),this.cm.isReadOnly()||kn(this.cm,Pu)(this.cm,String.fromCharCode(t.charCode==null?t.keyCode:t.charCode),0))},wn.prototype.readOnlyChanged=function(t){this.div.contentEditable=String(t!="nocursor")},wn.prototype.onContextMenu=function(){},wn.prototype.resetPosition=function(){},wn.prototype.needsContentAttribute=!0;function Xo(t,n){var l=ol(t,n.line);if(!l||l.hidden)return null;var s=de(t.doc,n.line),h=fc(l,s,n.line),y=Me(s,t.doc.direction),k="left";if(y){var T=he(y,n.ch);k=T%2?"right":"left"}var D=dc(h.map,n.ch,k);return D.offset=D.collapse=="right"?D.end:D.start,D}function Lh(t){for(var n=t;n;n=n.parentNode)if(/CodeMirror-gutter-wrapper/.test(n.className))return!0;return!1}function Go(t,n){return n&&(t.bad=!0),t}function nf(t,n,l,s,h){var y="",k=!1,T=t.doc.lineSeparator(),D=!1;function L(ot){return function(St){return St.id==ot}}function G(){k&&(y+=T,D&&(y+=T),k=D=!1)}function Z(ot){ot&&(G(),y+=ot)}function lt(ot){if(ot.nodeType==1){var St=ot.getAttribute("cm-text");if(St){Z(St);return}var Nt=ot.getAttribute("cm-marker"),Gt;if(Nt){var Jt=t.findMarks(bt(s,0),bt(h+1,0),L(+Nt));Jt.length&&(Gt=Jt[0].find(0))&&Z(Vi(t.doc,Gt.from,Gt.to).join(T));return}if(ot.getAttribute("contenteditable")=="false")return;var ee=/^(pre|div|p|li|table|br)$/i.test(ot.nodeName);if(!/^br$/i.test(ot.nodeName)&&ot.textContent.length==0)return;ee&&G();for(var Vt=0;Vt<ot.childNodes.length;Vt++)lt(ot.childNodes[Vt]);/^(pre|p)$/i.test(ot.nodeName)&&(D=!0),ee&&(k=!0)}else ot.nodeType==3&&Z(ot.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;lt(n),n!=l;)n=n.nextSibling,D=!1;return y}function Si(t,n,l){var s;if(n==t.display.lineDiv){if(s=t.display.lineDiv.childNodes[l],!s)return Go(t.clipPos(bt(t.display.viewTo-1)),!0);n=null,l=0}else for(s=n;;s=s.parentNode){if(!s||s==t.display.lineDiv)return null;if(s.parentNode&&s.parentNode==t.display.lineDiv)break}for(var h=0;h<t.display.view.length;h++){var y=t.display.view[h];if(y.node==s)return Oh(y,n,l)}}function Oh(t,n,l){var s=t.text.firstChild,h=!1;if(!n||!Kt(s,n))return Go(bt(P(t.line),0),!0);if(n==s&&(h=!0,n=s.childNodes[l],l=0,!n)){var y=t.rest?le(t.rest):t.line;return Go(bt(P(y),y.text.length),h)}var k=n.nodeType==3?n:null,T=n;for(!k&&n.childNodes.length==1&&n.firstChild.nodeType==3&&(k=n.firstChild,l&&(l=k.nodeValue.length));T.parentNode!=s;)T=T.parentNode;var D=t.measure,L=D.maps;function G(Gt,Jt,ee){for(var Vt=-1;Vt<(L?L.length:0);Vt++)for(var re=Vt<0?D.map:L[Vt],be=0;be<re.length;be+=3){var ve=re[be+2];if(ve==Gt||ve==Jt){var Fe=P(Vt<0?t.line:t.rest[Vt]),Sn=re[be]+ee;return(ee<0||ve!=Gt)&&(Sn=re[be+(ee?1:0)]),bt(Fe,Sn)}}}var Z=G(k,T,l);if(Z)return Go(Z,h);for(var lt=T.nextSibling,ot=k?k.nodeValue.length-l:0;lt;lt=lt.nextSibling){if(Z=G(lt,lt.firstChild,0),Z)return Go(bt(Z.line,Z.ch-ot),h);ot+=lt.textContent.length}for(var St=T.previousSibling,Nt=l;St;St=St.previousSibling){if(Z=G(St,St.firstChild,-1),Z)return Go(bt(Z.line,Z.ch+Nt),h);Nt+=St.textContent.length}}var qn=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new Ht,this.hasSelection=!1,this.composing=null,this.resetting=!1};qn.prototype.init=function(t){var n=this,l=this,s=this.cm;this.createField(t);var h=this.textarea;t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),H&&(h.style.width="0px"),ge(h,"input",function(){b&&C>=9&&n.hasSelection&&(n.hasSelection=null),l.poll()}),ge(h,"paste",function(k){ze(s,k)||oo(k,s)||(s.state.pasteIncoming=+new Date,l.fastPoll())});function y(k){if(!ze(s,k)){if(s.somethingSelected())Dl({lineWise:!1,text:s.getSelections()});else if(s.options.lineWiseCopyCut){var T=Ll(s);Dl({lineWise:!0,text:T.text}),k.type=="cut"?s.setSelections(T.ranges,null,me):(l.prevInput="",h.value=T.text.join(`
`),yt(h))}else return;k.type=="cut"&&(s.state.cutIncoming=+new Date)}}ge(h,"cut",y),ge(h,"copy",y),ge(t.scroller,"paste",function(k){if(!(Jr(t,k)||ze(s,k))){if(!h.dispatchEvent){s.state.pasteIncoming=+new Date,l.focus();return}var T=new Event("paste");T.clipboardData=k.clipboardData,h.dispatchEvent(T)}}),ge(t.lineSpace,"selectstart",function(k){Jr(t,k)||Yt(k)}),ge(h,"compositionstart",function(){var k=s.getCursor("from");l.composing&&l.composing.range.clear(),l.composing={start:k,range:s.markText(k,s.getCursor("to"),{className:"CodeMirror-composing"})}}),ge(h,"compositionend",function(){l.composing&&(l.poll(),l.composing.range.clear(),l.composing=null)})},qn.prototype.createField=function(t){this.wrapper=Fs(),this.textarea=this.wrapper.firstChild;var n=this.cm.options;Ws(this.textarea,n.spellcheck,n.autocorrect,n.autocapitalize)},qn.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},qn.prototype.prepareSelection=function(){var t=this.cm,n=t.display,l=t.doc,s=ou(t);if(t.options.moveInputWithCursor){var h=wt(t,l.sel.primary().head,"div"),y=n.wrapper.getBoundingClientRect(),k=n.lineDiv.getBoundingClientRect();s.teTop=Math.max(0,Math.min(n.wrapper.clientHeight-10,h.top+k.top-y.top)),s.teLeft=Math.max(0,Math.min(n.wrapper.clientWidth-10,h.left+k.left-y.left))}return s},qn.prototype.showSelection=function(t){var n=this.cm,l=n.display;Tt(l.cursorDiv,t.cursors),Tt(l.selectionDiv,t.selection),t.teTop!=null&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},qn.prototype.reset=function(t){if(!(this.contextMenuPending||this.composing&&t)){var n=this.cm;if(this.resetting=!0,n.somethingSelected()){this.prevInput="";var l=n.getSelection();this.textarea.value=l,n.state.focused&&yt(this.textarea),b&&C>=9&&(this.hasSelection=l)}else t||(this.prevInput=this.textarea.value="",b&&C>=9&&(this.hasSelection=null));this.resetting=!1}},qn.prototype.getField=function(){return this.textarea},qn.prototype.supportsTouch=function(){return!1},qn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!J||ie(Qt(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},qn.prototype.blur=function(){this.textarea.blur()},qn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},qn.prototype.receivedFocus=function(){this.slowPoll()},qn.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},qn.prototype.fastPoll=function(){var t=!1,n=this;n.pollingFast=!0;function l(){var s=n.poll();!s&&!t?(t=!0,n.polling.set(60,l)):(n.pollingFast=!1,n.slowPoll())}n.polling.set(20,l)},qn.prototype.poll=function(){var t=this,n=this.cm,l=this.textarea,s=this.prevInput;if(this.contextMenuPending||this.resetting||!n.state.focused||an(l)&&!s&&!this.composing||n.isReadOnly()||n.options.disableInput||n.state.keySeq)return!1;var h=l.value;if(h==s&&!n.somethingSelected())return!1;if(b&&C>=9&&this.hasSelection===h||U&&/[\uf700-\uf7ff]/.test(h))return n.display.input.reset(),!1;if(n.doc.sel==n.display.selForContextMenu){var y=h.charCodeAt(0);if(y==8203&&!s&&(s=""),y==8666)return this.reset(),this.cm.execCommand("undo")}for(var k=0,T=Math.min(s.length,h.length);k<T&&s.charCodeAt(k)==h.charCodeAt(k);)++k;return Bi(n,function(){Pu(n,h.slice(k),s.length-k,null,t.composing?"*compose":null),h.length>1e3||h.indexOf(`
`)>-1?l.value=t.prevInput="":t.prevInput=h,t.composing&&(t.composing.range.clear(),t.composing.range=n.markText(t.composing.start,n.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},qn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},qn.prototype.onKeyPress=function(){b&&C>=9&&(this.hasSelection=null),this.fastPoll()},qn.prototype.onContextMenu=function(t){var n=this,l=n.cm,s=l.display,h=n.textarea;n.contextMenuPending&&n.contextMenuPending();var y=to(l,t),k=s.scroller.scrollTop;if(!y||A)return;var T=l.options.resetSelectionOnContextMenu;T&&l.doc.sel.contains(y)==-1&&kn(l,Ri)(l.doc,zo(y),me);var D=h.style.cssText,L=n.wrapper.style.cssText,G=n.wrapper.offsetParent.getBoundingClientRect();n.wrapper.style.cssText="position: static",h.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(t.clientY-G.top-5)+"px; left: "+(t.clientX-G.left-5)+`px;
      z-index: 1000; background: `+(b?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Z;x&&(Z=h.ownerDocument.defaultView.scrollY),s.input.focus(),x&&h.ownerDocument.defaultView.scrollTo(null,Z),s.input.reset(),l.somethingSelected()||(h.value=n.prevInput=" "),n.contextMenuPending=ot,s.selForContextMenu=l.doc.sel,clearTimeout(s.detectingSelectAll);function lt(){if(h.selectionStart!=null){var Nt=l.somethingSelected(),Gt=""+(Nt?h.value:"");h.value="",h.value=Gt,n.prevInput=Nt?"":"",h.selectionStart=1,h.selectionEnd=Gt.length,s.selForContextMenu=l.doc.sel}}function ot(){if(n.contextMenuPending==ot&&(n.contextMenuPending=!1,n.wrapper.style.cssText=L,h.style.cssText=D,b&&C<9&&s.scrollbars.setScrollTop(s.scroller.scrollTop=k),h.selectionStart!=null)){(!b||b&&C<9)&&lt();var Nt=0,Gt=function(){s.selForContextMenu==l.doc.sel&&h.selectionStart==0&&h.selectionEnd>0&&n.prevInput==""?kn(l,Ba)(l):Nt++<10?s.detectingSelectAll=setTimeout(Gt,500):(s.selForContextMenu=null,s.input.reset())};s.detectingSelectAll=setTimeout(Gt,200)}}if(b&&C>=9&&lt(),ct){We(t);var St=function(){Ue(window,"mouseup",St),setTimeout(ot,20)};ge(window,"mouseup",St)}else setTimeout(ot,50)},qn.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled=t=="nocursor",this.textarea.readOnly=!!t},qn.prototype.setUneditable=function(){},qn.prototype.needsContentAttribute=!1;function rf(t,n){if(n=n?st(n):{},n.value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),n.autofocus==null){var l=ie(Qt(t));n.autofocus=l==t||t.getAttribute("autofocus")!=null&&l==document.body}function s(){t.value=T.getValue()}var h;if(t.form&&(ge(t.form,"submit",s),!n.leaveSubmitMethodAlone)){var y=t.form;h=y.submit;try{var k=y.submit=function(){s(),y.submit=h,y.submit(),y.submit=k}}catch{}}n.finishInit=function(D){D.save=s,D.getTextArea=function(){return t},D.toTextArea=function(){D.toTextArea=isNaN,s(),t.parentNode.removeChild(D.getWrapperElement()),t.style.display="",t.form&&(Ue(t.form,"submit",s),!n.leaveSubmitMethodAlone&&typeof t.form.submit=="function"&&(t.form.submit=h))}},t.style.display="none";var T=mn(function(D){return t.parentNode.insertBefore(D,t.nextSibling)},n);return T}function Mh(t){t.off=Ue,t.on=ge,t.wheelEventPixels=mh,t.Doc=Xi,t.splitLines=Xe,t.countColumn=At,t.findColumn=ke,t.isWordChar=Fn,t.Pass=Oe,t.signal=dn,t.Line=ta,t.changeEnd=Wo,t.scrollbarModel=la,t.Pos=bt,t.cmpPos=Zt,t.modes=vi,t.mimeModes=Mi,t.resolveMode=Lr,t.getMode=sr,t.modeExtensions=yi,t.extendMode=Kr,t.copyState=li,t.startState=Fi,t.innerMode=Ur,t.commands=Rs,t.keyMap=io,t.keyName=As,t.isModifierKey=xl,t.lookupKey=pr,t.normalizeKeyMap=dr,t.StringStream=On,t.SharedTextMarker=Ga,t.TextMarker=Fr,t.LineWidget=ga,t.e_preventDefault=Yt,t.e_stopPropagation=Ce,t.e_stop=We,t.addClass=oe,t.contains=Kt,t.rmClass=It,t.keyNames=_i}Ru(mn),Qa(mn);var of="iter insert remove copy getEditor constructor".split(" ");for(var Ol in Xi.prototype)Xi.prototype.hasOwnProperty(Ol)&&zt(of,Ol)<0&&(mn.prototype[Ol]=(function(t){return function(){return t.apply(this.doc,arguments)}})(Xi.prototype[Ol]));return Et(Xi),mn.inputStyles={textarea:qn,contenteditable:wn},mn.defineMode=function(t){!mn.defaults.mode&&t!="null"&&(mn.defaults.mode=t),bi.apply(this,arguments)},mn.defineMIME=Ar,mn.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),mn.defineMIME("text/plain","null"),mn.defineExtension=function(t,n){mn.prototype[t]=n},mn.defineDocExtension=function(t,n){Xi.prototype[t]=n},mn.fromTextArea=rf,Mh(mn),mn.version="5.65.20",mn}))})(If)),If.exports}var BE=Vs();const YE=Uf(BE);var Tg={exports:{}},Dg;function jE(){return Dg||(Dg=1,(function(a,e){(function(r){r(Vs())})(function(r){r.defineMode("javascript",function(c,d){var f=c.indentUnit,p=d.statementIndent,g=d.jsonld,b=d.json||g,C=d.trackScope!==!1,x=d.typescript,S=d.wordCharacters||/[\w$\xa1-\uffff]/,O=(function(){function P(Rn){return{type:Rn,style:"keyword"}}var V=P("keyword a"),Dt=P("keyword b"),jt=P("keyword c"),bt=P("keyword d"),Zt=P("operator"),Ge={type:"atom",style:"atom"};return{if:P("if"),while:V,with:V,else:Dt,do:Dt,try:Dt,finally:Dt,return:bt,break:bt,continue:bt,new:P("new"),delete:jt,void:jt,throw:jt,debugger:P("debugger"),var:P("var"),const:P("var"),let:P("var"),function:P("function"),catch:P("catch"),for:P("for"),switch:P("switch"),case:P("case"),default:P("default"),in:Zt,typeof:Zt,instanceof:Zt,true:Ge,false:Ge,null:Ge,undefined:Ge,NaN:Ge,Infinity:Ge,this:P("this"),class:P("class"),super:P("atom"),yield:jt,export:P("export"),import:P("import"),extends:jt,await:jt}})(),F=/[+\-*&%=<>!?|~^@]/,A=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function I(P){for(var V=!1,Dt,jt=!1;(Dt=P.next())!=null;){if(!V){if(Dt=="/"&&!jt)return;Dt=="["?jt=!0:jt&&Dt=="]"&&(jt=!1)}V=!V&&Dt=="\\"}}var N,Y;function H(P,V,Dt){return N=P,Y=Dt,V}function K(P,V){var Dt=P.next();if(Dt=='"'||Dt=="'")return V.tokenize=J(Dt),V.tokenize(P,V);if(Dt=="."&&P.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return H("number","number");if(Dt=="."&&P.match(".."))return H("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Dt))return H(Dt);if(Dt=="="&&P.eat(">"))return H("=>","operator");if(Dt=="0"&&P.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return H("number","number");if(/\d/.test(Dt))return P.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),H("number","number");if(Dt=="/")return P.eat("*")?(V.tokenize=U,U(P,V)):P.eat("/")?(P.skipToEnd(),H("comment","comment")):Hi(P,V,1)?(I(P),P.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),H("regexp","string-2")):(P.eat("="),H("operator","operator",P.current()));if(Dt=="`")return V.tokenize=nt,nt(P,V);if(Dt=="#"&&P.peek()=="!")return P.skipToEnd(),H("meta","meta");if(Dt=="#"&&P.eatWhile(S))return H("variable","property");if(Dt=="<"&&P.match("!--")||Dt=="-"&&P.match("->")&&!/\S/.test(P.string.slice(0,P.start)))return P.skipToEnd(),H("comment","comment");if(F.test(Dt))return(Dt!=">"||!V.lexical||V.lexical.type!=">")&&(P.eat("=")?(Dt=="!"||Dt=="=")&&P.eat("="):/[<>*+\-|&?]/.test(Dt)&&(P.eat(Dt),Dt==">"&&P.eat(Dt))),Dt=="?"&&P.eat(".")?H("."):H("operator","operator",P.current());if(S.test(Dt)){P.eatWhile(S);var jt=P.current();if(V.lastType!="."){if(O.propertyIsEnumerable(jt)){var bt=O[jt];return H(bt.type,bt.style,jt)}if(jt=="async"&&P.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return H("async","keyword",jt)}return H("variable","variable",jt)}}function J(P){return function(V,Dt){var jt=!1,bt;if(g&&V.peek()=="@"&&V.match(A))return Dt.tokenize=K,H("jsonld-keyword","meta");for(;(bt=V.next())!=null&&!(bt==P&&!jt);)jt=!jt&&bt=="\\";return jt||(Dt.tokenize=K),H("string","string")}}function U(P,V){for(var Dt=!1,jt;jt=P.next();){if(jt=="/"&&Dt){V.tokenize=K;break}Dt=jt=="*"}return H("comment","comment")}function nt(P,V){for(var Dt=!1,jt;(jt=P.next())!=null;){if(!Dt&&(jt=="`"||jt=="$"&&P.eat("{"))){V.tokenize=K;break}Dt=!Dt&&jt=="\\"}return H("quasi","string-2",P.current())}var gt="([{}])";function mt(P,V){V.fatArrowAt&&(V.fatArrowAt=null);var Dt=P.string.indexOf("=>",P.start);if(!(Dt<0)){if(x){var jt=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(P.string.slice(P.start,Dt));jt&&(Dt=jt.index)}for(var bt=0,Zt=!1,Ge=Dt-1;Ge>=0;--Ge){var Rn=P.string.charAt(Ge),Vn=gt.indexOf(Rn);if(Vn>=0&&Vn<3){if(!bt){++Ge;break}if(--bt==0){Rn=="("&&(Zt=!0);break}}else if(Vn>=3&&Vn<6)++bt;else if(S.test(Rn))Zt=!0;else if(/["'\/`]/.test(Rn))for(;;--Ge){if(Ge==0)return;var Zn=P.string.charAt(Ge-1);if(Zn==Rn&&P.string.charAt(Ge-2)!="\\"){Ge--;break}}else if(Zt&&!bt){++Ge;break}}Zt&&!bt&&(V.fatArrowAt=Ge)}}var pt={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function ct(P,V,Dt,jt,bt,Zt){this.indented=P,this.column=V,this.type=Dt,this.prev=bt,this.info=Zt,jt!=null&&(this.align=jt)}function ht(P,V){if(!C)return!1;for(var Dt=P.localVars;Dt;Dt=Dt.next)if(Dt.name==V)return!0;for(var jt=P.context;jt;jt=jt.prev)for(var Dt=jt.vars;Dt;Dt=Dt.next)if(Dt.name==V)return!0}function It(P,V,Dt,jt,bt){var Zt=P.cc;for(it.state=P,it.stream=bt,it.marked=null,it.cc=Zt,it.style=V,P.lexical.hasOwnProperty("align")||(P.lexical.align=!0);;){var Ge=Zt.length?Zt.pop():b?zt:At;if(Ge(Dt,jt)){for(;Zt.length&&Zt[Zt.length-1].lex;)Zt.pop()();return it.marked?it.marked:Dt=="variable"&&ht(P,jt)?"variable-2":V}}}var it={state:null,marked:null,cc:null};function Tt(){for(var P=arguments.length-1;P>=0;P--)it.cc.push(arguments[P])}function M(){return Tt.apply(null,arguments),!0}function xt(P,V){for(var Dt=V;Dt;Dt=Dt.next)if(Dt.name==P)return!0;return!1}function vt(P){var V=it.state;if(it.marked="def",!!C){if(V.context){if(V.lexical.info=="var"&&V.context&&V.context.block){var Dt=Kt(P,V.context);if(Dt!=null){V.context=Dt;return}}else if(!xt(P,V.localVars)){V.localVars=new Ct(P,V.localVars);return}}d.globalVars&&!xt(P,V.globalVars)&&(V.globalVars=new Ct(P,V.globalVars))}}function Kt(P,V){if(V)if(V.block){var Dt=Kt(P,V.prev);return Dt?Dt==V.prev?V:new oe(Dt,V.vars,!0):null}else return xt(P,V.vars)?V:new oe(V.prev,new Ct(P,V.vars),!1);else return null}function ie(P){return P=="public"||P=="private"||P=="protected"||P=="abstract"||P=="readonly"}function oe(P,V,Dt){this.prev=P,this.vars=V,this.block=Dt}function Ct(P,V){this.name=P,this.next=V}var yt=new Ct("this",new Ct("arguments",null));function kt(){it.state.context=new oe(it.state.context,it.state.localVars,!1),it.state.localVars=yt}function Ut(){it.state.context=new oe(it.state.context,it.state.localVars,!0),it.state.localVars=null}kt.lex=Ut.lex=!0;function Qt(){it.state.localVars=it.state.context.vars,it.state.context=it.state.context.prev}Qt.lex=!0;function j(P,V){var Dt=function(){var jt=it.state,bt=jt.indented;if(jt.lexical.type=="stat")bt=jt.lexical.indented;else for(var Zt=jt.lexical;Zt&&Zt.type==")"&&Zt.align;Zt=Zt.prev)bt=Zt.indented;jt.lexical=new ct(bt,it.stream.column(),P,null,jt.lexical,V)};return Dt.lex=!0,Dt}function et(){var P=it.state;P.lexical.prev&&(P.lexical.type==")"&&(P.indented=P.lexical.indented),P.lexical=P.lexical.prev)}et.lex=!0;function st(P){function V(Dt){return Dt==P?M():P==";"||Dt=="}"||Dt==")"||Dt=="]"?Tt():M(V)}return V}function At(P,V){return P=="var"?M(j("vardef",V),Ce,st(";"),et):P=="keyword a"?M(j("form"),Oe,At,et):P=="keyword b"?M(j("form"),At,et):P=="keyword d"?it.stream.match(/^\s*$/,!1)?M():M(j("stat"),we,st(";"),et):P=="debugger"?M(st(";")):P=="{"?M(j("}"),Ut,Tn,et,Qt):P==";"?M():P=="if"?(it.state.lexical.info=="else"&&it.state.cc[it.state.cc.length-1]==et&&it.state.cc.pop()(),M(j("form"),Oe,At,et,mi)):P=="function"?M(Xe):P=="for"?M(j("form"),Ut,si,At,Qt,et):P=="class"||x&&V=="interface"?(it.marked="keyword",M(j("form",P=="class"?P:V),vi,et)):P=="variable"?x&&V=="declare"?(it.marked="keyword",M(At)):x&&(V=="module"||V=="enum"||V=="type")&&it.stream.match(/^\s*\w/,!1)?(it.marked="keyword",V=="enum"?M(de):V=="type"?M(Nn,st("operator"),Me,st(";")):M(j("form"),se,st("{"),j("}"),Tn,et,et)):x&&V=="namespace"?(it.marked="keyword",M(j("form"),zt,At,et)):x&&V=="abstract"?(it.marked="keyword",M(At)):M(j("stat"),Se):P=="switch"?M(j("form"),Oe,st("{"),j("}","switch"),Ut,Tn,et,et,Qt):P=="case"?M(zt,st(":")):P=="default"?M(st(":")):P=="catch"?M(j("form"),kt,Ht,At,et,Qt):P=="export"?M(j("stat"),Lr,et):P=="import"?M(j("stat"),yi,et):P=="async"?M(At):V=="@"?M(zt,At):Tt(j("stat"),zt,st(";"),et)}function Ht(P){if(P=="(")return M(bn,st(")"))}function zt(P,V){return me(P,V,!1)}function ce(P,V){return me(P,V,!0)}function Oe(P){return P!="("?Tt():M(j(")"),we,st(")"),et)}function me(P,V,Dt){if(it.state.fatArrowAt==it.stream.start){var jt=Dt?Ee:le;if(P=="(")return M(kt,j(")"),en(bn,")"),et,st("=>"),jt,Qt);if(P=="variable")return Tt(kt,se,st("=>"),jt,Qt)}var bt=Dt?ke:fe;return pt.hasOwnProperty(P)?M(bt):P=="function"?M(Xe,bt):P=="class"||x&&V=="interface"?(it.marked="keyword",M(j("form"),tn,et)):P=="keyword c"||P=="async"?M(Dt?ce:zt):P=="("?M(j(")"),we,st(")"),et,bt):P=="operator"||P=="spread"?M(Dt?ce:zt):P=="["?M(j("]"),On,et,bt):P=="{"?ai(Xn,"}",null,bt):P=="quasi"?Tt(Ie,bt):P=="new"?M(ft(Dt)):M()}function we(P){return P.match(/[;\}\)\],]/)?Tt():Tt(zt)}function fe(P,V){return P==","?M(we):ke(P,V,!1)}function ke(P,V,Dt){var jt=Dt==!1?fe:ke,bt=Dt==!1?zt:ce;if(P=="=>")return M(kt,Dt?Ee:le,Qt);if(P=="operator")return/\+\+|--/.test(V)||x&&V=="!"?M(jt):x&&V=="<"&&it.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?M(j(">"),en(Me,">"),et,jt):V=="?"?M(zt,st(":"),bt):M(bt);if(P=="quasi")return Tt(Ie,jt);if(P!=";"){if(P=="(")return ai(ce,")","call",jt);if(P==".")return M(Fn,jt);if(P=="[")return M(j("]"),we,st("]"),et,jt);if(x&&V=="as")return it.marked="keyword",M(Me,jt);if(P=="regexp")return it.state.lastType=it.marked="operator",it.stream.backUp(it.stream.pos-it.stream.start-1),M(bt)}}function Ie(P,V){return P!="quasi"?Tt():V.slice(V.length-2)!="${"?M(Ie):M(we,rn)}function rn(P){if(P=="}")return it.marked="string-2",it.state.tokenize=nt,M(Ie)}function le(P){return mt(it.stream,it.state),Tt(P=="{"?At:zt)}function Ee(P){return mt(it.stream,it.state),Tt(P=="{"?At:ce)}function ft(P){return function(V){return V=="."?M(P?_t:Bt):V=="variable"&&x?M($t,P?ke:fe):Tt(P?ce:zt)}}function Bt(P,V){if(V=="target")return it.marked="keyword",M(fe)}function _t(P,V){if(V=="target")return it.marked="keyword",M(ke)}function Se(P){return P==":"?M(et,At):Tt(fe,st(";"),et)}function Fn(P){if(P=="variable")return it.marked="property",M()}function Xn(P,V){if(P=="async")return it.marked="property",M(Xn);if(P=="variable"||it.style=="keyword"){if(it.marked="property",V=="get"||V=="set")return M(Wi);var Dt;return x&&it.state.fatArrowAt==it.stream.start&&(Dt=it.stream.match(/^\s*:\s*/,!1))&&(it.state.fatArrowAt=it.stream.pos+Dt[0].length),M(Un)}else{if(P=="number"||P=="string")return it.marked=g?"property":it.style+" property",M(Un);if(P=="jsonld-keyword")return M(Un);if(x&&ie(V))return it.marked="keyword",M(Xn);if(P=="[")return M(zt,Li,st("]"),Un);if(P=="spread")return M(ce,Un);if(V=="*")return it.marked="keyword",M(Xn);if(P==":")return Tt(Un)}}function Wi(P){return P!="variable"?Tt(Un):(it.marked="property",M(Xe))}function Un(P){if(P==":")return M(ce);if(P=="(")return Tt(Xe)}function en(P,V,Dt){function jt(bt,Zt){if(Dt?Dt.indexOf(bt)>-1:bt==","){var Ge=it.state.lexical;return Ge.info=="call"&&(Ge.pos=(Ge.pos||0)+1),M(function(Rn,Vn){return Rn==V||Vn==V?Tt():Tt(P)},jt)}return bt==V||Zt==V?M():Dt&&Dt.indexOf(";")>-1?Tt(P):M(st(V))}return function(bt,Zt){return bt==V||Zt==V?M():Tt(P,jt)}}function ai(P,V,Dt){for(var jt=3;jt<arguments.length;jt++)it.cc.push(arguments[jt]);return M(j(V,Dt),en(P,V),et)}function Tn(P){return P=="}"?M():Tt(At,Tn)}function Li(P,V){if(x){if(P==":")return M(Me);if(V=="?")return M(Li)}}function Ln(P,V){if(x&&(P==":"||V=="in"))return M(Me)}function he(P){if(x&&P==":")return it.stream.match(/^\s*\w+\s+is\b/,!1)?M(zt,ar,Me):M(Me)}function ar(P,V){if(V=="is")return it.marked="keyword",M()}function Me(P,V){if(V=="keyof"||V=="typeof"||V=="infer"||V=="readonly")return it.marked="keyword",M(V=="typeof"?ce:Me);if(P=="variable"||V=="void")return it.marked="type",M(Be);if(V=="|"||V=="&")return M(Me);if(P=="string"||P=="number"||P=="atom")return M(Be);if(P=="[")return M(j("]"),en(Me,"]",","),et,Be);if(P=="{")return M(j("}"),ge,et,Be);if(P=="(")return M(en(ze,")"),Oi,Be);if(P=="<")return M(en(Me,">"),Me);if(P=="quasi")return Tt(Ue,Be)}function Oi(P){if(P=="=>")return M(Me)}function ge(P){return P.match(/[\}\)\]]/)?M():P==","||P==";"?M(ge):Tt(Hn,ge)}function Hn(P,V){if(P=="variable"||it.style=="keyword")return it.marked="property",M(Hn);if(V=="?"||P=="number"||P=="string")return M(Hn);if(P==":")return M(Me);if(P=="[")return M(st("variable"),Ln,st("]"),Hn);if(P=="(")return Tt(an,Hn);if(!P.match(/[;\}\)\],]/))return M()}function Ue(P,V){return P!="quasi"?Tt():V.slice(V.length-2)!="${"?M(Ue):M(Me,dn)}function dn(P){if(P=="}")return it.marked="string-2",it.state.tokenize=nt,M(Ue)}function ze(P,V){return P=="variable"&&it.stream.match(/^\s*[?:]/,!1)||V=="?"?M(ze):P==":"?M(Me):P=="spread"?M(ze):Tt(Me)}function Be(P,V){if(V=="<")return M(j(">"),en(Me,">"),et,Be);if(V=="|"||P=="."||V=="&")return M(Me);if(P=="[")return M(Me,st("]"),Be);if(V=="extends"||V=="implements")return it.marked="keyword",M(Me);if(V=="?")return M(Me,st(":"),Me)}function $t(P,V){if(V=="<")return M(j(">"),en(Me,">"),et,Be)}function Et(){return Tt(Me,Yt)}function Yt(P,V){if(V=="=")return M(Me)}function Ce(P,V){return V=="enum"?(it.marked="keyword",M(de)):Tt(se,Li,_e,on)}function se(P,V){if(x&&ie(V))return it.marked="keyword",M(se);if(P=="variable")return vt(V),M();if(P=="spread")return M(se);if(P=="[")return ai(ue,"]");if(P=="{")return ai(We,"}")}function We(P,V){return P=="variable"&&!it.stream.match(/^\s*:/,!1)?(vt(V),M(_e)):(P=="variable"&&(it.marked="property"),P=="spread"?M(se):P=="}"?Tt():P=="["?M(zt,st("]"),st(":"),We):M(st(":"),se,_e))}function ue(){return Tt(se,_e)}function _e(P,V){if(V=="=")return M(ce)}function on(P){if(P==",")return M(Ce)}function mi(P,V){if(P=="keyword b"&&V=="else")return M(j("form","else"),At,et)}function si(P,V){if(V=="await")return M(si);if(P=="(")return M(j(")"),En,et)}function En(P){return P=="var"?M(Ce,Te):P=="variable"?M(Te):Tt(Te)}function Te(P,V){return P==")"?M():P==";"?M(Te):V=="in"||V=="of"?(it.marked="keyword",M(zt,Te)):Tt(zt,Te)}function Xe(P,V){if(V=="*")return it.marked="keyword",M(Xe);if(P=="variable")return vt(V),M(Xe);if(P=="(")return M(kt,j(")"),en(bn,")"),et,he,At,Qt);if(x&&V=="<")return M(j(">"),en(Et,">"),et,Xe)}function an(P,V){if(V=="*")return it.marked="keyword",M(an);if(P=="variable")return vt(V),M(an);if(P=="(")return M(kt,j(")"),en(bn,")"),et,he,Qt);if(x&&V=="<")return M(j(">"),en(Et,">"),et,an)}function Nn(P,V){if(P=="keyword"||P=="variable")return it.marked="type",M(Nn);if(V=="<")return M(j(">"),en(Et,">"),et)}function bn(P,V){return V=="@"&&M(zt,bn),P=="spread"?M(bn):x&&ie(V)?(it.marked="keyword",M(bn)):x&&P=="this"?M(Li,_e):Tt(se,Li,_e)}function tn(P,V){return P=="variable"?vi(P,V):Mi(P,V)}function vi(P,V){if(P=="variable")return vt(V),M(Mi)}function Mi(P,V){if(V=="<")return M(j(">"),en(Et,">"),et,Mi);if(V=="extends"||V=="implements"||x&&P==",")return V=="implements"&&(it.marked="keyword"),M(x?Me:zt,Mi);if(P=="{")return M(j("}"),bi,et)}function bi(P,V){if(P=="async"||P=="variable"&&(V=="static"||V=="get"||V=="set"||x&&ie(V))&&it.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return it.marked="keyword",M(bi);if(P=="variable"||it.style=="keyword")return it.marked="property",M(Ar,bi);if(P=="number"||P=="string")return M(Ar,bi);if(P=="[")return M(zt,Li,st("]"),Ar,bi);if(V=="*")return it.marked="keyword",M(bi);if(x&&P=="(")return Tt(an,bi);if(P==";"||P==",")return M(bi);if(P=="}")return M();if(V=="@")return M(zt,bi)}function Ar(P,V){if(V=="!"||V=="?")return M(Ar);if(P==":")return M(Me,_e);if(V=="=")return M(ce);var Dt=it.state.lexical.prev,jt=Dt&&Dt.info=="interface";return Tt(jt?an:Xe)}function Lr(P,V){return V=="*"?(it.marked="keyword",M(Fi,st(";"))):V=="default"?(it.marked="keyword",M(zt,st(";"))):P=="{"?M(en(sr,"}"),Fi,st(";")):Tt(At)}function sr(P,V){if(V=="as")return it.marked="keyword",M(st("variable"));if(P=="variable")return Tt(ce,sr)}function yi(P){return P=="string"?M():P=="("?Tt(zt):P=="."?Tt(fe):Tt(Kr,li,Fi)}function Kr(P,V){return P=="{"?ai(Kr,"}"):(P=="variable"&&vt(V),V=="*"&&(it.marked="keyword"),M(Ur))}function li(P){if(P==",")return M(Kr,li)}function Ur(P,V){if(V=="as")return it.marked="keyword",M(Kr)}function Fi(P,V){if(V=="from")return it.marked="keyword",M(zt)}function On(P){return P=="]"?M():Tt(en(ce,"]"))}function de(){return Tt(j("form"),se,st("{"),j("}"),en(Vi,"}"),et,et)}function Vi(){return Tt(se,_e)}function vr(P,V){return P.lastType=="operator"||P.lastType==","||F.test(V.charAt(0))||/[,.]/.test(V.charAt(0))}function Hi(P,V,Dt){return V.tokenize==K&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(V.lastType)||V.lastType=="quasi"&&/\{\s*$/.test(P.string.slice(0,P.pos-(Dt||0)))}return{startState:function(P){var V={tokenize:K,lastType:"sof",cc:[],lexical:new ct((P||0)-f,0,"block",!1),localVars:d.localVars,context:d.localVars&&new oe(null,null,!1),indented:P||0};return d.globalVars&&typeof d.globalVars=="object"&&(V.globalVars=d.globalVars),V},token:function(P,V){if(P.sol()&&(V.lexical.hasOwnProperty("align")||(V.lexical.align=!1),V.indented=P.indentation(),mt(P,V)),V.tokenize!=U&&P.eatSpace())return null;var Dt=V.tokenize(P,V);return N=="comment"?Dt:(V.lastType=N=="operator"&&(Y=="++"||Y=="--")?"incdec":N,It(V,Dt,N,Y,P))},indent:function(P,V){if(P.tokenize==U||P.tokenize==nt)return r.Pass;if(P.tokenize!=K)return 0;var Dt=V&&V.charAt(0),jt=P.lexical,bt;if(!/^\s*else\b/.test(V))for(var Zt=P.cc.length-1;Zt>=0;--Zt){var Ge=P.cc[Zt];if(Ge==et)jt=jt.prev;else if(Ge!=mi&&Ge!=Qt)break}for(;(jt.type=="stat"||jt.type=="form")&&(Dt=="}"||(bt=P.cc[P.cc.length-1])&&(bt==fe||bt==ke)&&!/^[,\.=+\-*:?[\(]/.test(V));)jt=jt.prev;p&&jt.type==")"&&jt.prev.type=="stat"&&(jt=jt.prev);var Rn=jt.type,Vn=Dt==Rn;return Rn=="vardef"?jt.indented+(P.lastType=="operator"||P.lastType==","?jt.info.length+1:0):Rn=="form"&&Dt=="{"?jt.indented:Rn=="form"?jt.indented+f:Rn=="stat"?jt.indented+(vr(P,V)?p||f:0):jt.info=="switch"&&!Vn&&d.doubleIndentSwitch!=!1?jt.indented+(/^(?:case|default)\b/.test(V)?f:2*f):jt.align?jt.column+(Vn?0:1):jt.indented+(Vn?0:f)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:b?null:"/*",blockCommentEnd:b?null:"*/",blockCommentContinue:b?null:" * ",lineComment:b?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:b?"json":"javascript",jsonldMode:g,jsonMode:b,expressionAllowed:Hi,skipExpression:function(P){It(P,"atom","atom","true",new r.StringStream("",2,null))}}}),r.registerHelper("wordChars","javascript",/[\w$]/),r.defineMIME("text/javascript","javascript"),r.defineMIME("text/ecmascript","javascript"),r.defineMIME("application/javascript","javascript"),r.defineMIME("application/x-javascript","javascript"),r.defineMIME("application/ecmascript","javascript"),r.defineMIME("application/json",{name:"javascript",json:!0}),r.defineMIME("application/x-json",{name:"javascript",json:!0}),r.defineMIME("application/manifest+json",{name:"javascript",json:!0}),r.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),r.defineMIME("text/typescript",{name:"javascript",typescript:!0}),r.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})()),Tg.exports}jE();var Ag={exports:{}},Lg;function XE(){return Lg||(Lg=1,(function(a,e){(function(r){r(Vs())})(function(r){r.defineMode("css",function(ct,ht){var It=ht.inline;ht.propertyKeywords||(ht=r.resolveMode("text/css"));var it=ct.indentUnit,Tt=ht.tokenHooks,M=ht.documentTypes||{},xt=ht.mediaTypes||{},vt=ht.mediaFeatures||{},Kt=ht.mediaValueKeywords||{},ie=ht.propertyKeywords||{},oe=ht.nonStandardPropertyKeywords||{},Ct=ht.fontProperties||{},yt=ht.counterDescriptors||{},kt=ht.colorKeywords||{},Ut=ht.valueKeywords||{},Qt=ht.allowNested,j=ht.lineComment,et=ht.supportsAtComponent===!0,st=ct.highlightNonStandardPropertyKeywords!==!1,At,Ht;function zt(ft,Bt){return At=Bt,ft}function ce(ft,Bt){var _t=ft.next();if(Tt[_t]){var Se=Tt[_t](ft,Bt);if(Se!==!1)return Se}if(_t=="@")return ft.eatWhile(/[\w\\\-]/),zt("def",ft.current());if(_t=="="||(_t=="~"||_t=="|")&&ft.eat("="))return zt(null,"compare");if(_t=='"'||_t=="'")return Bt.tokenize=Oe(_t),Bt.tokenize(ft,Bt);if(_t=="#")return ft.eatWhile(/[\w\\\-]/),zt("atom","hash");if(_t=="!")return ft.match(/^\s*\w*/),zt("keyword","important");if(/\d/.test(_t)||_t=="."&&ft.eat(/\d/))return ft.eatWhile(/[\w.%]/),zt("number","unit");if(_t==="-"){if(/[\d.]/.test(ft.peek()))return ft.eatWhile(/[\w.%]/),zt("number","unit");if(ft.match(/^-[\w\\\-]*/))return ft.eatWhile(/[\w\\\-]/),ft.match(/^\s*:/,!1)?zt("variable-2","variable-definition"):zt("variable-2","variable");if(ft.match(/^\w+-/))return zt("meta","meta")}else return/[,+>*\/]/.test(_t)?zt(null,"select-op"):_t=="."&&ft.match(/^-?[_a-z][_a-z0-9-]*/i)?zt("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(_t)?zt(null,_t):ft.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(ft.current())&&(Bt.tokenize=me),zt("variable callee","variable")):/[\w\\\-]/.test(_t)?(ft.eatWhile(/[\w\\\-]/),zt("property","word")):zt(null,null)}function Oe(ft){return function(Bt,_t){for(var Se=!1,Fn;(Fn=Bt.next())!=null;){if(Fn==ft&&!Se){ft==")"&&Bt.backUp(1);break}Se=!Se&&Fn=="\\"}return(Fn==ft||!Se&&ft!=")")&&(_t.tokenize=null),zt("string","string")}}function me(ft,Bt){return ft.next(),ft.match(/^\s*[\"\')]/,!1)?Bt.tokenize=null:Bt.tokenize=Oe(")"),zt(null,"(")}function we(ft,Bt,_t){this.type=ft,this.indent=Bt,this.prev=_t}function fe(ft,Bt,_t,Se){return ft.context=new we(_t,Bt.indentation()+(Se===!1?0:it),ft.context),_t}function ke(ft){return ft.context.prev&&(ft.context=ft.context.prev),ft.context.type}function Ie(ft,Bt,_t){return Ee[_t.context.type](ft,Bt,_t)}function rn(ft,Bt,_t,Se){for(var Fn=Se||1;Fn>0;Fn--)_t.context=_t.context.prev;return Ie(ft,Bt,_t)}function le(ft){var Bt=ft.current().toLowerCase();Ut.hasOwnProperty(Bt)?Ht="atom":kt.hasOwnProperty(Bt)?Ht="keyword":Ht="variable"}var Ee={};return Ee.top=function(ft,Bt,_t){if(ft=="{")return fe(_t,Bt,"block");if(ft=="}"&&_t.context.prev)return ke(_t);if(et&&/@component/i.test(ft))return fe(_t,Bt,"atComponentBlock");if(/^@(-moz-)?document$/i.test(ft))return fe(_t,Bt,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(ft))return fe(_t,Bt,"atBlock");if(/^@(font-face|counter-style)/i.test(ft))return _t.stateArg=ft,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(ft))return"keyframes";if(ft&&ft.charAt(0)=="@")return fe(_t,Bt,"at");if(ft=="hash")Ht="builtin";else if(ft=="word")Ht="tag";else{if(ft=="variable-definition")return"maybeprop";if(ft=="interpolation")return fe(_t,Bt,"interpolation");if(ft==":")return"pseudo";if(Qt&&ft=="(")return fe(_t,Bt,"parens")}return _t.context.type},Ee.block=function(ft,Bt,_t){if(ft=="word"){var Se=Bt.current().toLowerCase();return ie.hasOwnProperty(Se)?(Ht="property","maybeprop"):oe.hasOwnProperty(Se)?(Ht=st?"string-2":"property","maybeprop"):Qt?(Ht=Bt.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Ht+=" error","maybeprop")}else return ft=="meta"?"block":!Qt&&(ft=="hash"||ft=="qualifier")?(Ht="error","block"):Ee.top(ft,Bt,_t)},Ee.maybeprop=function(ft,Bt,_t){return ft==":"?fe(_t,Bt,"prop"):Ie(ft,Bt,_t)},Ee.prop=function(ft,Bt,_t){if(ft==";")return ke(_t);if(ft=="{"&&Qt)return fe(_t,Bt,"propBlock");if(ft=="}"||ft=="{")return rn(ft,Bt,_t);if(ft=="(")return fe(_t,Bt,"parens");if(ft=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(Bt.current()))Ht+=" error";else if(ft=="word")le(Bt);else if(ft=="interpolation")return fe(_t,Bt,"interpolation");return"prop"},Ee.propBlock=function(ft,Bt,_t){return ft=="}"?ke(_t):ft=="word"?(Ht="property","maybeprop"):_t.context.type},Ee.parens=function(ft,Bt,_t){return ft=="{"||ft=="}"?rn(ft,Bt,_t):ft==")"?ke(_t):ft=="("?fe(_t,Bt,"parens"):ft=="interpolation"?fe(_t,Bt,"interpolation"):(ft=="word"&&le(Bt),"parens")},Ee.pseudo=function(ft,Bt,_t){return ft=="meta"?"pseudo":ft=="word"?(Ht="variable-3",_t.context.type):Ie(ft,Bt,_t)},Ee.documentTypes=function(ft,Bt,_t){return ft=="word"&&M.hasOwnProperty(Bt.current())?(Ht="tag",_t.context.type):Ee.atBlock(ft,Bt,_t)},Ee.atBlock=function(ft,Bt,_t){if(ft=="(")return fe(_t,Bt,"atBlock_parens");if(ft=="}"||ft==";")return rn(ft,Bt,_t);if(ft=="{")return ke(_t)&&fe(_t,Bt,Qt?"block":"top");if(ft=="interpolation")return fe(_t,Bt,"interpolation");if(ft=="word"){var Se=Bt.current().toLowerCase();Se=="only"||Se=="not"||Se=="and"||Se=="or"?Ht="keyword":xt.hasOwnProperty(Se)?Ht="attribute":vt.hasOwnProperty(Se)?Ht="property":Kt.hasOwnProperty(Se)?Ht="keyword":ie.hasOwnProperty(Se)?Ht="property":oe.hasOwnProperty(Se)?Ht=st?"string-2":"property":Ut.hasOwnProperty(Se)?Ht="atom":kt.hasOwnProperty(Se)?Ht="keyword":Ht="error"}return _t.context.type},Ee.atComponentBlock=function(ft,Bt,_t){return ft=="}"?rn(ft,Bt,_t):ft=="{"?ke(_t)&&fe(_t,Bt,Qt?"block":"top",!1):(ft=="word"&&(Ht="error"),_t.context.type)},Ee.atBlock_parens=function(ft,Bt,_t){return ft==")"?ke(_t):ft=="{"||ft=="}"?rn(ft,Bt,_t,2):Ee.atBlock(ft,Bt,_t)},Ee.restricted_atBlock_before=function(ft,Bt,_t){return ft=="{"?fe(_t,Bt,"restricted_atBlock"):ft=="word"&&_t.stateArg=="@counter-style"?(Ht="variable","restricted_atBlock_before"):Ie(ft,Bt,_t)},Ee.restricted_atBlock=function(ft,Bt,_t){return ft=="}"?(_t.stateArg=null,ke(_t)):ft=="word"?(_t.stateArg=="@font-face"&&!Ct.hasOwnProperty(Bt.current().toLowerCase())||_t.stateArg=="@counter-style"&&!yt.hasOwnProperty(Bt.current().toLowerCase())?Ht="error":Ht="property","maybeprop"):"restricted_atBlock"},Ee.keyframes=function(ft,Bt,_t){return ft=="word"?(Ht="variable","keyframes"):ft=="{"?fe(_t,Bt,"top"):Ie(ft,Bt,_t)},Ee.at=function(ft,Bt,_t){return ft==";"?ke(_t):ft=="{"||ft=="}"?rn(ft,Bt,_t):(ft=="word"?Ht="tag":ft=="hash"&&(Ht="builtin"),"at")},Ee.interpolation=function(ft,Bt,_t){return ft=="}"?ke(_t):ft=="{"||ft==";"?rn(ft,Bt,_t):(ft=="word"?Ht="variable":ft!="variable"&&ft!="("&&ft!=")"&&(Ht="error"),"interpolation")},{startState:function(ft){return{tokenize:null,state:It?"block":"top",stateArg:null,context:new we(It?"block":"top",ft||0,null)}},token:function(ft,Bt){if(!Bt.tokenize&&ft.eatSpace())return null;var _t=(Bt.tokenize||ce)(ft,Bt);return _t&&typeof _t=="object"&&(At=_t[1],_t=_t[0]),Ht=_t,At!="comment"&&(Bt.state=Ee[Bt.state](At,ft,Bt)),Ht},indent:function(ft,Bt){var _t=ft.context,Se=Bt&&Bt.charAt(0),Fn=_t.indent;return _t.type=="prop"&&(Se=="}"||Se==")")&&(_t=_t.prev),_t.prev&&(Se=="}"&&(_t.type=="block"||_t.type=="top"||_t.type=="interpolation"||_t.type=="restricted_atBlock")?(_t=_t.prev,Fn=_t.indent):(Se==")"&&(_t.type=="parens"||_t.type=="atBlock_parens")||Se=="{"&&(_t.type=="at"||_t.type=="atBlock"))&&(Fn=Math.max(0,_t.indent-it))),Fn},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:j,fold:"brace"}});function c(ct){for(var ht={},It=0;It<ct.length;++It)ht[ct[It].toLowerCase()]=!0;return ht}var d=["domain","regexp","url","url-prefix"],f=c(d),p=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],g=c(p),b=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],C=c(b),x=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],S=c(x),O=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],F=c(O),A=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],I=c(A),N=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],Y=c(N),H=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],K=c(H),J=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],U=c(J),nt=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],gt=c(nt),mt=d.concat(p).concat(b).concat(x).concat(O).concat(A).concat(J).concat(nt);r.registerHelper("hintWords","css",mt);function pt(ct,ht){for(var It=!1,it;(it=ct.next())!=null;){if(It&&it=="/"){ht.tokenize=null;break}It=it=="*"}return["comment","comment"]}r.defineMIME("text/css",{documentTypes:f,mediaTypes:g,mediaFeatures:C,mediaValueKeywords:S,propertyKeywords:F,nonStandardPropertyKeywords:I,fontProperties:Y,counterDescriptors:K,colorKeywords:U,valueKeywords:gt,tokenHooks:{"/":function(ct,ht){return ct.eat("*")?(ht.tokenize=pt,pt(ct,ht)):!1}},name:"css"}),r.defineMIME("text/x-scss",{mediaTypes:g,mediaFeatures:C,mediaValueKeywords:S,propertyKeywords:F,nonStandardPropertyKeywords:I,colorKeywords:U,valueKeywords:gt,fontProperties:Y,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(ct,ht){return ct.eat("/")?(ct.skipToEnd(),["comment","comment"]):ct.eat("*")?(ht.tokenize=pt,pt(ct,ht)):["operator","operator"]},":":function(ct){return ct.match(/^\s*\{/,!1)?[null,null]:!1},$:function(ct){return ct.match(/^[\w-]+/),ct.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(ct){return ct.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),r.defineMIME("text/x-less",{mediaTypes:g,mediaFeatures:C,mediaValueKeywords:S,propertyKeywords:F,nonStandardPropertyKeywords:I,colorKeywords:U,valueKeywords:gt,fontProperties:Y,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(ct,ht){return ct.eat("/")?(ct.skipToEnd(),["comment","comment"]):ct.eat("*")?(ht.tokenize=pt,pt(ct,ht)):["operator","operator"]},"@":function(ct){return ct.eat("{")?[null,"interpolation"]:ct.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(ct.eatWhile(/[\w\\\-]/),ct.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),r.defineMIME("text/x-gss",{documentTypes:f,mediaTypes:g,mediaFeatures:C,propertyKeywords:F,nonStandardPropertyKeywords:I,fontProperties:Y,counterDescriptors:K,colorKeywords:U,valueKeywords:gt,supportsAtComponent:!0,tokenHooks:{"/":function(ct,ht){return ct.eat("*")?(ht.tokenize=pt,pt(ct,ht)):!1}},name:"css",helperType:"gss"})})})()),Ag.exports}XE();var Og={exports:{}},Mg;function GE(){return Mg||(Mg=1,(function(a,e){(function(r){r(Vs())})(function(r){r.overlayMode=function(c,d,f){return{startState:function(){return{base:r.startState(c),overlay:r.startState(d),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(p){return{base:r.copyState(c,p.base),overlay:r.copyState(d,p.overlay),basePos:p.basePos,baseCur:null,overlayPos:p.overlayPos,overlayCur:null}},token:function(p,g){return(p!=g.streamSeen||Math.min(g.basePos,g.overlayPos)<p.start)&&(g.streamSeen=p,g.basePos=g.overlayPos=p.start),p.start==g.basePos&&(g.baseCur=c.token(p,g.base),g.basePos=p.pos),p.start==g.overlayPos&&(p.pos=p.start,g.overlayCur=d.token(p,g.overlay),g.overlayPos=p.pos),p.pos=Math.min(g.basePos,g.overlayPos),g.overlayCur==null?g.baseCur:g.baseCur!=null&&g.overlay.combineTokens||f&&g.overlay.combineTokens==null?g.baseCur+" "+g.overlayCur:g.overlayCur},indent:c.indent&&function(p,g,b){return c.indent(p.base,g,b)},electricChars:c.electricChars,innerMode:function(p){return{state:p.base,mode:c}},blankLine:function(p){var g,b;return c.blankLine&&(g=c.blankLine(p.base)),d.blankLine&&(b=d.blankLine(p.overlay)),b==null?g:f&&g!=null?g+" "+b:b}}}})})()),Og.exports}GE();var Rg={exports:{}},Pg;function qE(){return Pg||(Pg=1,(function(a,e){(function(r){r(Vs())})(function(r){var c={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},d={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};r.defineMode("xml",function(f,p){var g=f.indentUnit,b={},C=p.htmlMode?c:d;for(var x in C)b[x]=C[x];for(var x in p)b[x]=p[x];var S,O;function F(M,xt){function vt(oe){return xt.tokenize=oe,oe(M,xt)}var Kt=M.next();if(Kt=="<")return M.eat("!")?M.eat("[")?M.match("CDATA[")?vt(N("atom","]]>")):null:M.match("--")?vt(N("comment","-->")):M.match("DOCTYPE",!0,!0)?(M.eatWhile(/[\w\._\-]/),vt(Y(1))):null:M.eat("?")?(M.eatWhile(/[\w\._\-]/),xt.tokenize=N("meta","?>"),"meta"):(S=M.eat("/")?"closeTag":"openTag",xt.tokenize=A,"tag bracket");if(Kt=="&"){var ie;return M.eat("#")?M.eat("x")?ie=M.eatWhile(/[a-fA-F\d]/)&&M.eat(";"):ie=M.eatWhile(/[\d]/)&&M.eat(";"):ie=M.eatWhile(/[\w\.\-:]/)&&M.eat(";"),ie?"atom":"error"}else return M.eatWhile(/[^&<]/),null}F.isInText=!0;function A(M,xt){var vt=M.next();if(vt==">"||vt=="/"&&M.eat(">"))return xt.tokenize=F,S=vt==">"?"endTag":"selfcloseTag","tag bracket";if(vt=="=")return S="equals",null;if(vt=="<"){xt.tokenize=F,xt.state=nt,xt.tagName=xt.tagStart=null;var Kt=xt.tokenize(M,xt);return Kt?Kt+" tag error":"tag error"}else return/[\'\"]/.test(vt)?(xt.tokenize=I(vt),xt.stringStartCol=M.column(),xt.tokenize(M,xt)):(M.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function I(M){var xt=function(vt,Kt){for(;!vt.eol();)if(vt.next()==M){Kt.tokenize=A;break}return"string"};return xt.isInAttribute=!0,xt}function N(M,xt){return function(vt,Kt){for(;!vt.eol();){if(vt.match(xt)){Kt.tokenize=F;break}vt.next()}return M}}function Y(M){return function(xt,vt){for(var Kt;(Kt=xt.next())!=null;){if(Kt=="<")return vt.tokenize=Y(M+1),vt.tokenize(xt,vt);if(Kt==">")if(M==1){vt.tokenize=F;break}else return vt.tokenize=Y(M-1),vt.tokenize(xt,vt)}return"meta"}}function H(M){return M&&M.toLowerCase()}function K(M,xt,vt){this.prev=M.context,this.tagName=xt||"",this.indent=M.indented,this.startOfLine=vt,(b.doNotIndent.hasOwnProperty(xt)||M.context&&M.context.noIndent)&&(this.noIndent=!0)}function J(M){M.context&&(M.context=M.context.prev)}function U(M,xt){for(var vt;;){if(!M.context||(vt=M.context.tagName,!b.contextGrabbers.hasOwnProperty(H(vt))||!b.contextGrabbers[H(vt)].hasOwnProperty(H(xt))))return;J(M)}}function nt(M,xt,vt){return M=="openTag"?(vt.tagStart=xt.column(),gt):M=="closeTag"?mt:nt}function gt(M,xt,vt){return M=="word"?(vt.tagName=xt.current(),O="tag",ht):b.allowMissingTagName&&M=="endTag"?(O="tag bracket",ht(M,xt,vt)):(O="error",gt)}function mt(M,xt,vt){if(M=="word"){var Kt=xt.current();return vt.context&&vt.context.tagName!=Kt&&b.implicitlyClosed.hasOwnProperty(H(vt.context.tagName))&&J(vt),vt.context&&vt.context.tagName==Kt||b.matchClosing===!1?(O="tag",pt):(O="tag error",ct)}else return b.allowMissingTagName&&M=="endTag"?(O="tag bracket",pt(M,xt,vt)):(O="error",ct)}function pt(M,xt,vt){return M!="endTag"?(O="error",pt):(J(vt),nt)}function ct(M,xt,vt){return O="error",pt(M,xt,vt)}function ht(M,xt,vt){if(M=="word")return O="attribute",It;if(M=="endTag"||M=="selfcloseTag"){var Kt=vt.tagName,ie=vt.tagStart;return vt.tagName=vt.tagStart=null,M=="selfcloseTag"||b.autoSelfClosers.hasOwnProperty(H(Kt))?U(vt,Kt):(U(vt,Kt),vt.context=new K(vt,Kt,ie==vt.indented)),nt}return O="error",ht}function It(M,xt,vt){return M=="equals"?it:(b.allowMissing||(O="error"),ht(M,xt,vt))}function it(M,xt,vt){return M=="string"?Tt:M=="word"&&b.allowUnquoted?(O="string",ht):(O="error",ht(M,xt,vt))}function Tt(M,xt,vt){return M=="string"?Tt:ht(M,xt,vt)}return{startState:function(M){var xt={tokenize:F,state:nt,indented:M||0,tagName:null,tagStart:null,context:null};return M!=null&&(xt.baseIndent=M),xt},token:function(M,xt){if(!xt.tagName&&M.sol()&&(xt.indented=M.indentation()),M.eatSpace())return null;S=null;var vt=xt.tokenize(M,xt);return(vt||S)&&vt!="comment"&&(O=null,xt.state=xt.state(S||vt,M,xt),O&&(vt=O=="error"?vt+" error":O)),vt},indent:function(M,xt,vt){var Kt=M.context;if(M.tokenize.isInAttribute)return M.tagStart==M.indented?M.stringStartCol+1:M.indented+g;if(Kt&&Kt.noIndent)return r.Pass;if(M.tokenize!=A&&M.tokenize!=F)return vt?vt.match(/^(\s*)/)[0].length:0;if(M.tagName)return b.multilineTagIndentPastTag!==!1?M.tagStart+M.tagName.length+2:M.tagStart+g*(b.multilineTagIndentFactor||1);if(b.alignCDATA&&/<!\[CDATA\[/.test(xt))return 0;var ie=xt&&/^<(\/)?([\w_:\.-]*)/.exec(xt);if(ie&&ie[1])for(;Kt;)if(Kt.tagName==ie[2]){Kt=Kt.prev;break}else if(b.implicitlyClosed.hasOwnProperty(H(Kt.tagName)))Kt=Kt.prev;else break;else if(ie)for(;Kt;){var oe=b.contextGrabbers[H(Kt.tagName)];if(oe&&oe.hasOwnProperty(H(ie[2])))Kt=Kt.prev;else break}for(;Kt&&Kt.prev&&!Kt.startOfLine;)Kt=Kt.prev;return Kt?Kt.indent+g:M.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:b.htmlMode?"html":"xml",helperType:b.htmlMode?"html":"xml",skipAttribute:function(M){M.state==it&&(M.state=ht)},xmlCurrentTag:function(M){return M.tagName?{name:M.tagName,close:M.type=="closeTag"}:null},xmlCurrentContext:function(M){for(var xt=[],vt=M.context;vt;vt=vt.prev)xt.push(vt.tagName);return xt.reverse()}}}),r.defineMIME("text/xml","xml"),r.defineMIME("application/xml","xml"),r.mimeModes.hasOwnProperty("text/html")||r.defineMIME("text/html",{name:"xml",htmlMode:!0})})})()),Rg.exports}qE();var Ng={exports:{}},$g;function KE(){return $g||($g=1,(function(a,e){(function(r){r(Vs())})(function(r){r.defineMode("yaml",function(){var c=["true","false","on","off","yes","no"],d=new RegExp("\\b(("+c.join(")|(")+"))$","i");return{token:function(f,p){var g=f.peek(),b=p.escaped;if(p.escaped=!1,g=="#"&&(f.pos==0||/\s/.test(f.string.charAt(f.pos-1))))return f.skipToEnd(),"comment";if(f.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(p.literal&&f.indentation()>p.keyCol)return f.skipToEnd(),"string";if(p.literal&&(p.literal=!1),f.sol()){if(p.keyCol=0,p.pair=!1,p.pairStart=!1,f.match("---")||f.match("..."))return"def";if(f.match(/\s*-\s+/))return"meta"}if(f.match(/^(\{|\}|\[|\])/))return g=="{"?p.inlinePairs++:g=="}"?p.inlinePairs--:g=="["?p.inlineList++:p.inlineList--,"meta";if(p.inlineList>0&&!b&&g==",")return f.next(),"meta";if(p.inlinePairs>0&&!b&&g==",")return p.keyCol=0,p.pair=!1,p.pairStart=!1,f.next(),"meta";if(p.pairStart){if(f.match(/^\s*(\||\>)\s*/))return p.literal=!0,"meta";if(f.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(p.inlinePairs==0&&f.match(/^\s*-?[0-9\.\,]+\s?$/)||p.inlinePairs>0&&f.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(f.match(d))return"keyword"}return!p.pair&&f.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^\s,\[\]{}#&*!|>'"%@`])[^#:]*(?=:($|\s))/)?(p.pair=!0,p.keyCol=f.indentation(),"atom"):p.pair&&f.match(/^:\s*/)?(p.pairStart=!0,"meta"):(p.pairStart=!1,p.escaped=g=="\\",f.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:"#",fold:"indent"}}),r.defineMIME("text/x-yaml","yaml"),r.defineMIME("text/yaml","yaml")})})()),Ng.exports}KE();var Ig={exports:{}},zg;function UE(){return zg||(zg=1,(function(a,e){(function(r){r(Vs())})(function(r){r.defineOption("rulers",!1,function(d,f){d.state.rulerDiv&&(d.state.rulerDiv.parentElement.removeChild(d.state.rulerDiv),d.state.rulerDiv=null,d.off("refresh",c)),f&&f.length&&(d.state.rulerDiv=d.display.lineSpace.parentElement.insertBefore(document.createElement("div"),d.display.lineSpace),d.state.rulerDiv.className="CodeMirror-rulers",c(d),d.on("refresh",c))});function c(d){d.state.rulerDiv.textContent="";var f=d.getOption("rulers"),p=d.defaultCharWidth(),g=d.charCoords(r.Pos(d.firstLine(),0),"div").left;d.state.rulerDiv.style.minHeight=d.display.scroller.offsetHeight+30+"px";for(var b=0;b<f.length;b++){var C=document.createElement("div");C.className="CodeMirror-ruler";var x,S=f[b];typeof S=="number"?x=S:(x=S.column,S.className&&(C.className+=" "+S.className),S.color&&(C.style.borderColor=S.color),S.lineStyle&&(C.style.borderLeftStyle=S.lineStyle),S.width&&(C.style.borderLeftWidth=S.width)),C.style.left=g+x*p+"px",d.state.rulerDiv.appendChild(C)}}})})()),Ig.exports}UE();window.CodeMirror=YE;window.UIkit=UIkit;window.Rozier=new $E;const VE=a=>{document.readyState!=="loading"?a():document.addEventListener("DOMContentLoaded",a)};VE(()=>{window.Rozier.onDocumentReady()});(function(){for(const a in Kf)IE(a,Kf[a])})();export{YE as C,WC as F,cn as _,Hg as a,qE as b,GE as c,Nm as d,h0 as f,Rm as g,Fm as l,Vs as r,Cd as s};
