class o extends HTMLButtonElement{constructor(){super(),this.actionMenu=null,this.formToSave=null,this.onClick=this.onClick.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.binded=!1}connectedCallback(){if(this.actionMenu=document.querySelector(".rz-actions-menu"),!this.actionMenu){console.warn("RzSaveButton: No .actions-menu found in the document.");return}if(this.actionMenu!==this.parentElement){this.actionMenu.prepend(this);const t=this.querySelector(".rz-button__label");t&&t.remove();return}const e=this.getAttribute("data-action-save");if(e){if(this.formToSave=document.querySelector(e),!this.formToSave){console.warn(`RzSaveButton: No ${e} found in the document.`);return}this.addEventListener("click",this.onClick),window.addEventListener("keydown",this.onKeyDown),this.binded=!0}}disconnectedCallback(){this.binded&&(this.removeEventListener("click",this.onClick),window.removeEventListener("keydown",this.onKeyDown))}onKeyDown(e){if(this.formToSave&&(e.metaKey||e.ctrlKey)&&e.key==="s")return e.preventDefault(),this.formToSave.requestSubmit(),!1}onClick(){this.formToSave.requestSubmit()}}export{o as default};
