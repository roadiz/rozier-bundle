class s extends HTMLElement{constructor(){super(),this.storageKey="rz-color-scheme",this.onCommand=this.onCommand.bind(this)}onCommand(e){switch(e.command){case"--update-color-scheme":this.onButtonClick(e);break}}onButtonClick(e){const t=e.source.getAttribute("data-value")||void 0;this.updateSelectedButton(e.command,t),this.updateColorScheme(t)}updateColorScheme(e){if(!e||e==="system"){document.documentElement.removeAttribute("data-theme"),localStorage.removeItem(this.storageKey);return}document.documentElement.setAttribute("data-theme",e),localStorage.setItem(this.storageKey,e)}updateSelectedButton(e,o){this.querySelectorAll(`button[command='${e}']`).forEach(t=>{t.getAttribute("data-value")===o?(t.setAttribute("aria-current","true"),t.classList.add("rz-dropdown__item--selected")):(t.removeAttribute("aria-current"),t.classList.remove("rz-dropdown__item--selected"))})}connectedCallback(){this.addEventListener("command",this.onCommand);const e=localStorage.getItem(this.storageKey);(e==="light"||e==="dark")&&(this.updateSelectedButton("--update-color-scheme",e),this.updateColorScheme(e))}disconnectedCallback(){this.removeEventListener("command",this.onCommand)}}export{s as default};
