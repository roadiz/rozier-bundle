import{a as l,P as v}from"./Popover-BrqRB6W9.js";import{l as u}from"./main-CcgTb0a3.js";const o={text:"tooltip-text",...l},m=Object.values(o);function h(s){return s.getAttribute(o.text)||s.getAttribute("title")}class E{constructor(t,e){this.popoverInstance=null,t.hasAttribute(o.placement)||t.setAttribute(o.placement,"top"),t.hasAttribute(o.offset)||t.setAttribute(o.offset,"4");const r=t.querySelector("[popovertarget]")||t,i=r?.getAttribute("popovertarget")||u.uniqueId("rz-tooltip-");r?.hasAttribute("popovertarget")||r.setAttribute("popovertarget",i);const a=t.querySelector("[popover]"),n=h(t);if(t.hasAttribute("title")&&t.removeAttribute("title"),n&&!a){const p=this.createTooltipElement(n);p.id=i,t.appendChild(p)}this.popoverInstance=new v(t,e),this.open=this.open.bind(this),this.close=this.close.bind(this),this.initListeners()}createTooltipElement(t){const e=document.createElement("div");return e.classList.add("rz-tooltip__content"),e.setAttribute("popover","hint"),e.setAttribute("role","tooltip"),e.textContent=t,e}updateOptions(){this.popoverInstance?.updateOptions()}close(){this.popoverInstance?.popoverElement?.hidePopover()}open(){this.popoverInstance?.popoverElement?.showPopover()}initListeners(){const t=this.popoverInstance?.targetElement;t?.addEventListener("mouseenter",this.open),t?.addEventListener("focus",this.open),t?.addEventListener("mouseleave",this.close),t?.addEventListener("blur",this.close)}destroy(){const t=this.popoverInstance?.targetElement;t?.removeEventListener("mouseenter",this.open),t?.removeEventListener("focus",this.open),t?.removeEventListener("mouseleave",this.close),t?.removeEventListener("blur",this.close),this.popoverInstance?.destroy(),this.popoverInstance=null}}export{m as A,E as T,o as a,h as g};
